/*
 Asciidoctor.js 2.2.6 | MIT | https://github.com/asciidoctor/asciidoctor.js
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var t=0;return function(){return t<b.length?{done:!1,value:b[t++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var t="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return t?t.call(b):$jscomp.arrayIterator(b)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,t,B){b!=Array.prototype&&b!=Object.prototype&&(b[t]=B.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,t,B,A){if(t){B=$jscomp.global;b=b.split(".");for(A=0;A<b.length-1;A++){var u=b[A];u in B||(B[u]={});B=B[u]}b=b[b.length-1];A=B[b];t=t(A);t!=A&&null!=t&&$jscomp.defineProperty(B,b,{configurable:!0,writable:!0,value:t})}};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},t={};try{return t.__proto__=b,t.a}catch(B){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,t){b.__proto__=t;if(b.__proto__!==t)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.polyfill("Object.setPrototypeOf",function(b){return b||$jscomp.setPrototypeOf},"es6","es5");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,t){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var B=0,A={next:function(){if(B<b.length){var u=B++;return{value:t(u,b[u]),done:!1}}A.next=function(){return{done:!0,value:void 0}};return A.next()}};A[Symbol.iterator]=function(){return A};return A};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,t){return Object.prototype.hasOwnProperty.call(b,t)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,t){for(var B=1;B<arguments.length;B++){var A=arguments[B];if(A)for(var u in A)$jscomp.owns(A,u)&&(b[u]=A[u])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");$jscomp.polyfill("Number.EPSILON",function(b){return Math.pow(2,-52)},"es6","es3");
$jscomp.checkStringArgs=function(b,t,B){if(null==b)throw new TypeError("The 'this' value for String.prototype."+B+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+B+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(b,B){var t=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===B&&(B=t.length);B=Math.max(0,Math.min(B|0,t.length));for(var u=b.length;0<u&&0<B;)if(t[--B]!=b[--u])return!1;return 0>=u}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,B){return b===B?0!==b||1/b===1/B:b!==b&&B!==B}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,B){var t=this;t instanceof String&&(t=String(t));var u=t.length;B=B||0;for(0>B&&(B=Math.max(B+u,0));B<u;B++){var q=t[B];if(q===b||Object.is(q,b))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,B){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,B||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(b){return b?b:function(b){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var A="";b;)if(b&1&&(A+=t),b>>>=1)t+=t;return A}},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,B,A){B=null!=B?B:function(b){return b};var u=[],q="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof q){b=q.call(b);for(var g=0;!(q=b.next()).done;)u.push(B.call(A,q.value,g++))}else for(q=b.length,g=0;g<q;g++)u.push(B.call(A,b[g],g));return u}},"es6","es3");
(function(b){function t(a,b,E){"string"===typeof a?a[b]=E:Object.defineProperty(a,b,{value:E,enumerable:!1,configurable:!0,writable:!0})}function B(a,b){if(a)return a.$$const[b]}function A(a,b){var d;if(null!=a){var v=k.ancestors(a);a=0;for(d=v.length;a<d;a++)if(v[a].$$const&&sa.call(v[a].$$const,b))return v[a].$$const[b]}}function u(a,b,E){if(!E)return(a||M).$const_missing(b)}function q(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function g(a){var b=J(a);a.$$is_module&&a.$$iclasses.push(b);
return b}function J(a){var b={},d=a.$$prototype;d.hasOwnProperty("$$dummy")&&(d=d.$$define_methods_on);var O=Object.getOwnPropertyNames(d),p=O.length,h;for(h=0;h<p;h++){var e=O[h];t(b,e,d[e])}t(b,"$$iclass",!0);t(b,"$$module",a);return b}function l(a){var b=a.length,d=a[0];t(d,"$$root",!0);if(1===b)return{first:d,last:d};for(var O=1;O<b;O++){var p=a[O];D(d,p);d=p}return{first:a[0],last:a[b-1]}}function G(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;if(a.hasOwnProperty("$$class"))return a.$$class}}
function y(a){return"function"===typeof a&&!a.$$stub}var m=this;"undefined"!==typeof global&&(m=global);"undefined"!==typeof window&&(m=window);var Q="object"===typeof m.console?m.console:null==m.console?m.console={}:{};"log"in Q||(Q.log=function(){});"warn"in Q||(Q.warn=Q.log);if("undefined"!==typeof m.Opal)return Q.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),m.Opal;var P,M,K,k=this.Opal={};k.global=m;m.Opal=k;k.config={missing_require_severity:"error",unsupported_features_severity:"warning",
enable_stack_trace:!0};var sa=Object.hasOwnProperty,S=Function.prototype.bind,D=Object.setPrototypeOf,H=Array.prototype.slice,ia=Array.prototype.splice,X=4;k.uid=function(){return X+=2};k.id=function(a){if(a.$$is_number)return 2*a+1;if(null!=a.$$id)return a.$$id;t(a,"$$id",k.uid());return a.$$id};k.gvars={};k.exit=function(a){k.gvars.DEBUG&&Q.log("Exited with status "+a)};k.exceptions=[];k.pop_exception=function(){k.gvars["!"]=k.exceptions.pop()||a};k.inspect=function(a){return a===b?"undefined":
null===a?"null":a.$$class?a.$inspect():a.toString()};k.defineProperty=t;k.slice=H;k.truthy=function(b){return b!==a&&null!=b&&(!b.$$is_boolean||1==b)};k.falsy=function(b){return b===a||null==b||b.$$is_boolean&&0==b};k.const_get_local=function(a,b,E){if(null!=a){"::"===a&&(a=M);if(!a.$$is_module&&!a.$$is_class)throw new k.TypeError(a.toString()+" is not a class/module");var d=B(a,b);if(null!=d)return d;d=u(a,b,E);if(null!=d)return d}};k.const_get_qualified=function(a,b,E){var d,v=k.const_cache_version;
if(null!=a){"::"===a&&(a=M);if(!a.$$is_module&&!a.$$is_class)throw new k.TypeError(a.toString()+" is not a class/module");null==(d=a.$$const_cache)&&(t(a,"$$const_cache",Object.create(null)),d=a.$$const_cache);var h=d[b];null==h||h[0]!==v?(null!=(h=B(a,b))||null!=(h=A(a,b)),d[b]=[v,h]):h=h[1];return null!=h?h:u(a,b,E)}};k.const_cache_version=1;k.const_get_relative=function(a,b,E){var d=a[0],v=k.const_cache_version,h;null==(h=a.$$const_cache)&&(t(a,"$$const_cache",Object.create(null)),h=a.$$const_cache);
var e=h[b];if(null==e||e[0]!==v){var z;if(!(z=null!=(e=B(d,b)))){a:{if(0!==a.length)for(e=0,z=a.length;e<z;e++){var r=a[e].$$const[b];if(null!=r){a=r;break a}}a=void 0}z=null!=(e=a)}z||null!=(e=A(d,b))||(a=null==d||d.$$is_module?A(M,b):void 0,null!=(e=a));h[b]=[v,e]}else e=e[1];return null!=e?e:u(d,b,E)};k.const_set=function(b,v,E){if(null==b||"::"===b)b=M;if(E.$$is_a_module){if(null==E.$$name||E.$$name===a)E.$$name=v;null==E.$$base_module&&(E.$$base_module=b)}b.$$const=b.$$const||Object.create(null);
b.$$const[v]=E;b.$$=b.$$const;k.const_cache_version++;b===M&&(k[v]=E);t(b,v,E);return E};k.constants=function(a,b){null==b&&(b=!0);var d=[a],v,p={},h;b&&(d=d.concat(k.ancestors(a)));b&&a.$$is_module&&(d=d.concat([k.Object]).concat(k.ancestors(k.Object)));var e=0;for(v=d.length;e<v;e++){b=d[e];if(a!==M&&b==M)break;for(h in b.$$const)p[h]=!0}return Object.keys(p)};k.const_remove=function(b,v){k.const_cache_version++;if(null!=b.$$const[v]){var d=b.$$const[v];delete b.$$const[v];return d}if(null!=b.$$autoload&&
null!=b.$$autoload[v])return delete b.$$autoload[v],a;throw k.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};k.allocate_class=function(a,b){var d=null!=b&&b.$$bridge?function(){var a=H.call(arguments);a=new (S.apply(b.$$constructor,[null].concat(a)));D(a,v.$$prototype);return a}:function(){};a&&t(d,"displayName","::"+a);var v=d;t(v,"$$name",a);t(v,"$$constructor",d);t(v,"$$prototype",d.prototype);t(v,"$$const",{});t(v,"$$is_class",!0);t(v,"$$is_a_module",!0);t(v,"$$super",b);t(v,"$$cvars",
{});t(v,"$$own_included_modules",[]);t(v,"$$own_prepended_modules",[]);t(v,"$$ancestors",[]);t(v,"$$ancestors_cache_version",null);t(v.$$prototype,"$$class",v);k.Class&&D(v,k.Class.prototype);null!=b&&(D(v.$$prototype,b.$$prototype),b.$$meta&&k.build_class_singleton_class(v));return v};k.klass=function(a,b,E){null==a?a=M:a.$$is_class||a.$$is_module||(a=a.$$class);if(null!=b&&!b.hasOwnProperty("$$is_class")){var d=b;b=M}var v;if(v=B(a,E)){if(!v.$$is_class)throw k.TypeError.$new(E+" is not a class");
}else v=void 0;if(v){if(b&&v.$$super!==b)throw k.TypeError.$new("superclass mismatch for class "+v.$$name);return v}null==b&&(b=M);v=k.allocate_class(E,b);k.const_set(a,E,v);b.$inherited&&b.$inherited(v);d&&k.bridge(d,v);return v};k.allocate_module=function(a){var b=function(){};a&&t(b,"displayName",a+".$$constructor");a&&t(b,"displayName",a+".constructor");t(b,"$$name",a);t(b,"$$prototype",b.prototype);t(b,"$$const",{});t(b,"$$is_module",!0);t(b,"$$is_a_module",!0);t(b,"$$cvars",{});t(b,"$$iclasses",
[]);t(b,"$$own_included_modules",[]);t(b,"$$own_prepended_modules",[]);t(b,"$$ancestors",[b]);t(b,"$$ancestors_cache_version",null);D(b,k.Module.prototype);return b};k.module=function(a,b){null==a?a=M:a.$$is_class||a.$$is_module||(a=a.$$class);var d=a;var v=B(d,b);null==v&&d===M&&(v=A(M,b));if(v&&!v.$$is_module&&v!==M)throw k.TypeError.$new(b+" is not a module");if(d=v)return d;d=k.allocate_module(b);k.const_set(a,b,d);return d};k.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.hasOwnProperty("$$is_class")?
k.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?k.build_module_singletin_class(a):k.build_object_singleton_class(a)};k.build_class_singleton_class=function(a){if(a.$$meta)return a.$$meta;var b=a===P?K:k.get_singleton_class(a.$$super);b=k.allocate_class(null,b,function(){});t(b,"$$is_singleton",!0);t(b,"$$singleton_of",a);t(a,"$$meta",b);D(a,b.$$prototype);t(a,"$$class",k.Class);return b};k.build_module_singletin_class=function(a){if(a.$$meta)return a.$$meta;var b=k.allocate_class(null,
k.Module,function(){});t(b,"$$is_singleton",!0);t(b,"$$singleton_of",a);t(a,"$$meta",b);D(a,b.$$prototype);t(a,"$$class",k.Module);return b};k.build_object_singleton_class=function(b){var d=k.allocate_class(a,b.$$class,function(){});t(d,"$$is_singleton",!0);t(d,"$$singleton_of",b);delete d.$$prototype.$$class;t(b,"$$meta",d);D(b,b.$$meta.$$prototype);return d};k.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};k.instance_methods=function(a){var b=[],d=[];a=k.ancestors(a);for(var O=0,p=a.length;O<
p;O++){var h=a[O].$$prototype;h.hasOwnProperty("$$dummy")&&(h=h.$$define_methods_on);for(var e=Object.getOwnPropertyNames(h),z=0,r=e.length;z<r;z++){var g=e[z];if(k.is_method(g)){var F=g.slice(1);g=h[g];g.$$stub&&-1===b.indexOf(F)&&b.push(F);g.$$stub||-1!==d.indexOf(F)||-1!==b.indexOf(F)||d.push(F)}}}return d};k.own_instance_methods=function(a){var b=[];a=a.$$prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var d=Object.getOwnPropertyNames(a),O=0,p=d.length;O<p;O++){var h=d[O];
k.is_method(h)&&!a[h].$$stub&&(h=h.slice(1),b.push(h))}return b};k.methods=function(a){return k.instance_methods(k.get_singleton_class(a))};k.own_methods=function(a){return k.own_instance_methods(k.get_singleton_class(a))};k.receiver_methods=function(a){var b=k.get_singleton_class(a);a=k.own_instance_methods(b);b=k.own_instance_methods(b.$$super);return a.concat(b)};k.class_variables=function(a){a=k.ancestors(a);var b,d={};for(b=a.length-1;0<=b;b--){var O=a[b],p;for(p in O.$$cvars)d[p]=O.$$cvars[p]}return d};
k.class_variable_set=function(a,b,E){var d=k.ancestors(a),v;for(v=d.length-2;0<=v;v--){var h=d[v];if(sa.call(h.$$cvars,b))return h.$$cvars[b]=E}return a.$$cvars[b]=E};k.append_features=function(a,b){var d=k.ancestors(a),v=[];if(-1!==d.indexOf(b))throw k.ArgumentError.$new("cyclic include detected");for(var p=0,h=d.length;p<h;p++){var e=g(d[p]);t(e,"$$included",!0);v.push(e)}d=k.ancestors(b);v=l(v);if(-1===d.indexOf(a))a=b.$$prototype,d=Object.getPrototypeOf(b.$$prototype);else{d=b.$$prototype;for(p=
Object.getPrototypeOf(d);null!=p&&(!q(p)||p.$$module!==a);)d=p,p=Object.getPrototypeOf(p);for(p=Object.getPrototypeOf(p);p.hasOwnProperty("$$iclass")&&!q(p);)p=Object.getPrototypeOf(p);a=d;d=p}D(a,v.first);D(v.last,d);a=[];for(d=Object.getPrototypeOf(b.$$prototype);d&&!d.hasOwnProperty("$$class");)(v=G(d))&&a.push(v),d=Object.getPrototypeOf(d);b.$$own_included_modules=a;k.const_cache_version++};k.prepend_features=function(a,b){var d=k.ancestors(a),v=[];if(-1!==d.indexOf(b))throw k.ArgumentError.$new("cyclic prepend detected");
for(var p=0,h=d.length;p<h;p++){var e=g(d[p]);t(e,"$$prepended",!0);v.push(e)}d=l(v);p=b.$$prototype;h=Object.getPrototypeOf(p);if(p.hasOwnProperty("$$dummy"))v=p.$$define_methods_on;else{v=J(b);e=b.$$prototype;for(var z=Object.getOwnPropertyNames(e),r=0;r<z.length;r++){var U=z[r];k.is_method(U)&&delete e[U]}t(p,"$$dummy",!0);t(p,"$$define_methods_on",v);D(p,v);D(v,h)}if(-1===k.ancestors(b).indexOf(a))for(a=p,p=Object.getPrototypeOf(p);null!=p&&!p.hasOwnProperty("$$root")&&p!==v&&p.hasOwnProperty("$$iclass");)p=
Object.getPrototypeOf(p);else throw k.RuntimeError.$new("Prepending a module multiple times is not supported");D(a,d.first);D(d.last,p);a=[];v=Object.getPrototypeOf(b.$$prototype);if(b.$$prototype.hasOwnProperty("$$dummy"))for(;v&&v!==b.$$prototype.$$define_methods_on;)(d=G(v))&&a.push(d),v=Object.getPrototypeOf(v);b.$$own_prepended_modules=a;k.const_cache_version++};k.bridge=function(a,b){if(a.hasOwnProperty("$$bridge"))throw k.ArgumentError.$new("already bridged");t(a,"$$bridge",b);D(a.prototype,
(b.$$super||k.Object).$$prototype);t(b,"$$prototype",a.prototype);t(b.$$prototype,"$$class",b);t(b,"$$constructor",a);t(b,"$$bridge",!0)};k.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===k.const_cache_version)return a.$$ancestors;var b=[],d;var O=0;var p=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(d=p.length;O<d;O++)b.push(p[O]);if(a.$$super)for(O=0,p=k.ancestors(a.$$super),d=p.length;O<d;O++)b.push(p[O]);a.$$ancestors_cache_version=k.const_cache_version;
return a.$$ancestors=b};k.included_modules=function(a){for(var b=[],d=Object.getPrototypeOf(a.$$prototype);d&&Object.getPrototypeOf(d);d=Object.getPrototypeOf(d))(a=G(d))&&a.$$is_module&&d.$$iclass&&d.$$included&&b.push(a);return b};k.add_stubs=function(a){for(var b=k.BasicObject.$$prototype,d=0,O=a.length;d<O;d++){var p=a[d],h=b[p];(null==h||h.$$stub)&&k.add_stub_for(b,p)}};k.add_stub_for=function(a,b){var d=k.stub_for(b);t(a,b,d)};k.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;
b.$$p=null;for(var d=Array(arguments.length),v=0,p=d.length;v<p;v++)d[v]=arguments[v];return this.$method_missing.apply(this,[a.slice(1)].concat(d))}b.$$stub=!0;return b};k.ac=function(a,b,E,O){var d="";d=E.$$is_a_module?d+(E.$$name+"."):d+(E.$$class.$$name+"#");throw k.ArgumentError.$new("["+(d+O)+"] wrong number of arguments("+a+" for "+b+")");};k.block_ac=function(a,b,E){throw k.ArgumentError.$new("`block in "+E+"': wrong number of arguments ("+a+" for "+b+")");};k.find_super_dispatcher=function(a,
b,E,O,p){p="$"+b;var d;var e=a.hasOwnProperty("$$meta")?k.ancestors(a.$$meta):k.ancestors(a.$$class);for(E=e.indexOf(E.$$owner)+1;E<e.length;E++){var v=e[E].$$prototype;v.hasOwnProperty("$$dummy")&&(v=v.$$define_methods_on);if(v.hasOwnProperty(p)){p=v[p];p.$$stub||(d=p);break}}if(!O&&null==d&&k.Kernel.$method_missing===a.$method_missing)throw k.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return d};k.find_iter_super_dispatcher=function(a,b,E,O,p){if(!E)throw k.RuntimeError.$new("super called outside of method");
if(p&&E.$$define_meth)throw k.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");E.$$def&&(b=E.$$jsid);return k.find_super_dispatcher(a,b,E,O)};k.ret=function(a){k.returner.$v=a;throw k.returner;};k.brk=function(a,b){b.$v=a;throw b;};k.new_brk=function(){return Error("unexpected break")};k.yield1=function(a,b){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");var d=a.$$has_top_level_mlhs_arg,
v=a.$$has_trailing_comma_in_args;if(1<a.length||(d||v)&&1===a.length)b=k.to_ary(b);return(1<a.length||v&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};k.yieldX=function(a,b){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var d=Array(b.length),v=0,p=d.length;v<p;v++)d[v]=b[v];return a.apply(null,d)}return a.apply(null,b)};k.rescue=function(a,b){for(var d=0;d<b.length;d++){var v=
b[d];if(v.$$is_array){if(v=k.rescue(a,v))return v}else if(v===k.JS.Error||v["$==="](a))return v}return null};k.is_a=function(a,b){if(null!=b&&a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var d,v=k.ancestors(a.$$is_class?k.get_singleton_class(a):a.$$meta||a.$$class);a=0;for(d=v.length;a<d;a++)if(v[a]===b)return!0;return!1};k.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw k.TypeError.$new("Can't convert "+
a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw k.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};k.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",!0)){var d=b.$to_ary();if(d===a)return[b];if(d.$$is_array)return d;throw k.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+d.$$class+")");}return[b]};k.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var d=b.$to_a();
if(d===a)return[b];if(d.$$is_array)return d;throw k.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+d.$$class+")");}return[b]};k.extract_kwargs=function(a){var b=a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(ia.call(a,a.length-1,1),b.$to_hash()):k.hash2([],{})};k.kwrestargs=function(a,b){var d=[],v={},p=null;a=a.$$smap;for(p in a)b[p]||(d.push(p),v[p]=a[p]);return k.hash2(d,v)};k.send=function(a,b,E,O){var d="string"===typeof b?a["$"+b]:b;return null!=
d?("function"===typeof O&&(d.$$p=O),d.apply(a,E)):a.$method_missing.apply(a,[b].concat(E))};k.lambda=function(a){a.$$is_lambda=!0;return a};k.def=function(a,b,E){a===k.top?k.defn(k.Object,b,E):!a.$$eval&&a.$$is_a_module?k.defn(a,b,E):k.defs(a,b,E)};k.defn=function(a,b,E){E.displayName=b;E.$$owner=a;var d=a.$$prototype;d.hasOwnProperty("$$dummy")&&(d=d.$$define_methods_on);t(d,b,E);if(a.$$is_module){a.$$module_function&&k.defs(a,b,E);d=0;for(var p=a.$$iclasses,h=p.length;d<h;d++)t(p[d],b,E)}E=a.$$singleton_of;
!a.$method_added||a.$method_added.$$stub||E?E&&E.$singleton_method_added&&!E.$singleton_method_added.$$stub&&E.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1))};k.defs=function(a,b,E){if(a.$$is_string||a.$$is_number)throw k.TypeError.$new("can't define singleton");k.defn(k.get_singleton_class(a),b,E)};k.rdef=function(a,b){if(!sa.call(a.$$prototype,b))throw k.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$prototype[b];a.$$is_singleton?a.$$prototype.$singleton_method_removed&&
!a.$$prototype.$singleton_method_removed.$$stub&&a.$$prototype.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};k.udef=function(a,b){if(!a.$$prototype[b]||a.$$prototype[b].$$stub)throw k.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());k.add_stub_for(a.$$prototype,b);a.$$is_singleton?a.$$prototype.$singleton_method_undefined&&!a.$$prototype.$singleton_method_undefined.$$stub&&a.$$prototype.$singleton_method_undefined(b.substr(1)):
a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};k.alias=function(a,b,E){var d="$"+b,p="$"+E,h=a.$$prototype["$"+E];if(a.$$eval)return k.alias(k.get_singleton_class(a),b,E);if(!y(h)){for(var e=a.$$super;"function"!==typeof h&&e;)h=e[p],e=e.$$super;!y(h)&&a.$$is_module&&(h=k.Object.$$prototype[p]);if(!y(h))throw k.NameError.$new("undefined method `"+E+"' for class `"+a.$name()+"'");}h.$$alias_of&&(h=h.$$alias_of);var v=function(){var a=v.$$p,b;var e=Array(arguments.length);
var d=0;for(b=arguments.length;d<b;d++)e[d]=arguments[d];null!=a&&(v.$$p=null);return k.send(this,h,e,a)};v.displayName=b;v.length=h.length;v.$$arity=h.$$arity;v.$$parameters=h.$$parameters;v.$$source_location=h.$$source_location;v.$$alias_of=h;v.$$alias_name=b;k.defn(a,d,v);return a};k.alias_native=function(a,b,E){b="$"+b;var d=a.$$prototype[E];if("function"!==typeof d||d.$$stub)throw k.NameError.$new("undefined native method `"+E+"' for class `"+a.$name()+"'");k.defn(a,b,d);return a};k.hash_init=
function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};k.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;var d=0,v=a.$$keys;a=a.$$smap;for(var p=v.length,h,e;d<p;d++)h=v[d],h.$$is_string?e=a[h]:(e=h.value,h=h.key),k.hash_put(b,h,e)};k.hash_put=function(a,v,E){if(v.$$is_string)sa.call(a.$$smap,v)||a.$$keys.push(v),a.$$smap[v]=E;else{var d;var p=a.$$by_identity?k.id(v):v.$hash();if(sa.call(a.$$map,p)){for(d=a.$$map[p];d;){if(v===d.key||v["$eql?"](d.key)){var h=
b;d.value=E;break}h=d;d=d.next}h&&(d={key:v,key_hash:p,value:E},a.$$keys.push(d),h.next=d)}else d={key:v,key_hash:p,value:E},a.$$keys.push(d),a.$$map[p]=d}};k.hash_get=function(a,b){if(b.$$is_string){if(sa.call(a.$$smap,b))return a.$$smap[b]}else{var d=a.$$by_identity?k.id(b):b.$hash();if(sa.call(a.$$map,d))for(a=a.$$map[d];a;){if(b===a.key||b["$eql?"](a.key))return a.value;a=a.next}}};k.hash_delete=function(a,b){var d,v=a.$$keys,p=v.length;if(b.$$is_string){if(!sa.call(a.$$smap,b))return;for(d=0;d<
p;d++)if(v[d]===b){v.splice(d,1);break}var h=a.$$smap[b];delete a.$$smap[b];return h}var e=b.$hash();if(sa.call(a.$$map,e))for(var k=a.$$map[e],r;k;){if(b===k.key||b["$eql?"](k.key)){h=k.value;for(d=0;d<p;d++)if(v[d]===k){v.splice(d,1);break}r&&k.next?r.next=k.next:r?delete r.next:k.next?a.$$map[e]=k.next:delete a.$$map[e];return h}r=k;k=k.next}};k.hash_rehash=function(a){for(var d=0,E=a.$$keys.length,k,p,h;d<E;d++)if(!a.$$keys[d].$$is_string&&(k=a.$$keys[d].key.$hash(),k!==a.$$keys[d].key_hash)){p=
a.$$map[a.$$keys[d].key_hash];for(h=b;p;){if(p===a.$$keys[d]){h&&p.next?h.next=p.next:h?delete h.next:p.next?a.$$map[a.$$keys[d].key_hash]=p.next:delete a.$$map[a.$$keys[d].key_hash];break}h=p;p=p.next}a.$$keys[d].key_hash=k;if(sa.call(a.$$map,k)){p=a.$$map[k];for(h=b;p;){if(p===a.$$keys[d]){h=b;break}h=p;p=p.next}h&&(h.next=a.$$keys[d])}else a.$$map[k]=a.$$keys[d]}};k.hash=function(){var a=arguments.length,b;if(1===a&&arguments[0].$$is_hash)return arguments[0];var E=new k.Hash;k.hash_init(E);if(1===
a&&arguments[0].$$is_array){a=arguments[0];var O=a.length;for(b=0;b<O;b++){if(2!==a[b].length)throw k.ArgumentError.$new("value not of length 2: "+a[b].$inspect());var p=a[b][0];var h=a[b][1];k.hash_put(E,p,h)}return E}if(1===a){a=arguments[0];for(p in a)sa.call(a,p)&&(h=a[p],k.hash_put(E,p,h));return E}if(0!==a%2)throw k.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)p=arguments[b],h=arguments[b+1],k.hash_put(E,p,h);return E};k.hash2=function(a,b){var d=new k.Hash;d.$$smap=
b;d.$$map=Object.create(null);d.$$keys=a;return d};k.range=function(a,b,E){var d=new k.Range;d.begin=a;d.end=b;d.excl=E;return d};k.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};k.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};k.global_regexp=
function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};k.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};k.modules={};k.loaded_features=["corelib/runtime"];k.current_dir=".";k.require_table={"corelib/runtime":!0};
k.normalize=function(a){var b=[];"."!==k.current_dir&&(a=k.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,O=a.length;d<O;d++){var p=a[d];""!==p&&(".."===p?b.pop():b.push(p))}return b.join("/")};k.loaded=function(a){var b;var d=0;for(b=a.length;d<b;d++){var O=k.normalize(a[d]);k.require_table[O]||(k.loaded_features.push(O),k.require_table[O]=!0)}};k.load=function(a){a=k.normalize(a);k.loaded([a]);var b=k.modules[a];if(b)b(k);
else{b=k.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(k.LoadError)throw k.LoadError.$new(a);throw a;}"warning"===b&&Q.warn("WARNING: LoadError: "+a)}return!0};k.require=function(a){a=k.normalize(a);return k.require_table[a]?!1:k.load(a)};k.encodings=Object.create(null);k.set_encoding=function(a,b){if("string"===typeof a)throw k.FrozenError.$new("can't modify frozen String");b=k.encodings[b];if(b===a.encoding)return a;a.encoding=b;return a};k.enc=function(a,b){a=
new String(a);k.set_encoding(a,b);a.internal_encoding=a.encoding;return a};k.BasicObject=P=k.allocate_class("BasicObject",null,function(){});k.Object=M=k.allocate_class("Object",k.BasicObject,function(){});k.Module=m=k.allocate_class("Module",k.Object,function(){});k.Class=K=k.allocate_class("Class",k.Module,function(){});D(k.BasicObject,k.Class.$$prototype);D(k.Object,k.Class.$$prototype);D(k.Module,k.Class.$$prototype);D(k.Class,k.Class.$$prototype);P.$$const.BasicObject=P;k.const_set(M,"BasicObject",
P);k.const_set(M,"Object",M);k.const_set(M,"Module",m);k.const_set(M,"Class",K);P.$$class=K;M.$$class=K;m.$$class=K;K.$$class=K;t(M.$$prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});t(M.$$prototype,"$require",k.require);k.$$=M.$$;k.top=new M;k.top.$to_s=k.top.$inspect=function(){return"main"};k.NilClass=k.allocate_class("NilClass",k.Object,function(){});k.const_set(M,"NilClass",k.NilClass);var a=k.nil=new k.NilClass;a.$$id=4;a.call=a.apply=
function(){throw k.LocalJumpError.$new("no block given");};k.breaker=Error("unexpected break (old)");k.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.module,q=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(g,t){g=u(g,"Opal");var l=[g].concat(t),G,y,m,Q,P,M,K,k,J,S,D,H,ia,X;b.defs(g,"$bridge",G=function(a,d){return b.bridge(a,d)},G.$$arity=2);b.defs(g,"$type_error",y=function(a,b,v,E){var d;null==v&&(v=B);null==E&&(E=B);return q(q(d=v)?E:d)?A(l,"TypeError").$new("can't convert "+
a.$class()+" into "+b+" ("+a.$class()+"#"+v+" gives "+E.$class()+")"):A(l,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},y.$$arity=-3);b.defs(g,"$coerce_to",m=function(a,b,v){if(q(b["$==="](a)))return a;q(a["$respond_to?"](v))||this.$raise(this.$type_error(a,b));return a.$__send__(v)},m.$$arity=3);b.defs(g,"$coerce_to!",Q=function(a,b,v){var d=this.$coerce_to(a,b,v);q(b["$==="](d))||this.$raise(this.$type_error(a,b,v,d));return d},Q.$$arity=3);b.defs(g,"$coerce_to?",P=function(a,
b,v){if(!q(a["$respond_to?"](v)))return B;var d=this.$coerce_to(a,b,v);if(q(d["$nil?"]()))return B;q(b["$==="](d))||this.$raise(this.$type_error(a,b,v,d));return d},P.$$arity=3);b.defs(g,"$try_convert",M=function(a,b,v){return q(b["$==="](a))?a:q(a["$respond_to?"](v))?a.$__send__(v):B},M.$$arity=3);b.defs(g,"$compare",K=function(a,b){var d=a["$<=>"](b);q(d===B)&&this.$raise(A(l,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return d},K.$$arity=2);b.defs(g,"$destructure",
k=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),v=0,k=b.length;v<k;v++)b[v]=a[v];return b},k.$$arity=1);b.defs(g,"$respond_to?",J=function(a,b,v){null==v&&(v=!1);return null!=a&&a.$$class?a["$respond_to?"](b,v):!1},J.$$arity=-3);b.defs(g,"$inspect_obj",S=function(a){return b.inspect(a)},S.$$arity=1);b.defs(g,"$instance_variable_name!",D=function(a){a=A(l,"Opal")["$coerce_to!"](a,A(l,"String"),"to_str");q(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(A(l,
"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},D.$$arity=1);b.defs(g,"$class_variable_name!",H=function(a){a=A(l,"Opal")["$coerce_to!"](a,A(l,"String"),"to_str");q(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(A(l,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},H.$$arity=1);b.defs(g,"$const_name!",ia=function(a){a=A(l,"Opal")["$coerce_to!"](a,A(l,"String"),"to_str");q(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(A(l,
"NameError"),"wrong constant name "+a);return a},ia.$$arity=1);b.defs(g,"$pristine",X=function(a,d){var v=b.slice.call(arguments,1,arguments.length);for(var k,O=v.length-1;0<=O;O--)k=v[O],(k=a.$$prototype["$"+k])&&!k.$$stub&&(k.$$pristine=!0);return B},X.$$arity=-2)}(t[0],t)};
Opal.modules["corelib/module"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var B=[],A=b.nil,u=b.const_get_qualified,q=b.const_get_relative,g=b.klass,J=b.send,l=b.truthy,G=b.lambda,y=b.range,m=b.hash2;b.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(Q,$super,M){Q=g(Q,$super,"Module");var K=[Q].concat(M),k,B,S,D,H,ia,X,a,d,v,E,O,p,h,e,z,r,U,F,n,c,f,W,aa,pa,L,R,ba,x,ca,da,ya,ea,xa,ta,T,fa,Ba,La,Ea,ja,wa,ra,I,V,ka,Ja,Ca,Na,na,qa,Ma,Ua,Ta,Ra,la,va,ha;b.defs(Q,"$allocate",k=function(){var a=b.allocate_module(A,function(){});this!==b.Module&&Object.setPrototypeOf(a,this.$$prototype);return a},k.$$arity=0);b.def(Q,"$initialize",B=function(){var a=B.$$p,b=a||A;a&&(B.$$p=null);a&&(B.$$p=null);return b!==A?J(this,"module_eval",[],b.$to_proc()):
A},B.$$arity=0);b.def(Q,"$===",S=function(a){return l(null==a)?!1:b.is_a(a,this)},S.$$arity=1);b.def(Q,"$<",D=function(a){l(q(K,"Module")["$==="](a))||this.$raise(q(K,"TypeError"),"compared with non class/module");var e;if(this===a)return!1;var c=0;var f=b.ancestors(this);for(e=f.length;c<e;c++)if(f[c]===a)return!0;c=0;f=b.ancestors(a);for(e=f.length;c<e;c++)if(f[c]===this)return!1;return A},D.$$arity=1);b.def(Q,"$<=",H=function(a){var b;return l(b=this["$equal?"](a))?b:t(this,a)},H.$$arity=1);b.def(Q,
"$>",ia=function(a){l(q(K,"Module")["$==="](a))||this.$raise(q(K,"TypeError"),"compared with non class/module");return t(a,this)},ia.$$arity=1);b.def(Q,"$>=",X=function(a){var b;return l(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},X.$$arity=1);b.def(Q,"$<=>",a=function(a){if(this===a)return 0;if(!l(q(K,"Module")["$==="](a)))return A;a=t(this,a);return l(a["$nil?"]())?A:l(a)?-1:1},a.$$arity=1);b.def(Q,"$alias_method",d=function(a,e){b.alias(this,a,e);return this},
d.$$arity=2);b.def(Q,"$alias_native",v=function(a,e){null==e&&(e=a);b.alias_native(this,a,e);return this},v.$$arity=-2);b.def(Q,"$ancestors",E=function(){return b.ancestors(this)},E.$$arity=0);b.def(Q,"$append_features",O=function(a){b.append_features(this,a);return this},O.$$arity=1);b.def(Q,"$attr_accessor",p=function(a){var e=b.slice.call(arguments,0,arguments.length);J(this,"attr_reader",b.to_a(e));return J(this,"attr_writer",b.to_a(e))},p.$$arity=-1);b.alias(Q,"attr","attr_accessor");b.def(Q,
"$attr_reader",h=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=this.$$prototype,f=e.length-1;0<=f;f--){var d=e[f],n="$"+d;d=b.ivar(d);var h=function(a){return function(){return null==this[a]?A:this[a]}}(d);b.defineProperty(c,d,A);h.$$parameters=[];h.$$arity=0;b.defn(this,n,h)}return A},h.$$arity=-1);b.def(Q,"$attr_writer",e=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=this.$$prototype,f=e.length-1;0<=f;f--){var d=e[f],n="$"+d+"=";d=b.ivar(d);var h=
function(a){return function(b){return this[a]=b}}(d);h.$$parameters=[["req"]];h.$$arity=1;b.defineProperty(c,d,A);b.defn(this,n,h)}return A},e.$$arity=-1);b.def(Q,"$autoload",z=function(a,e){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=e;return A},z.$$arity=2);b.def(Q,"$class_variables",r=function(){return Object.keys(b.class_variables(this))},r.$$arity=0);b.def(Q,"$class_variable_get",U=function(a){a=q(K,"Opal")["$class_variable_name!"](a);var e=b.class_variables(this)[a];
null==e&&this.$raise(q(K,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return e},U.$$arity=1);b.def(Q,"$class_variable_set",F=function(a,e){a=q(K,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,e)},F.$$arity=2);b.def(Q,"$class_variable_defined?",n=function(a){a=q(K,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},n.$$arity=1);b.def(Q,"$remove_class_variable",c=function(a){a=q(K,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,
a)){var e=this.$$cvars[a];delete this.$$cvars[a];return e}this.$raise(q(K,"NameError"),"cannot remove "+a+" for "+this)},c.$$arity=1);b.def(Q,"$constants",f=function(a){null==a&&(a=!0);return b.constants(this,a)},f.$$arity=-1);b.defs(Q,"$constants",W=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);var e,c={},f;var d=0;for(f=a.length;d<f;d++)for(e in a[d].$$const)c[e]=!0;return Object.keys(c)}return b.constants(this,a)},W.$$arity=-1);b.defs(Q,"$nesting",aa=function(){return this.$$nesting||
[]},aa.$$arity=0);b.def(Q,"$const_defined?",pa=function(a,e){null==e&&(e=!0);a=q(K,"Opal")["$const_name!"](a);l(a["$=~"](u(q(K,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(q(K,"NameError").$new("wrong constant name "+a,a));var c=[this],f;e&&(c=c.concat(b.ancestors(this)),this.$$is_module&&(c=c.concat([b.Object]).concat(b.ancestors(b.Object))));var d=0;for(f=c.length;d<f;d++)if(e=c[d],null!=e.$$const[a])return!0;return!1},pa.$$arity=-2);b.def(Q,"$const_get",L=function(a,e){var c;null==e&&(e=!0);a=q(K,
"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(l(-1!=a.indexOf("::")&&"::"!=a))return J(a.$split("::"),"inject",[this],(c=function(a,b){null==a&&(a=A);null==b&&(b=A);return a.$const_get(b)},c.$$s=this,c.$$arity=2,c));l(a["$=~"](u(q(K,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(q(K,"NameError").$new("wrong constant name "+a,a));return e?q([this],a):b.const_get_local(this,a)},L.$$arity=-2);b.def(Q,"$const_missing",R=function(a){var b;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),
this.$const_get(a);b=this["$=="](q(K,"Object"))?a:""+this+"::"+a;return this.$raise(q(K,"NameError").$new("uninitialized constant "+b,a))},R.$$arity=1);b.def(Q,"$const_set",ba=function(a,e){var c;a=q(K,"Opal")["$const_name!"](a);l(l(c=a["$!~"](u(q(K,"Opal"),"CONST_NAME_REGEXP")))?c:a["$start_with?"]("::"))&&this.$raise(q(K,"NameError").$new("wrong constant name "+a,a));b.const_set(this,a,e);return e},ba.$$arity=2);b.def(Q,"$public_constant",x=function(a){return A},x.$$arity=1);b.def(Q,"$define_method",
ca=function(a,e){var c=ca.$$p,f=c||A,d,n,h=this,r=A;c&&(ca.$$p=null);c&&(ca.$$p=null);l(void 0===e&&f===A)&&h.$raise(q(K,"ArgumentError"),"tried to create a Proc object without a block");f=l(d=f)?d:function(){r=e;return q(K,"Proc")["$==="](r)?e:q(K,"Method")["$==="](r)?e.$to_proc().$$unbound:q(K,"UnboundMethod")["$==="](r)?G((n=function(a){var c=n.$$s||this;var f=b.slice.call(arguments,0,arguments.length);c=e.$bind(c);return J(c,"call",b.to_a(f))},n.$$s=h,n.$$arity=-1,n)):h.$raise(q(K,"TypeError"),
"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=a;f.$$s=null;f.$$def=f;f.$$define_meth=!0;b.defn(h,"$"+a,f);return a},ca.$$arity=-2);b.def(Q,"$remove_method",da=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=0,f=e.length;c<f;c++)b.rdef(this,"$"+e[c]);return this},da.$$arity=-1);b.def(Q,"$singleton_class?",ya=function(){return!!this.$$is_singleton},ya.$$arity=0);b.def(Q,"$include",ea=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=
e.length-1;0<=c;c--){var f=e[c];f.$$is_module||this.$raise(q(K,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(this);f.$included(this)}return this},ea.$$arity=-1);b.def(Q,"$included_modules",xa=function(){return b.included_modules(this)},xa.$$arity=0);b.def(Q,"$include?",ta=function(a){a.$$is_module||this.$raise(q(K,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var e,c=b.ancestors(this);var f=0;for(e=c.length;f<e;f++){var d=c[f];if(d===
a&&d!==this)return!0}return!1},ta.$$arity=1);b.def(Q,"$instance_method",T=function(a){var b=this.$$prototype["$"+a];b&&!b.$$stub||this.$raise(q(K,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return q(K,"UnboundMethod").$new(this,b.$$owner||this,b,a)},T.$$arity=1);b.def(Q,"$instance_methods",fa=function(a){null==a&&(a=!0);return l(a)?b.instance_methods(this):b.own_instance_methods(this)},fa.$$arity=-1);b.def(Q,"$included",Ba=function(a){return A},Ba.$$arity=1);b.def(Q,
"$extended",La=function(a){return A},La.$$arity=1);b.def(Q,"$extend_object",Ea=function(a){return A},Ea.$$arity=1);b.def(Q,"$method_added",ja=function(a){b.slice.call(arguments,0,arguments.length);return A},ja.$$arity=-1);b.def(Q,"$method_removed",wa=function(a){b.slice.call(arguments,0,arguments.length);return A},wa.$$arity=-1);b.def(Q,"$method_undefined",ra=function(a){b.slice.call(arguments,0,arguments.length);return A},ra.$$arity=-1);b.def(Q,"$module_eval",I=function(a){var e=I.$$p,c=e||A,f,d,
n=A,h=A,r=h=h=A;e&&(I.$$p=null);e&&(I.$$p=null);e=b.slice.call(arguments,0,arguments.length);l(l(f=c["$nil?"]())?!!b.compile:f)?(l(y(1,3,!1)["$cover?"](e.$size()))||q(K,"Kernel").$raise(q(K,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=[].concat(b.to_a(e)),n=null==f[0]?A:f[0],h=null==f[1]?A:f[1],f,h=m(["file","eval"],{file:l(f=h)?f:"(eval)",eval:!0}),h=b.hash({arity_check:!1}).$merge(h),r=q(K,"Opal").$compile(n,h),c=J(q(K,"Kernel"),"proc",[],(d=function(){return function(a){return eval(r)}(d.$$s||
this)},d.$$s=this,d.$$arity=0,d))):l(e["$any?"]())&&q(K,"Kernel").$raise(q(K,"ArgumentError"),"wrong number of arguments ("+e.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");f=c.$$s;c.$$s=null;e=c.apply(this,[this]);c.$$s=f;return e},I.$$arity=-1);b.alias(Q,"class_eval","module_eval");b.def(Q,"$module_exec",V=function(a){var e=V.$$p,c=e||A;e&&(V.$$p=null);e&&(V.$$p=null);var f=b.slice.call(arguments,0,arguments.length);
c===A&&this.$raise(q(K,"LocalJumpError"),"no block given");e=c.$$s;c.$$s=null;f=c.apply(this,f);c.$$s=e;return f},V.$$arity=-1);b.alias(Q,"class_exec","module_exec");b.def(Q,"$method_defined?",ka=function(a){a=this.$$prototype["$"+a];return!!a&&!a.$$stub},ka.$$arity=1);b.def(Q,"$module_function",Ja=function(a){var e=b.slice.call(arguments,0,arguments.length);if(0===e.length)this.$$module_function=!0;else for(var c=0,f=e.length;c<f;c++){var d="$"+e[c];b.defs(this,d,this.$$prototype[d])}return this},
Ja.$$arity=-1);b.def(Q,"$name",Ca=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],e=this;e;){if(e.$$name===A||null==e.$$name)return A;a.unshift(e.$$name);e=e.$$base_module;if(e===b.Object)break}return 0===a.length?A:this.$$full_name=a.join("::")},Ca.$$arity=0);b.def(Q,"$prepend",Na=function(a){var e=b.slice.call(arguments,0,arguments.length);0===e.length&&this.$raise(q(K,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var c=e.length-1;0<=c;c--){var f=e[c];
f.$$is_module||this.$raise(q(K,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$prepend_features(this);f.$prepended(this)}return this},Na.$$arity=-1);b.def(Q,"$prepend_features",na=function(a){this.$$is_module||this.$raise(q(K,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");b.prepend_features(this,a);return this},na.$$arity=1);b.def(Q,"$prepended",qa=function(a){return A},qa.$$arity=1);b.def(Q,"$remove_const",Ma=function(a){return b.const_remove(this,
a)},Ma.$$arity=1);b.def(Q,"$to_s",Ua=function(){var a;return l(a=b.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ua.$$arity=0);b.def(Q,"$undef_method",Ta=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=0,f=e.length;c<f;c++)b.udef(this,"$"+e[c]);return this},Ta.$$arity=-1);b.def(Q,"$instance_variables",Ra=function(){var a=(b.Module.$$nesting=K,this.$constants());var e=[],c;for(c in this)this.hasOwnProperty(c)&&"$"!==c.charAt(0)&&
"constructor"!==c&&!a["$include?"](c)&&e.push("@"+c);return e},Ra.$$arity=0);b.def(Q,"$dup",la=function(){var a=la.$$p,e;a&&(la.$$p=null);var c=0;var f=arguments.length;for(e=Array(f);c<f;c++)e[c]=arguments[c];a=J(this,b.find_super_dispatcher(this,"dup",la,!1),e,a);a.$copy_class_variables(this);a.$copy_constants(this);return a},la.$$arity=0);b.def(Q,"$copy_class_variables",va=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},va.$$arity=1);return(b.def(Q,"$copy_constants",ha=function(a){var e;
a=a.$$const;for(e in a)b.const_set(this,e,a[e])},ha.$$arity=1),A)&&"copy_constants"}(B[0],null,B)};
Opal.modules["corelib/class"]=function(b){var t=b.top,B=[],A=b.nil,u=b.const_get_relative,q=b.klass,g=b.send;b.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));t.$require("corelib/module");return function(t,$super,G){t=q(t,$super,"Class");var y=[t].concat(G),m,Q,P,M,K,k,B;b.defs(t,"$new",m=function(k){var q=m.$$p,G=q||A;q&&(m.$$p=null);q&&(m.$$p=null);null==k&&(k=u(y,"Object"));if(!k.$$is_class)throw b.TypeError.$new("superclass must be a Class");q=b.allocate_class(A,
k);k.$inherited(q);G!==A&&g(q,"class_eval",[],G.$to_proc());return q},m.$$arity=-1);b.def(t,"$allocate",Q=function(){var k=new this.$$constructor;k.$$id=b.uid();return k},Q.$$arity=0);b.def(t,"$inherited",P=function(b){return A},P.$$arity=1);b.def(t,"$initialize_dup",M=function(b){this.$initialize_copy(b);this.$$full_name=this.$$name=null},M.$$arity=1);b.def(t,"$new",K=function(k){var g=K.$$p,m=g||A;g&&(K.$$p=null);g&&(K.$$p=null);g=b.slice.call(arguments,0,arguments.length);var q=this.$allocate();
b.send(q,q.$initialize,g,m);return q},K.$$arity=-1);b.def(t,"$superclass",k=function(){return this.$$super||A},k.$$arity=0);return(b.def(t,"$to_s",B=function(){B.$$p&&(B.$$p=null);var k=this.$$singleton_of;return k&&k.$$is_a_module?"#<Class:"+k.$name()+">":k?"#<Class:#<"+k.$$class.$name()+":0x"+b.id(k).$to_s(16)+">>":g(this,b.find_super_dispatcher(this,"to_s",B,!1),[],null)},B.$$arity=0),A)&&"to_s"}(B[0],null,B)};
Opal.modules["corelib/basic_object"]=function(b){var t=[],B=b.nil,A=b.const_get_qualified,u=b.klass,q=b.truthy,g=b.range,J=b.hash2,l=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(G,$super,m){G=u(G,$super,"BasicObject");[G].concat(m);var t,P,M,K,k,sa,S,D,H,ia,X,a,d,v;b.def(G,"$initialize",t=function(a){b.slice.call(arguments,0,arguments.length);return B},t.$$arity=-1);b.def(G,"$==",P=function(a){return this===a},P.$$arity=
1);b.def(G,"$eql?",M=function(a){return this["$=="](a)},M.$$arity=1);b.alias(G,"equal?","==");b.def(G,"$__id__",K=function(){if(null!=this.$$id)return this.$$id;b.defineProperty(this,"$$id",b.uid());return this.$$id},K.$$arity=0);b.def(G,"$__send__",k=function(a,d){var p=k.$$p,h=p||B;p&&(k.$$p=null);p&&(k.$$p=null);p=b.slice.call(arguments,1,arguments.length);var e=this["$"+a];if(e)return h!==B&&(e.$$p=h),e.apply(this,p);h!==B&&(this.$method_missing.$$p=h);return this.$method_missing.apply(this,[a].concat(p))},
k.$$arity=-2);b.def(G,"$!",sa=function(){return!1},sa.$$arity=0);b.def(G,"$!=",S=function(a){return this["$=="](a)["$!"]()},S.$$arity=1);b.def(G,"$instance_eval",D=function(a){var d=D.$$p,p=d||B,h,e,v=B,r=B,k=r=r=B;d&&(D.$$p=null);d&&(D.$$p=null);d=b.slice.call(arguments,0,arguments.length);q(q(h=p["$nil?"]())?!!b.compile:h)?(q(g(1,3,!1)["$cover?"](d.$size()))||A("::","Kernel").$raise(A("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),h=[].concat(b.to_a(d)),v=null==h[0]?B:h[0],r=null==
h[1]?B:h[1],h,r=J(["file","eval"],{file:q(h=r)?h:"(eval)",eval:!0}),r=b.hash({arity_check:!1}).$merge(r),k=A("::","Opal").$compile(v,r),p=l(A("::","Kernel"),"proc",[],(e=function(){return function(a){return eval(k)}(e.$$s||this)},e.$$s=this,e.$$arity=0,e))):q(d["$any?"]())&&A("::","Kernel").$raise(A("::","ArgumentError"),"wrong number of arguments ("+d.$size()+" for 0)");h=p.$$s;p.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var E=p.call(this,this)}finally{this.$$eval=!1}}else E=p.call(this,
this);p.$$s=h;return E},D.$$arity=-1);b.def(G,"$instance_exec",H=function(a){var d=H.$$p,p=d||B;d&&(H.$$p=null);d&&(H.$$p=null);d=b.slice.call(arguments,0,arguments.length);q(p)||A("::","Kernel").$raise(A("::","ArgumentError"),"no block given");var h=p.$$s;p.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var e=p.apply(this,d)}finally{this.$$eval=!1}}else e=p.apply(this,d);p.$$s=h;return e},H.$$arity=-1);b.def(G,"$singleton_method_added",ia=function(a){b.slice.call(arguments,0,arguments.length);
return B},ia.$$arity=-1);b.def(G,"$singleton_method_removed",X=function(a){b.slice.call(arguments,0,arguments.length);return B},X.$$arity=-1);b.def(G,"$singleton_method_undefined",a=function(a){b.slice.call(arguments,0,arguments.length);return B},a.$$arity=-1);b.def(G,"$class",d=function(){return this.$$class},d.$$arity=0);return(b.def(G,"$method_missing",v=function(a,d){var p=v.$$p;p&&(v.$$p=null);p&&(v.$$p=null);b.slice.call(arguments,1,arguments.length);p=q(this.$inspect&&!this.$inspect.$$stub)?
"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return A("::","Kernel").$raise(A("::","NoMethodError").$new(p,a))},v.$$arity=-2),B)&&"method_missing"}(t[0],null,t)};
Opal.modules["corelib/kernel"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var B=[],A=b.nil,u=b.const_get_qualified,q=b.const_get_relative,g=b.module,J=b.truthy,l=b.gvars,G=b.hash2,y=b.send,m=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $coerce_to $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(m,
P){m=g(m,"Kernel");var M=[m].concat(P),K,k,B,S,D,H,Q,X,a,d,v,E,O,p,h,e,z,r,U,F,n,c,f,W,aa,pa,L,R,ba,x,ca,da,ya,ea,xa,ta,T,fa,Ba,La,Ea,ja,wa,ra,I,V,ka,Ja,Ca,Na,na,qa,Ma,Ua,Ta,Ra,la,va,ha,Aa,Ka,ua,Ha,Fa,Da;b.def(m,"$method_missing",K=function(a,e){var c=K.$$p;c&&(K.$$p=null);c&&(K.$$p=null);c=b.slice.call(arguments,1,arguments.length);return this.$raise(q(M,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,c))},K.$$arity=-2);b.def(m,"$=~",k=function(a){return!1},k.$$arity=1);b.def(m,
"$!~",B=function(a){return this["$=~"](a)["$!"]()},B.$$arity=1);b.def(m,"$===",S=function(a){var b;return J(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},S.$$arity=1);b.def(m,"$<=>",D=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==A?0:A},D.$$arity=1);b.def(m,"$method",H=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(q(M,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return q(M,"Method").$new(this,b.$$owner||this.$class(),b,a)},
H.$$arity=1);b.def(m,"$methods",Q=function(a){null==a&&(a=!0);return J(a)?b.methods(this):b.own_methods(this)},Q.$$arity=-1);b.def(m,"$public_methods",X=function(a){null==a&&(a=!0);return J(a)?b.methods(this):b.receiver_methods(this)},X.$$arity=-1);b.def(m,"$Array",a=function(a){if(a===A)return[];if(a.$$is_array)return a;var b=q(M,"Opal")["$coerce_to?"](a,q(M,"Array"),"to_ary");if(b!==A)return b;b=q(M,"Opal")["$coerce_to?"](a,q(M,"Array"),"to_a");return b!==A?b:[a]},a.$$arity=1);b.def(m,"$at_exit",
d=function(){var a=d.$$p,b=a||A,e;null==l.__at_exit__&&(l.__at_exit__=A);a&&(d.$$p=null);a&&(d.$$p=null);l.__at_exit__=J(e=l.__at_exit__)?e:[];return l.__at_exit__["$<<"](b)},d.$$arity=0);b.def(m,"$caller",v=function(a){b.slice.call(arguments,0,arguments.length);return[]},v.$$arity=-1);b.def(m,"$class",E=function(){return this.$$class},E.$$arity=0);b.def(m,"$copy_instance_variables",O=function(a){var b=Object.keys(a),e;var c=0;for(e=b.length;c<e;c++){var f=b[c];"$"!==f.charAt(0)&&a.hasOwnProperty(f)&&
(this[f]=a[f])}},O.$$arity=1);b.def(m,"$copy_singleton_methods",p=function(a){var e;if(a.hasOwnProperty("$$meta")){var c=b.get_singleton_class(a),f=b.get_singleton_class(this);var d=Object.getOwnPropertyNames(c.$$prototype);var n=0;for(e=d.length;n<e;n++){var h=d[n];b.is_method(h)&&(f.$$prototype[h]=c.$$prototype[h])}f.$$const=Object.assign({},c.$$const);Object.setPrototypeOf(f.$$prototype,Object.getPrototypeOf(c.$$prototype))}n=0;d=Object.getOwnPropertyNames(a);for(e=d.length;n<e;n++)h=d[n],"$"===
h.charAt(0)&&"$"!==h.charAt(1)&&a.hasOwnProperty(h)&&(this[h]=a[h])},p.$$arity=1);b.def(m,"$clone",h=function(a){if(null==a)G([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},h.$$arity=-1);b.def(m,"$initialize_clone",e=function(a){return this.$initialize_copy(a)},e.$$arity=1);b.def(m,"$define_singleton_method",z=function(a,b){var e=z.$$p,c=e||A;
e&&(z.$$p=null);e&&(z.$$p=null);return y(this.$singleton_class(),"define_method",[a,b],c.$to_proc())},z.$$arity=-2);b.def(m,"$dup",r=function(){var a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},r.$$arity=0);b.def(m,"$initialize_dup",U=function(a){return this.$initialize_copy(a)},U.$$arity=1);b.def(m,"$enum_for",F=function(a,e){var c=F.$$p,f=c||A;c&&(F.$$p=null);c&&(F.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(0<c.length){var d=c[0];c.splice(0,
1)}null==d&&(d="each");return y(q(M,"Enumerator"),"for",[this,d].concat(b.to_a(c)),f.$to_proc())},F.$$arity=-1);b.alias(m,"to_enum","enum_for");b.def(m,"$equal?",n=function(a){return this===a},n.$$arity=1);b.def(m,"$exit",c=function(a){var e;null==l.__at_exit__&&(l.__at_exit__=A);null==a&&(a=!0);for(l.__at_exit__=J(e=l.__at_exit__)?e:[];!J(l.__at_exit__["$empty?"]());)e=l.__at_exit__.$pop(),e.$call();a=a.$$is_boolean?a?0:1:q(M,"Opal").$coerce_to(a,q(M,"Integer"),"to_int");b.exit(a);return A},c.$$arity=
-1);b.def(m,"$extend",f=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=this.$singleton_class(),f=e.length-1;0<=f;f--){var d=e[f];d.$$is_module||this.$raise(q(M,"TypeError"),"wrong argument type "+d.$class()+" (expected Module)");d.$append_features(c);d.$extend_object(this);d.$extended(this)}return this},f.$$arity=-1);b.def(m,"$hash",W=function(){return this.$__id__()},W.$$arity=0);b.def(m,"$initialize_copy",aa=function(a){return A},aa.$$arity=1);b.def(m,"$inspect",pa=function(){return this.$to_s()},
pa.$$arity=0);b.def(m,"$instance_of?",L=function(a){a.$$is_class||a.$$is_module||this.$raise(q(M,"TypeError"),"class or module required");return this.$$class===a},L.$$arity=1);b.def(m,"$instance_variable_defined?",R=function(a){a=q(M,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},R.$$arity=1);b.def(m,"$instance_variable_get",ba=function(a){a=q(M,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?A:a},ba.$$arity=1);b.def(m,"$instance_variable_set",
x=function(a,e){a=q(M,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=e},x.$$arity=2);b.def(m,"$remove_instance_variable",ca=function(a){a=q(M,"Opal")["$instance_variable_name!"](a);var e=b.ivar(a.substr(1));return this.hasOwnProperty(e)?(a=this[e],delete this[e],a):this.$raise(q(M,"NameError"),"instance variable "+a+" not defined")},ca.$$arity=1);b.def(m,"$instance_variables",da=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)&&"$"!==b.charAt(0)){var e="$"===
b.substr(-1)?b.slice(0,b.length-1):b;a.push("@"+e)}return a},da.$$arity=0);b.def(m,"$Integer",ya=function(a,b){var e=this;if(!a.$$is_string){void 0!==b&&e.$raise(q(M,"ArgumentError"),"base specified for non string value");a===A&&e.$raise(q(M,"TypeError"),"can't convert nil into Integer");if(a.$$is_number)return(Infinity===a||-Infinity===a||isNaN(a))&&e.$raise(q(M,"FloatDomainError"),a),Math.floor(a);if(a["$respond_to?"]("to_int")){var c=a.$to_int();if(c!==A)return c}return q(M,"Opal")["$coerce_to!"](a,
q(M,"Integer"),"to_i")}if("0"===a)return 0;void 0===b?b=0:(b=q(M,"Opal").$coerce_to(b,q(M,"Integer"),"to_int"),(1===b||0>b||36<b)&&e.$raise(q(M,"ArgumentError"),"invalid radix "+b));c=a.toLowerCase();c=c.replace(/(\d)_(?=\d)/g,"$1");c=c.replace(/^(\s*[+-]?)(0[bodx]?)/,function(c,f,d){switch(d){case "0b":if(0===b||2===b)return b=2,f;case "0":case "0o":if(0===b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}e.$raise(q(M,"ArgumentError"),'invalid value for Integer(): "'+
a+'"')});b=0===b?10:b;var f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(c)||e.$raise(q(M,"ArgumentError"),'invalid value for Integer(): "'+a+'"');c=parseInt(c,b);isNaN(c)&&e.$raise(q(M,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return c},ya.$$arity=-2);b.def(m,"$Float",ea=function(a){a===A&&this.$raise(q(M,"TypeError"),"can't convert nil into Float");if(a.$$is_string){var b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(q(M,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return q(M,"Opal")["$coerce_to!"](a,q(M,"Float"),"to_f")},ea.$$arity=1);b.def(m,"$Hash",xa=function(a){var b;return J(J(b=a["$nil?"]())?b:a["$=="]([]))?G([],{}):J(q(M,"Hash")["$==="](a))?a:q(M,"Opal")["$coerce_to!"](a,q(M,"Hash"),"to_hash")},xa.$$arity=1);b.def(m,"$is_a?",ta=function(a){a.$$is_class||a.$$is_module||this.$raise(q(M,"TypeError"),"class or module required");
return b.is_a(this,a)},ta.$$arity=1);b.def(m,"$itself",T=function(){return this},T.$$arity=0);b.alias(m,"kind_of?","is_a?");b.def(m,"$lambda",fa=function(){var a=fa.$$p,e=a||A;a&&(fa.$$p=null);a&&(fa.$$p=null);return b.lambda(e)},fa.$$arity=0);b.def(m,"$load",Ba=function(a){a=q(M,"Opal")["$coerce_to!"](a,q(M,"String"),"to_str");return b.load(a)},Ba.$$arity=1);b.def(m,"$loop",La=function(){var a,e=La.$$p,c=e||A,f=A;e&&(La.$$p=null);if(c===A)return y(this,"enum_for",["loop"],(a=function(){return u(q(M,
"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;J(!0);)try{b.yieldX(c,[])}catch(za){if(b.rescue(za,[q(M,"StopIteration")])){f=za;try{return f.$result()}finally{b.pop_exception()}}else throw za;}return this},La.$$arity=0);b.def(m,"$nil?",Ea=function(){return!1},Ea.$$arity=0);b.alias(m,"object_id","__id__");b.def(m,"$printf",ja=function(a){var e=b.slice.call(arguments,0,arguments.length);J(e["$any?"]())&&this.$print(y(this,"format",b.to_a(e)));return A},ja.$$arity=-1);b.def(m,"$proc",wa=function(){var a=
wa.$$p,b=a||A;a&&(wa.$$p=null);a&&(wa.$$p=null);J(b)||this.$raise(q(M,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},wa.$$arity=0);b.def(m,"$puts",ra=function(a){null==l.stdout&&(l.stdout=A);var e=b.slice.call(arguments,0,arguments.length);return y(l.stdout,"puts",b.to_a(e))},ra.$$arity=-1);b.def(m,"$p",I=function(a){var e;var c=b.slice.call(arguments,0,arguments.length);y(c,"each",[],(e=function(a){null==l.stdout&&(l.stdout=A);null==a&&(a=A);return l.stdout.$puts(a.$inspect())},
e.$$s=this,e.$$arity=1,e));return J(t(c.$length(),1))?c["$[]"](0):c},I.$$arity=-1);b.def(m,"$print",V=function(a){null==l.stdout&&(l.stdout=A);var e=b.slice.call(arguments,0,arguments.length);return y(l.stdout,"print",b.to_a(e))},V.$$arity=-1);b.def(m,"$warn",ka=function(a){var e;null==l.VERBOSE&&(l.VERBOSE=A);null==l.stderr&&(l.stderr=A);var c=b.slice.call(arguments,0,arguments.length);return J(J(e=l.VERBOSE["$nil?"]())?e:c["$empty?"]())?A:y(l.stderr,"puts",b.to_a(c))},ka.$$arity=-1);b.def(m,"$raise",
Ja=function(a,e,c){null==l["!"]&&(l["!"]=A);null==e&&(e=A);if(null==a&&l["!"]!==A)throw l["!"];null==a?a=q(M,"RuntimeError").$new():a.$$is_string?a=q(M,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(e):a["$is_a?"](q(M,"Exception"))||(a=q(M,"TypeError").$new("exception class/object expected"));l["!"]!==A&&b.exceptions.push(l["!"]);l["!"]=a;throw a;},Ja.$$arity=-1);b.alias(m,"fail","raise");b.def(m,"$rand",Ca=function(a){if(void 0===a)return u(q(M,"Random"),"DEFAULT").$rand();
a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return u(q(M,"Random"),"DEFAULT").$rand(a)},Ca.$$arity=-1);b.def(m,"$respond_to?",Na=function(a,b){null==b&&(b=!1);if(J(this["$respond_to_missing?"](a,b)))return!0;a=this["$"+a];return"function"!==typeof a||a.$$stub?!1:!0},Na.$$arity=-2);b.def(m,"$respond_to_missing?",na=function(a,b){return!1},na.$$arity=-2);b.def(m,"$require",qa=function(a){a=q(M,"Opal")["$coerce_to!"](a,q(M,"String"),"to_str");return b.require(a)},qa.$$arity=
1);b.def(m,"$require_relative",Ma=function(a){q(M,"Opal")["$try_convert!"](a,q(M,"String"),"to_str");a=q(M,"File").$expand_path(q(M,"File").$join(b.current_file,"..",a));return b.require(a)},Ma.$$arity=1);b.def(m,"$require_tree",Ua=function(a){var e=[];a=q(M,"File").$expand_path(a);a=b.normalize(a);"."===a&&(a="");for(var c in b.modules)c["$start_with?"](a)&&e.push([c,b.require(c)]);return e},Ua.$$arity=1);b.alias(m,"send","__send__");b.alias(m,"public_send","__send__");b.def(m,"$singleton_class",
Ta=function(){return b.get_singleton_class(this)},Ta.$$arity=0);b.def(m,"$sleep",Ra=function(a){null==a&&(a=A);a===A&&this.$raise(q(M,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(q(M,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(q(M,"ArgumentError"),"time interval must be positive");for(var e=b.global.performance?function(){return performance.now()}:function(){return new Date},c=e();e()-c<=1E3*a;);return a},Ra.$$arity=-1);
b.def(m,"$srand",la=function(a){null==a&&(a=q(M,"Random").$new_seed());return q(M,"Random").$srand(a)},la.$$arity=-1);b.def(m,"$String",va=function(a){var b;return J(b=q(M,"Opal")["$coerce_to?"](a,q(M,"String"),"to_str"))?b:q(M,"Opal")["$coerce_to!"](a,q(M,"String"),"to_s")},va.$$arity=1);b.def(m,"$tap",ha=function(){var a=ha.$$p,e=a||A;a&&(ha.$$p=null);a&&(ha.$$p=null);b.yield1(e,this);return this},ha.$$arity=0);b.def(m,"$to_proc",Aa=function(){return this},Aa.$$arity=0);b.def(m,"$to_s",Ka=function(){return"#<"+
this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ka.$$arity=0);b.def(m,"$catch",ua=function(a){var e=ua.$$p,c=e||A;e&&(ua.$$p=null);try{return b.yieldX(c,[])}catch(Ga){if(b.rescue(Ga,[q(M,"UncaughtThrowError")])){e=Ga;try{return e.$sym()["$=="](a)?e.$arg():this.$raise()}finally{b.pop_exception()}}else throw Ga;}},ua.$$arity=1);b.def(m,"$throw",Ha=function(a){var e=b.slice.call(arguments,0,arguments.length);return this.$raise(q(M,"UncaughtThrowError"),e)},Ha.$$arity=-1);b.def(m,"$open",Fa=function(a){var e=
Fa.$$p,c=e||A;e&&(Fa.$$p=null);e&&(Fa.$$p=null);e=b.slice.call(arguments,0,arguments.length);return y(q(M,"File"),"open",b.to_a(e),c.$to_proc())},Fa.$$arity=-1);b.def(m,"$yield_self",Da=function(){var a,e=Da.$$p,c=e||A;e&&(Da.$$p=null);return c===A?y(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=0,a)):b.yield1(c,this)},Da.$$arity=0)})(B[0],B);return function(b,$super,g){b=m(b,$super,"Object");g=[b].concat(g);return b.$include(q(g,"Kernel"))}(B[0],null,B)};
Opal.modules["corelib/error"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.klass,q=b.send,g=b.truthy,J=b.module,l=b.hash2;b.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(l,$super,m){l=u(l,$super,"Exception");var t=[l].concat(m),G,M,K,k,J,S,D,H,ia;l.$$prototype.message=B;b.defs(l,"$new",G=function(a){var d=b.slice.call(arguments,0,arguments.length);var v=0<d.length?d[0]:B,k=new this.$$constructor(v);k.name=this.$$name;k.message=
v;b.send(k,k.$initialize,d);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(k,X);return k},G.$$arity=-1);var X=l.$new;b.defs(l,"$exception",M=function(a){var d=b.slice.call(arguments,0,arguments.length);return q(this,"new",b.to_a(d))},M.$$arity=-1);b.def(l,"$initialize",K=function(a){var d=b.slice.call(arguments,0,arguments.length);return this.message=0<d.length?d[0]:B},K.$$arity=-1);b.def(l,"$backtrace",k=function(){if(this.backtrace)return this.backtrace;var a=this.stack;
return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},k.$$arity=0);b.def(l,"$exception",J=function(a){null==a&&(a=B);if(a===B||this===a)return this;var b=this.$clone();b.message=a;return b},J.$$arity=-1);b.def(l,"$message",S=function(){return this.$to_s()},S.$$arity=0);b.def(l,"$inspect",D=function(){var a=this.$to_s();return g(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},D.$$arity=0);b.def(l,"$set_backtrace",H=function(a){var b=!0,v;if(a===
B)this.backtrace=B;else if(a.$$is_string)this.backtrace=[a];else{if(a.$$is_array){var k=0;for(v=a.length;k<v;k++)if(!a[k].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(A(t,"TypeError"),"backtrace must be Array of String");this.backtrace=a}return a},H.$$arity=1);return(b.def(l,"$to_s",ia=function(){var a,b;return g(a=g(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},ia.$$arity=0),B)&&"to_s"})(t[0],Error,t);(function(b,$super,g){[u(b,$super,"ScriptError")].concat(g);return B})(t[0],
A(t,"Exception"),t);(function(b,$super,g){[u(b,$super,"SyntaxError")].concat(g);return B})(t[0],A(t,"ScriptError"),t);(function(b,$super,g){[u(b,$super,"LoadError")].concat(g);return B})(t[0],A(t,"ScriptError"),t);(function(b,$super,g){[u(b,$super,"NotImplementedError")].concat(g);return B})(t[0],A(t,"ScriptError"),t);(function(b,$super,g){[u(b,$super,"SystemExit")].concat(g);return B})(t[0],A(t,"Exception"),t);(function(b,$super,g){[u(b,$super,"NoMemoryError")].concat(g);return B})(t[0],A(t,"Exception"),
t);(function(b,$super,g){[u(b,$super,"SignalException")].concat(g);return B})(t[0],A(t,"Exception"),t);(function(b,$super,g){[u(b,$super,"Interrupt")].concat(g);return B})(t[0],A(t,"Exception"),t);(function(b,$super,g){[u(b,$super,"SecurityError")].concat(g);return B})(t[0],A(t,"Exception"),t);(function(b,$super,g){[u(b,$super,"StandardError")].concat(g);return B})(t[0],A(t,"Exception"),t);(function(b,$super,g){[u(b,$super,"EncodingError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,
$super,g){[u(b,$super,"ZeroDivisionError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"NameError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"NoMethodError")].concat(g);return B})(t[0],A(t,"NameError"),t);(function(b,$super,g){[u(b,$super,"RuntimeError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"FrozenError")].concat(g);return B})(t[0],A(t,"RuntimeError"),t);(function(b,
$super,g){[u(b,$super,"LocalJumpError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"TypeError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"ArgumentError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"IndexError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"StopIteration")].concat(g);return B})(t[0],A(t,"IndexError"),t);(function(b,
$super,g){[u(b,$super,"KeyError")].concat(g);return B})(t[0],A(t,"IndexError"),t);(function(b,$super,g){[u(b,$super,"RangeError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"FloatDomainError")].concat(g);return B})(t[0],A(t,"RangeError"),t);(function(b,$super,g){[u(b,$super,"IOError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(b,$super,g){[u(b,$super,"SystemCallError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(l,y){l=[J(l,
"Errno")].concat(y);(function(l,$super,y){l=u(l,$super,"EINVAL");[l].concat(y);var m;return(b.defs(l,"$new",m=function(l){m.$$p&&(m.$$p=null);null==l&&(l=B);var k="Invalid argument";g(l)&&(l=" - "+l,k="number"===typeof k&&"number"===typeof l?k+l:k["$+"](l));return q(this,b.find_super_dispatcher(this,"new",m,!1,this.$$class.$$prototype),[k],null)},m.$$arity=-1),B)&&"new"})(l[0],A(l,"SystemCallError"),l)})(t[0],t);(function(l,$super,m){l=u(l,$super,"UncaughtThrowError");[l].concat(m);var t;l.$$prototype.sym=
B;l.$attr_reader("sym","arg");return(b.def(l,"$initialize",t=function(l){t.$$p&&(t.$$p=null);this.sym=l["$[]"](0);var m=l.$length();m="number"===typeof m?1<m:m["$>"](1);g(m)&&(this.arg=l["$[]"](1));return q(this,b.find_super_dispatcher(this,"initialize",t,!1),["uncaught throw "+this.sym.$inspect()],null)},t.$$arity=1),B)&&"initialize"})(t[0],A(t,"ArgumentError"),t);(function(g,$super,l){g=u(g,$super,"NameError");[g].concat(l);var m;g.$attr_reader("name");return(b.def(g,"$initialize",m=function(g,
l){m.$$p&&(m.$$p=null);null==l&&(l=B);q(this,b.find_super_dispatcher(this,"initialize",m,!1),[g],null);return this.name=l},m.$$arity=-2),B)&&"initialize"})(t[0],null,t);(function(g,$super,l){g=u(g,$super,"NoMethodError");[g].concat(l);var m;g.$attr_reader("args");return(b.def(g,"$initialize",m=function(g,l,t){m.$$p&&(m.$$p=null);null==l&&(l=B);null==t&&(t=[]);q(this,b.find_super_dispatcher(this,"initialize",m,!1),[g,l],null);return this.args=t},m.$$arity=-2),B)&&"initialize"})(t[0],null,t);(function(b,
$super,g){b=u(b,$super,"StopIteration");[b].concat(g);return b.$attr_reader("result")})(t[0],null,t);(function(t,$super,m){t=u(t,$super,"KeyError");var G=[t].concat(m),P,M,K;t.$$prototype.receiver=t.$$prototype.key=B;b.def(t,"$initialize",P=function(k,g){P.$$p&&(P.$$p=null);if(null==g)g=l([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");var m=g.$$smap.receiver;null==m&&(m=B);g=g.$$smap.key;null==g&&(g=B);q(this,b.find_super_dispatcher(this,"initialize",P,!1),[k],null);this.receiver=
m;return this.key=g},P.$$arity=-2);b.def(t,"$receiver",M=function(){var b;return g(b=this.receiver)?b:this.$raise(A(G,"ArgumentError"),"no receiver is available")},M.$$arity=0);return(b.def(t,"$key",K=function(){var b;return g(b=this.key)?b:this.$raise(A(G,"ArgumentError"),"no key is available")},K.$$arity=0),B)&&"key"})(t[0],null,t);return function(b,g){b=[J(b,"JS")].concat(g);[u(b[0],null,"Error")].concat(b)}(t[0],t)};
Opal.modules["corelib/constants"]=function(b){var t=[],B=b.const_get_relative;b.const_set(t[0],"RUBY_PLATFORM","opal");b.const_set(t[0],"RUBY_ENGINE","opal");b.const_set(t[0],"RUBY_VERSION","2.5.1");b.const_set(t[0],"RUBY_ENGINE_VERSION","0.11.99.dev");b.const_set(t[0],"RUBY_RELEASE_DATE","2018-12-25");b.const_set(t[0],"RUBY_PATCHLEVEL",0);b.const_set(t[0],"RUBY_REVISION",0);b.const_set(t[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors");return b.const_set(t[0],
"RUBY_DESCRIPTION","opal "+B(t,"RUBY_ENGINE_VERSION")+" ("+B(t,"RUBY_RELEASE_DATE")+" revision "+B(t,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(b){var t=b.top;b.add_stubs(["$require"]);t.$require("corelib/runtime");t.$require("corelib/helpers");t.$require("corelib/module");t.$require("corelib/class");t.$require("corelib/basic_object");t.$require("corelib/kernel");t.$require("corelib/error");return t.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.klass,q=b.hash2,g=b.truthy;b.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(t,$super,G){t=u(t,$super,"NilClass");var y=[t].concat(G),m,J,P,M,K,k,sa,S,D,H,ia,X,a,d,v,E,O,p;t.$$prototype.$$meta=t;(function(a,e){var d=[a].concat(e),h;b.def(a,"$allocate",h=function(){return this.$raise(A(d,"TypeError"),"allocator undefined for "+this.$name())},h.$$arity=0);b.udef(a,"$new");return B})(b.get_singleton_class(t),
y);b.def(t,"$!",m=function(){return!0},m.$$arity=0);b.def(t,"$&",J=function(a){return!1},J.$$arity=1);b.def(t,"$|",P=function(a){return!1!==a&&a!==B},P.$$arity=1);b.def(t,"$^",M=function(a){return!1!==a&&a!==B},M.$$arity=1);b.def(t,"$==",K=function(a){return a===B},K.$$arity=1);b.def(t,"$dup",k=function(){return B},k.$$arity=0);b.def(t,"$clone",sa=function(a){if(null==a)q([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return B},sa.$$arity=-1);b.def(t,"$inspect",S=function(){return"nil"},
S.$$arity=0);b.def(t,"$nil?",D=function(){return!0},D.$$arity=0);b.def(t,"$singleton_class",H=function(){return A(y,"NilClass")},H.$$arity=0);b.def(t,"$to_a",ia=function(){return[]},ia.$$arity=0);b.def(t,"$to_h",X=function(){return b.hash()},X.$$arity=0);b.def(t,"$to_i",a=function(){return 0},a.$$arity=0);b.alias(t,"to_f","to_i");b.def(t,"$to_s",d=function(){return""},d.$$arity=0);b.def(t,"$to_c",v=function(){return A(y,"Complex").$new(0,0)},v.$$arity=0);b.def(t,"$rationalize",E=function(a){var e=
b.slice.call(arguments,0,arguments.length).$length();e="number"===typeof e?1<e:e["$>"](1);g(e)&&this.$raise(A(y,"ArgumentError"));return this.$Rational(0,1)},E.$$arity=-1);b.def(t,"$to_r",O=function(){return this.$Rational(0,1)},O.$$arity=0);return(b.def(t,"$instance_variables",p=function(){return[]},p.$$arity=0),B)&&"instance_variables"})(t[0],null,t);return b.const_set(t[0],"NIL",B)};
Opal.modules["corelib/boolean"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.klass,q=b.hash2;b.add_stubs(["$raise","$name"]);(function(g,$super,l){g=u(g,$super,"Boolean");var t=[g].concat(l),y,m,Q,P,M,K,k,sa,S,D;b.defineProperty(g.$$prototype,"$$is_boolean",!0);b.defineProperty(g.$$prototype,"$$meta",g);(function(k,g){var l=[k].concat(g),a;b.def(k,"$allocate",a=function(){return this.$raise(A(l,"TypeError"),"allocator undefined for "+this.$name())},a.$$arity=0);b.udef(k,"$new");return B})(b.get_singleton_class(g),
t);b.def(g,"$__id__",y=function(){return this.valueOf()?2:0},y.$$arity=0);b.alias(g,"object_id","__id__");b.def(g,"$!",m=function(){return 1!=this},m.$$arity=0);b.def(g,"$&",Q=function(b){return 1==this?!1!==b&&b!==B:!1},Q.$$arity=1);b.def(g,"$|",P=function(b){return 1==this?!0:!1!==b&&b!==B},P.$$arity=1);b.def(g,"$^",M=function(b){return 1==this?!1===b||b===B:!1!==b&&b!==B},M.$$arity=1);b.def(g,"$==",K=function(b){return 1==this===b.valueOf()},K.$$arity=1);b.alias(g,"equal?","==");b.alias(g,"eql?",
"==");b.def(g,"$singleton_class",k=function(){return A(t,"Boolean")},k.$$arity=0);b.def(g,"$to_s",sa=function(){return 1==this?"true":"false"},sa.$$arity=0);b.def(g,"$dup",S=function(){return this},S.$$arity=0);return(b.def(g,"$clone",D=function(k){if(null==k)q([],{});else if(!k.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},D.$$arity=-1),B)&&"clone"})(t[0],Boolean,t);b.const_set(t[0],"TrueClass",A(t,"Boolean"));b.const_set(t[0],"FalseClass",A(t,"Boolean"));b.const_set(t[0],
"TRUE",!0);return b.const_set(t[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var A=[],u=b.nil,q=b.const_get_relative,g=b.module,J=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(l,G){l=g(l,"Comparable");var y=[l].concat(G),m,A,P,M,K,k,sa,S;b.defs(l,"$normalize",m=function(b){return J(q(y,"Integer")["$==="](b))?b:J(t(b,0))?
1:J(B(b,0))?-1:0},m.$$arity=1);b.def(l,"$==",A=function(k){var g=u;try{return J(this["$equal?"](k))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):J(g=this["$<=>"](k))?0==q(y,"Comparable").$normalize(g):!1}catch(ia){if(b.rescue(ia,[q(y,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw ia;}},A.$$arity=1);b.def(l,"$>",P=function(b){var k;J(k=this["$<=>"](b))||this.$raise(q(y,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+
" failed");return 0<q(y,"Comparable").$normalize(k)},P.$$arity=1);b.def(l,"$>=",M=function(b){var k;J(k=this["$<=>"](b))||this.$raise(q(y,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0<=q(y,"Comparable").$normalize(k)},M.$$arity=1);b.def(l,"$<",K=function(b){var k;J(k=this["$<=>"](b))||this.$raise(q(y,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>q(y,"Comparable").$normalize(k)},K.$$arity=1);b.def(l,"$<=",k=function(b){var k;
J(k=this["$<=>"](b))||this.$raise(q(y,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>=q(y,"Comparable").$normalize(k)},k.$$arity=1);b.def(l,"$between?",sa=function(b,k){return B(this,b)||t(this,k)?!1:!0},sa.$$arity=2);b.def(l,"$clamp",S=function(b,k){var g=b["$<=>"](k);J(g)||this.$raise(q(y,"ArgumentError"),"comparison of "+b.$class()+" with "+k.$class()+" failed");J(t(q(y,"Comparable").$normalize(g),0))&&this.$raise(q(y,"ArgumentError"),"min argument must be smaller than max argument");
return J(B(q(y,"Comparable").$normalize(this["$<=>"](b)),0))?b:J(t(q(y,"Comparable").$normalize(this["$<=>"](k)),0))?k:this},S.$$arity=2)}(A[0],A)};
Opal.modules["corelib/regexp"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.klass,q=b.send,g=b.truthy,J=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(b,$super,g){[u(b,$super,"RegexpError")].concat(g);return B})(t[0],A(t,"StandardError"),t);(function(l,$super,t){l=u(l,$super,"Regexp");var m=[l].concat(t),y,P,M,K,k,sa,S,D,H,ia;b.const_set(m[0],"IGNORECASE",
1);b.const_set(m[0],"EXTENDED",2);b.const_set(m[0],"MULTILINE",4);b.defineProperty(l.$$prototype,"$$is_regexp",!0);(function(k,a){var d=[k].concat(a),v,E,l,p,h;b.def(k,"$allocate",v=function(){var a=v.$$p,d;a&&(v.$$p=null);var h=0;var p=arguments.length;for(d=Array(p);h<p;h++)d[h]=arguments[h];a=q(this,b.find_super_dispatcher(this,"allocate",v,!1),d,a);a.uninitialized=!0;return a},v.$$arity=0);b.def(k,"$escape",E=function(a){return b.escape_regexp(a)},E.$$arity=1);b.def(k,"$last_match",l=function(a){null==
J["~"]&&(J["~"]=B);null==a&&(a=B);return g(a["$nil?"]())?J["~"]:J["~"]["$[]"](a)},l.$$arity=-1);b.alias(k,"quote","escape");b.def(k,"$union",p=function(a){var e=b.slice.call(arguments,0,arguments.length);if(0==e.length)return/(?!)/;if(1==e.length&&e[0].$$is_regexp)return e[0];var h=e[0].$$is_array;1<e.length&&h&&this.$raise(A(d,"TypeError"),"no implicit conversion of Array into String");h&&(e=e[0]);var p=void 0;h=[];for(var v=0;v<e.length;v++){var n=e[v];if(n.$$is_string)h.push(this.$escape(n));else if(n.$$is_regexp){var c=
n.$options();void 0!=p&&p!=c&&this.$raise(A(d,"TypeError"),"All expressions must use the same options");p=c;h.push("("+n.source+")")}else h.push(this.$escape(n.$to_str()))}return this.$new(h.$join("|"),p)},p.$$arity=-1);return(b.def(k,"$new",h=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=A(d,"Opal")["$coerce_to!"](a,A(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(A(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);
if(b.$$is_number){var e="";A(d,"IGNORECASE")&b&&(e+="i");A(d,"MULTILINE")&b&&(e+="m");b=e}else b="i";return new RegExp(a,b)},h.$$arity=-2),B)&&"new"})(b.get_singleton_class(l),m);b.def(l,"$==",y=function(b){return b instanceof RegExp&&this.toString()===b.toString()},y.$$arity=1);b.def(l,"$===",P=function(b){return this.$match(A(m,"Opal")["$coerce_to?"](b,A(m,"String"),"to_str"))!==B},P.$$arity=1);b.def(l,"$=~",M=function(b){var a;null==J["~"]&&(J["~"]=B);return g(a=this.$match(b))?J["~"].$begin(0):
a},M.$$arity=1);b.alias(l,"eql?","==");b.def(l,"$inspect",K=function(){var b=this.toString(),a=/^\/(.*)\/([^\/]*)$/.exec(b);if(a){b=a[2];a=a[1].split("");for(var d=a.length,v=!1,k="",g=0;g<d;g++){var p=a[g];v||"/"!=p||(k=k.concat("\\"));k=k.concat(p);v="\\"==p?v?!1:!0:!1}return"/"+k+"/"+b}return b},K.$$arity=0);b.def(l,"$match",k=function(g,a){var d=k.$$p,v=d||B;null==J["~"]&&(J["~"]=B);d&&(k.$$p=null);d&&(k.$$p=null);this.uninitialized&&this.$raise(A(m,"TypeError"),"uninitialized Regexp");if(void 0===
a)return g===B?J["~"]=B:(g=this.exec(A(m,"Opal").$coerce_to(g,A(m,"String"),"to_str")))?(J["~"]=A(m,"MatchData").$new(this,g),v===B?J["~"]:b.yield1(v,J["~"])):J["~"]=B;a=A(m,"Opal").$coerce_to(a,A(m,"Integer"),"to_int");if(g===B)return J["~"]=B;g=A(m,"Opal").$coerce_to(g,A(m,"String"),"to_str");if(0>a&&(a+=g.length,0>a))return J["~"]=B;for(var E=b.global_regexp(this);;){d=E.exec(g);if(null===d)return J["~"]=B;if(d.index>=a)return J["~"]=A(m,"MatchData").$new(E,d),v===B?J["~"]:b.yield1(v,J["~"]);E.lastIndex=
d.index+1}},k.$$arity=-2);b.def(l,"$match?",sa=function(k,a){this.uninitialized&&this.$raise(A(m,"TypeError"),"uninitialized Regexp");if(void 0===a)return k===B?!1:this.test(A(m,"Opal").$coerce_to(k,A(m,"String"),"to_str"));a=A(m,"Opal").$coerce_to(a,A(m,"Integer"),"to_int");if(k===B)return!1;k=A(m,"Opal").$coerce_to(k,A(m,"String"),"to_str");if(0>a&&(a+=k.length,0>a))return!1;k=b.global_regexp(this).exec(k);return null===k||k.index<a?!1:!0},sa.$$arity=-2);b.def(l,"$~",S=function(){null==J._&&(J._=
B);return this["$=~"](J._)},S.$$arity=0);b.def(l,"$source",D=function(){return this.source},D.$$arity=0);b.def(l,"$options",H=function(){this.uninitialized&&this.$raise(A(m,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=A(m,"MULTILINE"));this.ignoreCase&&(b|=A(m,"IGNORECASE"));return b},H.$$arity=0);b.def(l,"$casefold?",ia=function(){return this.ignoreCase},ia.$$arity=0);return b.alias(l,"to_s","source")})(t[0],RegExp,t);return function(l,$super,t){l=u(l,$super,"MatchData");var m=
[l].concat(t),y,P,M,K,k,sa,S,D,H,ia,X,a;l.$$prototype.matches=B;l.$attr_reader("post_match","pre_match","regexp","string");b.def(l,"$initialize",y=function(a,b){J["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];a=0;for(var d=b.length;a<d;a++){var v=b[a];null==v?this.matches.push(B):this.matches.push(v)}},y.$$arity=2);b.def(l,"$[]",P=function(a){var d=b.slice.call(arguments,0,arguments.length);
return q(this.matches,"[]",b.to_a(d))},P.$$arity=-1);b.def(l,"$offset",M=function(a){0!==a&&this.$raise(A(m,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},M.$$arity=1);b.def(l,"$==",K=function(a){var b,d,k,p;return g(A(m,"MatchData")["$==="](a))?g(b=g(d=g(k=g(p=this.string==a.string)?this.regexp.toString()==a.regexp.toString():p)?this.pre_match==a.pre_match:k)?this.post_match==a.post_match:d)?this.begin==a.begin:b:!1},K.$$arity=
1);b.alias(l,"eql?","==");b.def(l,"$begin",k=function(a){0!==a&&this.$raise(A(m,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},k.$$arity=1);b.def(l,"$end",sa=function(a){0!==a&&this.$raise(A(m,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},sa.$$arity=1);b.def(l,"$captures",S=function(){return this.matches.slice(1)},S.$$arity=0);b.def(l,"$inspect",D=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),
b=1,k=this.matches.length;b<k;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},D.$$arity=0);b.def(l,"$length",H=function(){return this.matches.length},H.$$arity=0);b.alias(l,"size","length");b.def(l,"$to_a",ia=function(){return this.matches},ia.$$arity=0);b.def(l,"$to_s",X=function(){return this.matches[0]},X.$$arity=0);return(b.def(l,"$values_at",a=function(a){var d=b.slice.call(arguments,0,arguments.length);var k,g=[];for(k=0;k<d.length;k++){if(d[k].$$is_range){var p=d[k].$to_a();p.unshift(k,
1);Array.prototype.splice.apply(d,p)}p=A(m,"Opal")["$coerce_to!"](d[k],A(m,"Integer"),"to_int");if(0>p&&(p+=this.matches.length,0>p)){g.push(B);continue}g.push(this.matches[p])}return g},a.$$arity=-1),B)&&"values_at"}(t[0],null,t)};
Opal.modules["corelib/string"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var A=b.top,u=[],q=b.nil,g=b.const_get_relative,J=b.klass,l=b.truthy,G=b.send,y=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $match? $captures $proc $succ $escape".split(" "));
A.$require("corelib/comparable");A.$require("corelib/regexp");(function(m,$super,u){function P(a){function b(a){var b="",e,c=a.length;for(e=0;e<c;e++){var f=a.charAt(e);if("-"===f&&0<e&&e<c-1&&!d){var d=a.charCodeAt(e-1);f=a.charCodeAt(e+1);d>f&&K.$raise(g(k,"ArgumentError"),'invalid range "'+d+"-"+f+'" in string transliteration');for(d+=1;d<f+1;d++)b+=String.fromCharCode(d);d=!0;e++}else d="\\"===f,b+=f}return b}function e(a,b){if(0===a.length)return b;var e="",c,f=a.length;for(c=0;c<f;c++){var d=
a.charAt(c);-1!==b.indexOf(d)&&(e+=d)}return e}var c,f="",d="";var w=0;for(c=a.length;w<c;w++){var C=g(k,"Opal").$coerce_to(a[w],g(k,"String"),"to_str");var n="^"===C.charAt(0)&&1<C.length;C=b(n?C.slice(1):C);n?d=e(d,C):f=e(f,C)}if(0<f.length&&0<d.length){C="";w=0;for(c=f.length;w<c;w++)a=f.charAt(w),-1===d.indexOf(a)&&(C+=a);f=C;d=""}return 0<f.length?"["+g(k,"Regexp").$escape(f)+"]":0<d.length?"[^"+g(k,"Regexp").$escape(d)+"]":null}var K=J(m,$super,"String"),k=[K].concat(u),A,S,D,H,ia,X,a,d,v,E,
O,p,h,e,z,r,U,F,n,c,f,W,aa,pa,L,R,ba,x,ca,da,ya,ea,xa,ta,T,fa,Ba,La,Ea,ja,wa,ra,I,V,ka,Ja,Ca,Na,na,qa,Ma,Ua,Ta,Ra,la,va,ha,Aa,Ka,ua,Ha,Fa,Da,Sa,Qa,Oa,Ga,za,Ya,Pa,Va,Wa,ab,Xa,Y,w;K.$include(g(k,"Comparable"));b.defineProperty(K.$$prototype,"$$is_string",!0);b.defineProperty(K.$$prototype,"$$cast",function(a){var b=this.$$class;return b.$$constructor===String?a:new b.$$constructor(a)});b.def(K,"$__id__",A=function(){return this.toString()},A.$$arity=0);b.alias(K,"object_id","__id__");b.defs(K,"$try_convert",
S=function(a){return g(k,"Opal")["$coerce_to?"](a,g(k,"String"),"to_str")},S.$$arity=1);b.defs(K,"$new",D=function(a){null==a&&(a="");a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str");return new this.$$constructor(a)},D.$$arity=-1);b.def(K,"$initialize",H=function(a){return void 0===a?this:this.$raise(g(k,"NotImplementedError"),"Mutable strings are not supported in Opal.")},H.$$arity=-1);b.def(K,"$%",ia=function(a){return l(g(k,"Array")["$==="](a))?G(this,"format",[this].concat(b.to_a(a))):this.$format(this,
a)},ia.$$arity=1);b.def(K,"$*",X=function(a){a=g(k,"Opal").$coerce_to(a,g(k,"Integer"),"to_int");0>a&&this.$raise(g(k,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",e=this.toString();for(268435456<=e.length*a&&this.$raise(g(k,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=e);a>>>=1;if(0===a)break;e+=e}return this.$$cast(b)},X.$$arity=1);b.def(K,"$+",a=function(a){a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str");return this+
a.$to_s()},a.$$arity=1);b.def(K,"$<=>",d=function(a){if(l(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===q?q:0<a?-1:0>a?1:0},d.$$arity=1);b.def(K,"$==",v=function(a){return a.$$is_string?this.toString()===a.toString():g(k,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},v.$$arity=1);b.alias(K,"eql?","==");b.alias(K,"===","==");b.def(K,"$=~",E=function(a){a.$$is_string&&this.$raise(g(k,"TypeError"),"type mismatch: String given");return a["$=~"](this)},
E.$$arity=1);b.def(K,"$[]",O=function(a,b){var e=this.length;if(a.$$is_range){var c=a.excl;b=g(k,"Opal").$coerce_to(a.end,g(k,"Integer"),"to_int");a=g(k,"Opal").$coerce_to(a.begin,g(k,"Integer"),"to_int");if(Math.abs(a)>e)return q;0>a&&(a+=e);0>b&&(b+=e);c||(b+=1);b-=a;0>b&&(b=0);return this.$$cast(this.substr(a,b))}if(a.$$is_string)return null!=b&&this.$raise(g(k,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):q;if(a.$$is_regexp){e=this.match(a);if(null===e)return y["~"]=q;y["~"]=g(k,"MatchData").$new(a,
e);if(null==b)return this.$$cast(e[0]);b=g(k,"Opal").$coerce_to(b,g(k,"Integer"),"to_int");return 0>b&&-b<e.length?this.$$cast(e[b+e.length]):0<=b&&b<e.length?this.$$cast(e[b]):q}a=g(k,"Opal").$coerce_to(a,g(k,"Integer"),"to_int");0>a&&(a+=e);if(null==b)return a>=e||0>a?q:this.$$cast(this.substr(a,1));b=g(k,"Opal").$coerce_to(b,g(k,"Integer"),"to_int");return 0>b||a>e||0>a?q:this.$$cast(this.substr(a,b))},O.$$arity=-2);b.alias(K,"byteslice","[]");b.def(K,"$b",p=function(){return this.$force_encoding("binary")},
p.$$arity=0);b.def(K,"$capitalize",h=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},h.$$arity=0);b.def(K,"$casecmp",e=function(a){var b=this;if(!l(a["$respond_to?"]("to_str")))return q;a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str").$to_s();var e=/^[\x00-\x7F]*$/;e.test(b)&&e.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},e.$$arity=1);b.def(K,"$casecmp?",z=function(a){a=this.$casecmp(a);return a===q?q:0===a},z.$$arity=1);b.def(K,"$center",
r=function(a,b){null==b&&(b=" ");a=g(k,"Opal").$coerce_to(a,g(k,"Integer"),"to_int");b=g(k,"Opal").$coerce_to(b,g(k,"String"),"to_str").$to_s();l(b["$empty?"]())&&this.$raise(g(k,"ArgumentError"),"zero width padding");if(l(a<=this.length))return this;var e=this.$ljust(t(B(a,this.length),2).$ceil(),b);a=this.$rjust(t(B(a,this.length),2).$floor(),b);return this.$$cast(a+e.slice(this.length))},r.$$arity=-2);b.def(K,"$chars",U=function(){var a=U.$$p,b=a||q;a&&(U.$$p=null);a&&(U.$$p=null);return l(b)?
G(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},U.$$arity=0);b.def(K,"$chomp",F=function(a){null==y["/"]&&(y["/"]=q);null==a&&(a=y["/"]);if(l(a===q||0===this.length))return this;a=g(k,"Opal")["$coerce_to!"](a,g(k,"String"),"to_str").$to_s();var b;"\n"===a?b=this.replace(/\r?\n?$/,""):""===a?b=this.replace(/(\r?\n)+$/,""):this.length>=a.length&&this.substr(this.length-a.length,a.length)===a&&(b=this.substr(0,this.length-a.length));return null!=b?this.$$cast(b):this},F.$$arity=-1);b.def(K,
"$chop",n=function(){var a=this.length;a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},n.$$arity=0);b.def(K,"$chr",c=function(){return this.charAt(0)},c.$$arity=0);b.def(K,"$clone",f=function(){var a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},f.$$arity=0);b.def(K,"$dup",W=function(){var a=this.slice();a.$initialize_dup(this);return a},W.$$arity=0);b.def(K,"$count",aa=function(a){var e=b.slice.call(arguments,
0,arguments.length);0===e.length&&this.$raise(g(k,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");e=P(e);return null===e?0:this.length-this.replace(new RegExp(e,"g"),"").length},aa.$$arity=-1);b.def(K,"$delete",pa=function(a){var e=b.slice.call(arguments,0,arguments.length);0===e.length&&this.$raise(g(k,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");e=P(e);return null===e?this:this.$$cast(this.replace(new RegExp(e,"g"),""))},pa.$$arity=-1);b.def(K,
"$delete_prefix",L=function(a){a.$$is_string||(a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},L.$$arity=1);b.def(K,"$delete_suffix",R=function(a){a.$$is_string||(a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},R.$$arity=1);b.def(K,"$downcase",ba=function(){return this.$$cast(this.toLowerCase())},ba.$$arity=0);b.def(K,"$each_char",
x=function(){var a=x.$$p,e=a||q,c;a&&(x.$$p=null);a&&(x.$$p=null);if(e===q)return G(this,"enum_for",["each_char"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var f=this.length;a<f;a++)b.yield1(e,this.charAt(a));return this},x.$$arity=0);b.def(K,"$each_line",ca=function(a){var e=ca.$$p,c=e||q;null==y["/"]&&(y["/"]=q);e&&(ca.$$p=null);e&&(ca.$$p=null);null==a&&(a=y["/"]);if(c===q)return this.$enum_for("each_line",a);if(a===q)return b.yield1(c,this),this;a=g(k,"Opal").$coerce_to(a,
g(k,"String"),"to_str");var f,d;if(0===a.length){a=this.split(/(\n{2,})/);e=0;for(f=a.length;e<f;e+=2)(a[e]||a[e+1])&&b.yield1(c,this.$$cast((a[e]||"")+(a[e+1]||"")));return this}e=this.$chomp(a);f=this.length!=e.length;var w=e.split(a);e=0;for(d=w.length;e<d;e++)e<d-1||f?b.yield1(c,this.$$cast(w[e]+a)):b.yield1(c,this.$$cast(w[e]));return this},ca.$$arity=-1);b.def(K,"$empty?",da=function(){return 0===this.length},da.$$arity=0);b.def(K,"$end_with?",ya=function(a){var e=b.slice.call(arguments,0,arguments.length);
for(var c=0,f=e.length;c<f;c++){var d=g(k,"Opal").$coerce_to(e[c],g(k,"String"),"to_str").$to_s();if(this.length>=d.length&&this.substr(this.length-d.length,d.length)==d)return!0}return!1},ya.$$arity=-1);b.alias(K,"equal?","===");b.def(K,"$gsub",ea=function(a,e){var c=ea.$$p,f=c||q,d=this;c&&(ea.$$p=null);c&&(ea.$$p=null);if(void 0===e&&f===q)return d.$enum_for("gsub",a);c="";var w=q,n=0;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&"),"gm"));for(var C;;){var h=a.exec(d);if(null===h){y["~"]=q;c+=d.slice(n);break}w=g(k,"MatchData").$new(a,h);if(void 0===e){C=a.lastIndex;var r=f(h[0]);a.lastIndex=C}else e.$$is_hash?r=e["$[]"](h[0]).$to_s():(e.$$is_string||(e=g(k,"Opal").$coerce_to(e,g(k,"String"),"to_str")),r=e.replace(/([\\]+)([0-9+&`'])/g,function(a,b,e){if(0===b.length%2)return a;switch(e){case "+":for(a=h.length-1;0<a;a--)if(void 0!==h[a])return b.slice(1)+h[a];return"";case "&":return b.slice(1)+h[0];case "`":return b.slice(1)+
d.slice(0,h.index);case "'":return b.slice(1)+d.slice(h.index+h[0].length);default:return b.slice(1)+(h[e]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===h.index?(c+=r+d.slice(n,h.index+1),a.lastIndex+=1):c+=d.slice(n,h.index)+r;n=a.lastIndex}y["~"]=w;return d.$$cast(c)},ea.$$arity=-2);b.def(K,"$hash",xa=function(){return this.toString()},xa.$$arity=0);b.def(K,"$hex",ta=function(){return this.$to_i(16)},ta.$$arity=0);b.def(K,"$include?",T=function(a){a.$$is_string||(a=g(k,"Opal").$coerce_to(a,g(k,"String"),
"to_str"));return-1!==this.indexOf(a)},T.$$arity=1);b.def(K,"$index",fa=function(a,e){var c;if(void 0===e)e=0;else if(e=g(k,"Opal").$coerce_to(e,g(k,"Integer"),"to_int"),0>e&&(e+=this.length,0>e))return q;if(a.$$is_regexp)for(c=b.global_multiline_regexp(a);;){a=c.exec(this);if(null===a){y["~"]=q;e=-1;break}if(a.index>=e){y["~"]=g(k,"MatchData").$new(c,a);e=a.index;break}c.lastIndex=a.index+1}else a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"),e=0===a.length&&e>this.length?-1:this.indexOf(a,e);
return-1===e?q:e},fa.$$arity=-2);b.def(K,"$inspect",Ba=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},Ba.$$arity=0);b.def(K,"$intern",La=function(){return this.toString()},
La.$$arity=0);b.def(K,"$lines",Ea=function(a){var b=Ea.$$p,e=b||q;null==y["/"]&&(y["/"]=q);b&&(Ea.$$p=null);b&&(Ea.$$p=null);null==a&&(a=y["/"]);a=G(this,"each_line",[a],e.$to_proc());return l(e)?this:a.$to_a()},Ea.$$arity=-1);b.def(K,"$length",ja=function(){return this.length},ja.$$arity=0);b.def(K,"$ljust",wa=function(a,b){null==b&&(b=" ");a=g(k,"Opal").$coerce_to(a,g(k,"Integer"),"to_int");b=g(k,"Opal").$coerce_to(b,g(k,"String"),"to_str").$to_s();l(b["$empty?"]())&&this.$raise(g(k,"ArgumentError"),
"zero width padding");if(l(a<=this.length))return this;var e=-1,c="";for(a-=this.length;++e<a;)c+=b;return this.$$cast(this+c.slice(0,a))},wa.$$arity=-2);b.def(K,"$lstrip",ra=function(){return this.replace(/^\s*/,"")},ra.$$arity=0);b.def(K,"$ascii_only?",I=function(){return this.match(/[ -~\n]*/)[0]===this},I.$$arity=0);b.def(K,"$match",V=function(a,b){var e=V.$$p,c=e||q,f;e&&(V.$$p=null);e&&(V.$$p=null);l(l(f=g(k,"String")["$==="](a))?f:a["$respond_to?"]("to_str"))&&(a=g(k,"Regexp").$new(a.$to_str()));
l(g(k,"Regexp")["$==="](a))||this.$raise(g(k,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return G(a,"match",[this,b],c.$to_proc())},V.$$arity=-2);b.def(K,"$match?",ka=function(a,b){var e;l(l(e=g(k,"String")["$==="](a))?e:a["$respond_to?"]("to_str"))&&(a=g(k,"Regexp").$new(a.$to_str()));l(g(k,"Regexp")["$==="](a))||this.$raise(g(k,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return a["$match?"](this,b)},ka.$$arity=-2);b.def(K,"$next",Ja=function(){var a=
this.length;if(0===a)return this.$$cast("");for(var b=this,e=this.search(/[a-zA-Z0-9]/),c,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:c=!0;f=48;break;case 90:c=!0;f=65;break;case 122:c=!0;f=97;break;default:c=!1,f+=1}else-1===e?255===f?(c=!0,f=0):(c=!1,f+=1):c=!0;b=b.slice(0,a)+String.fromCharCode(f)+b.slice(a+1);if(c&&(0===a||a===e)){switch(f){case 65:break;case 97:break;default:f+=1}b=0===a?String.fromCharCode(f)+b:b.slice(0,a)+String.fromCharCode(f)+
b.slice(a);c=!1}if(!c)break}return this.$$cast(b)},Ja.$$arity=0);b.def(K,"$oct",Ca=function(){var a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,e,c,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===c)return a}switch(c){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return e+f});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},Ca.$$arity=0);b.def(K,"$ord",Na=function(){return this.charCodeAt(0)},
Na.$$arity=0);b.def(K,"$partition",na=function(a){if(a.$$is_regexp){var b=a.exec(this);null===b?b=-1:(g(k,"MatchData").$new(a,b),a=b[0],b=b.index)}else a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"),b=this.indexOf(a);return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},na.$$arity=1);b.def(K,"$reverse",qa=function(){return this.split("").reverse().join("")},qa.$$arity=0);b.def(K,"$rindex",Ma=function(a,e){if(void 0===e)e=this.length;else if(e=g(k,"Opal").$coerce_to(e,
g(k,"Integer"),"to_int"),0>e&&(e+=this.length,0>e))return q;if(a.$$is_regexp){var c=null;for(a=b.global_multiline_regexp(a);;){var f=a.exec(this);if(null===f||f.index>e)break;c=f;a.lastIndex=c.index+1}null===c?(y["~"]=q,e=-1):(g(k,"MatchData").$new(a,c),e=c.index)}else a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"),e=this.lastIndexOf(a,e);return-1===e?q:e},Ma.$$arity=-2);b.def(K,"$rjust",Ua=function(a,b){null==b&&(b=" ");a=g(k,"Opal").$coerce_to(a,g(k,"Integer"),"to_int");b=g(k,"Opal").$coerce_to(b,
g(k,"String"),"to_str").$to_s();l(b["$empty?"]())&&this.$raise(g(k,"ArgumentError"),"zero width padding");if(l(a<=this.length))return this;a=Math.floor(a-this.length);var e=Array(Math.floor(a/b.length)+1).join(b);return this.$$cast(e+b.slice(0,a-e.length)+this)},Ua.$$arity=-2);b.def(K,"$rpartition",Ta=function(a){var e;if(a.$$is_regexp){var c=null;for(e=b.global_multiline_regexp(a);;){var f=e.exec(this);if(null===f)break;c=f;e.lastIndex=c.index+1}null===c?c=-1:(g(k,"MatchData").$new(e,c),a=c[0],c=
c.index)}else a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"),c=this.lastIndexOf(a);return-1===c?["","",this]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},Ta.$$arity=1);b.def(K,"$rstrip",Ra=function(){return this.replace(/[\s\u0000]*$/,"")},Ra.$$arity=0);b.def(K,"$scan",la=function(a){var e=la.$$p,c=e||q;e&&(la.$$p=null);e&&(la.$$p=null);e=[];var f=q,d;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&"),"gm"));for(;null!=(d=a.exec(this));)f=g(k,"MatchData").$new(a,d),c===q?1==d.length?e.push(d[0]):e.push(f.$captures()):1==d.length?c(d[0]):c.call(this,f.$captures()),a.lastIndex===d.index&&(a.lastIndex+=1);y["~"]=f;return c!==q?this:e},la.$$arity=1);b.alias(K,"size","length");b.alias(K,"slice","[]");b.def(K,"$split",va=function(a,e){function c(){for(h=0;h<w.length;h++)w[h]=d.$$cast(w[h])}var f,d=this;null==y[";"]&&(y[";"]=q);if(0===d.length)return[];if(void 0===e)e=0;else if(e=g(k,"Opal")["$coerce_to!"](e,
g(k,"Integer"),"to_int"),1===e)return[d];if(void 0===a||a===q)a=l(f=y[";"])?f:" ";var w=[];f=d.toString();var n=0,h;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,f=f.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));w=f.split(a);if(1===w.length&&w[0]===f)return[d.$$cast(w[0])];for(;-1!==(h=w.indexOf(void 0));)w.splice(h,1);if(0===e){for(;""===w[w.length-1];)--w.length;c();return w}var r=a.exec(f);
if(0>e){if(null!==r&&""===r[0]&&-1===a.source.indexOf("(?="))for(h=0,a=r.length;h<a;h++)w.push("");c();return w}if(null!==r&&""===r[0])return w.splice(e-1,w.length-1,w.slice(e-1).join("")),c(),w;if(e>=w.length)return c(),w;for(h=0;null!==r;){h++;n=a.lastIndex;if(h+1===e)break;r=a.exec(f)}w.splice(e-1,w.length-1,f.slice(n));c();return w},va.$$arity=-1);b.def(K,"$squeeze",ha=function(a){var e=b.slice.call(arguments,0,arguments.length);if(0===e.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));
e=P(e);return null===e?this:this.$$cast(this.replace(new RegExp("("+e+")\\1+","g"),"$1"))},ha.$$arity=-1);b.def(K,"$start_with?",Aa=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=0,f=e.length;c<f;c++){var d=g(k,"Opal").$coerce_to(e[c],g(k,"String"),"to_str").$to_s();if(0===this.indexOf(d))return!0}return!1},Aa.$$arity=-1);b.def(K,"$strip",Ka=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},Ka.$$arity=0);b.def(K,"$sub",ua=function(a,b){var e=ua.$$p,c=e||
q,f=this;e&&(ua.$$p=null);e&&(ua.$$p=null);a.$$is_regexp||(a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var d=a.exec(f);null===d?(y["~"]=q,a=f.toString()):(g(k,"MatchData").$new(a,d),void 0===b?(c===q&&f.$raise(g(k,"ArgumentError"),"wrong number of arguments (1 for 2)"),a=f.slice(0,d.index)+c(d[0])+f.slice(d.index+d[0].length)):b.$$is_hash?a=f.slice(0,d.index)+b["$[]"](d[0]).$to_s()+f.slice(d.index+d[0].length):(b=g(k,"Opal").$coerce_to(b,
g(k,"String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,e){if(0===b.length%2)return a;switch(e){case "+":for(a=d.length-1;0<a;a--)if(void 0!==d[a])return b.slice(1)+d[a];return"";case "&":return b.slice(1)+d[0];case "`":return b.slice(1)+f.slice(0,d.index);case "'":return b.slice(1)+f.slice(d.index+d[0].length);default:return b.slice(1)+(d[e]||"")}}).replace(/\\\\/g,"\\"),a=f.slice(0,d.index)+b+f.slice(d.index+d[0].length)));return f.$$cast(a)},ua.$$arity=-2);b.alias(K,"succ","next");
b.def(K,"$sum",Ha=function(a){null==a&&(a=16);a=g(k,"Opal").$coerce_to(a,g(k,"Integer"),"to_int");for(var b=0,e=this.length,c=0;c<e;c++)b+=this.charCodeAt(c);return 0>=a?b:b&Math.pow(2,a)-1},Ha.$$arity=-1);b.def(K,"$swapcase",Fa=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,e){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Fa.$$arity=0);b.def(K,"$to_f",Da=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,
""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Da.$$arity=0);b.def(K,"$to_i",Sa=function(a){null==a&&(a=10);var b=this.toLowerCase(),e=g(k,"Opal").$coerce_to(a,g(k,"Integer"),"to_int");(1===e||0>e||36<e)&&this.$raise(g(k,"ArgumentError"),"invalid radix "+e);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,c,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===c&&(0===e||16===e))return a}switch(c){case "0b":if(0===e||2===e)return e=
2,b+f;break;case "0":case "0o":if(0===e||8===e)return e=8,b+f;break;case "0d":if(0===e||10===e)return e=10,b+f;break;case "0x":if(0===e||16===e)return e=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),e);return isNaN(a)?0:a},Sa.$$arity=-1);b.def(K,"$to_proc",Qa=function(){var a,e=q;Qa.$$p&&(Qa.$$p=null);e=B("$",this.valueOf());return G(this,"proc",[],(a=function(c){var f=a.$$s||this,d=a.$$p,w=d||q;d&&(a.$$p=null);d=b.slice.call(arguments,0,arguments.length);0===d.length&&f.$raise(g(k,"ArgumentError"),
"no receiver given");f=d[0];null==f&&(f=q);var n=f[e];if(!n)return f.$method_missing.apply(f,d);"function"===typeof w&&(n.$$p=w);return 1===d.length?n.call(f):n.apply(f,d.slice(1))},a.$$s=this,a.$$arity=-1,a))},Qa.$$arity=0);b.def(K,"$to_s",Oa=function(){return this.toString()},Oa.$$arity=0);b.alias(K,"to_str","to_s");b.alias(K,"to_sym","intern");b.def(K,"$tr",Ga=function(a,b){a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str").$to_s();b=g(k,"Opal").$coerce_to(b,g(k,"String"),"to_str").$to_s();if(0==
a.length||a===b)return this;var e={};var c=a.split("");var f=c.length,d=b.split(""),w=d.length;a=!1;var n=null;"^"===c[0]&&1<c.length&&(a=!0,c.shift(),n=d[w-1],--f);var h=[];var r=null;var p=!1;for(b=0;b<f;b++){var x=c[b];if(null==r)r=x,h.push(x);else if("-"===x)"-"===r?(h.push("-"),h.push("-")):b==f-1?h.push("-"):p=!0;else if(p){r=r.charCodeAt(0);p=x.charCodeAt(0);r>p&&this.$raise(g(k,"ArgumentError"),'invalid range "'+String.fromCharCode(r)+"-"+String.fromCharCode(p)+'" in string transliteration');
for(r+=1;r<p;r++)h.push(String.fromCharCode(r));h.push(x);r=p=null}else h.push(x)}c=h;f=c.length;if(a)for(b=0;b<f;b++)e[c[b]]=!0;else{if(0<w){h=[];r=null;p=!1;for(b=0;b<w;b++)if(x=d[b],null==r)r=x,h.push(x);else if("-"===x)"-"===r?(h.push("-"),h.push("-")):b==w-1?h.push("-"):p=!0;else if(p){r=r.charCodeAt(0);p=x.charCodeAt(0);r>p&&this.$raise(g(k,"ArgumentError"),'invalid range "'+String.fromCharCode(r)+"-"+String.fromCharCode(p)+'" in string transliteration');for(r+=1;r<p;r++)h.push(String.fromCharCode(r));
h.push(x);r=p=null}else h.push(x);d=h;w=d.length}x=f-w;if(0<x)for(w=0<w?d[w-1]:"",b=0;b<x;b++)d.push(w);for(b=0;b<f;b++)e[c[b]]=d[b]}f="";b=0;for(c=this.length;b<c;b++)x=this.charAt(b),d=e[x],f=a?f+(null==d?n:x):f+(null!=d?d:x);return this.$$cast(f)},Ga.$$arity=2);b.def(K,"$tr_s",za=function(a,b){a=g(k,"Opal").$coerce_to(a,g(k,"String"),"to_str").$to_s();b=g(k,"Opal").$coerce_to(b,g(k,"String"),"to_str").$to_s();if(0==a.length)return this;var e={};var c=a.split("");var f=c.length,d=b.split(""),w=
d.length;a=!1;var n=null;"^"===c[0]&&1<c.length&&(a=!0,c.shift(),n=d[w-1],--f);var h=[];var r=null;var p=!1;for(b=0;b<f;b++){var x=c[b];if(null==r)r=x,h.push(x);else if("-"===x)"-"===r?(h.push("-"),h.push("-")):b==f-1?h.push("-"):p=!0;else if(p){r=r.charCodeAt(0);p=x.charCodeAt(0);r>p&&this.$raise(g(k,"ArgumentError"),'invalid range "'+String.fromCharCode(r)+"-"+String.fromCharCode(p)+'" in string transliteration');for(r+=1;r<p;r++)h.push(String.fromCharCode(r));h.push(x);r=p=null}else h.push(x)}c=
h;f=c.length;if(a)for(b=0;b<f;b++)e[c[b]]=!0;else{if(0<w){h=[];p=!1;for(b=0;b<w;b++)if(x=d[b],null==r)r=x,h.push(x);else if("-"===x)b==w-1?h.push("-"):p=!0;else if(p){r=r.charCodeAt(0);p=x.charCodeAt(0);r>p&&this.$raise(g(k,"ArgumentError"),'invalid range "'+String.fromCharCode(r)+"-"+String.fromCharCode(p)+'" in string transliteration');for(r+=1;r<p;r++)h.push(String.fromCharCode(r));h.push(x);r=p=null}else h.push(x);d=h;w=d.length}x=f-w;if(0<x)for(w=0<w?d[w-1]:"",b=0;b<x;b++)d.push(w);for(b=0;b<
f;b++)e[c[b]]=d[b]}f="";d=null;b=0;for(c=this.length;b<c;b++)if(x=this.charAt(b),w=e[x],a)null==w?null==d&&(f+=n,d=!0):(f+=x,d=null);else if(null!=w){if(null==d||d!==w)f+=w,d=w}else f+=x,d=null;return this.$$cast(f)},za.$$arity=2);b.def(K,"$upcase",Ya=function(){return this.$$cast(this.toUpperCase())},Ya.$$arity=0);b.def(K,"$upto",Pa=function(a,b){var e=Pa.$$p,c=e||q;e&&(Pa.$$p=null);e&&(Pa.$$p=null);null==b&&(b=!1);if(c===q)return this.$enum_for("upto",a,b);a=g(k,"Opal").$coerce_to(a,g(k,"String"),
"to_str");e=this.toString();if(1===e.length&&1===a.length)for(e=e.charCodeAt(0),a=a.charCodeAt(0);e<=a&&(!b||e!==a);)c(String.fromCharCode(e)),e+=1;else if(parseInt(e,10).toString()===e&&parseInt(a,10).toString()===a)for(e=parseInt(e,10),a=parseInt(a,10);e<=a&&(!b||e!==a);)c(e.toString()),e+=1;else for(;e.length<=a.length&&e<=a&&(!b||e!==a);)c(e),e=e.$succ();return this},Pa.$$arity=-2);b.def(K,"$instance_variables",Va=function(){return[]},Va.$$arity=0);b.defs(K,"$_load",Wa=function(a){var e=b.slice.call(arguments,
0,arguments.length);return G(this,"new",b.to_a(e))},Wa.$$arity=-1);b.def(K,"$unicode_normalize",ab=function(a){return this.toString()},ab.$$arity=-1);b.def(K,"$unicode_normalized?",Xa=function(a){return!0},Xa.$$arity=-1);b.def(K,"$unpack",Y=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Y.$$arity=1);return(b.def(K,"$unpack1",w=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},w.$$arity=
1),q)&&"unpack1"})(u[0],String,u);return b.const_set(u[0],"Symbol",g(u,"String"))};
Opal.modules["corelib/enumerable"]=function(b){function t(b,k){return"number"===typeof b&&"number"===typeof k?b>k:b["$>"](k)}function B(b,k){return"number"===typeof b&&"number"===typeof k?b+k:b["$+"](k)}function A(b,k){return"number"===typeof b&&"number"===typeof k?b-k:b["$-"](k)}function u(b,k){return"number"===typeof b&&"number"===typeof k?b<=k:b["$<="](k)}var q=[],g=b.nil,J=b.const_get_qualified,l=b.const_get_relative,G=b.module,y=b.truthy,m=b.send,Q=b.falsy,P=b.hash2,M=b.lambda;b.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));
return function(q,k){function K(a){0===a.length&&(a=[g]);1<a.length&&(a=[a]);return a}q=G(q,"Enumerable");var S=[q].concat(k),D,H,ia,X,a,d,v,E,O,p,h,e,z,r,U,F,n,c,f,W,aa,pa,L,R,ba,x,ca,da,ya,ea,xa,ta,T,fa,Ba,La,Ea,ja,wa,ra,I,V,ka,Ja,Ca,Na,na,qa;b.def(q,"$all?",D=function(a){try{var e=D.$$p,c=e||g,f,d,n;e&&(D.$$p=null);e&&(D.$$p=null);y(void 0!==a)?m(this,"each",[],(f=function(e){var c=b.slice.call(arguments,0,arguments.length);c=K(c);if(y(m(a,"public_send",["==="].concat(b.to_a(c)))))return g;b.ret(!1)},
f.$$s=this,f.$$arity=-1,f)):c!==g?m(this,"each",[],(d=function(a){var e=b.slice.call(arguments,0,arguments.length);if(y(b.yieldX(c,b.to_a(e))))return g;b.ret(!1)},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var e=b.slice.call(arguments,0,arguments.length);if(y(l(S,"Opal").$destructure(e)))return g;b.ret(!1)},n.$$s=this,n.$$arity=-1,n));return!0}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},D.$$arity=-1);b.def(q,"$any?",H=function(a){try{var e=H.$$p,c=e||g,f,d,n;e&&(H.$$p=null);
e&&(H.$$p=null);y(void 0!==a)?m(this,"each",[],(f=function(e){var c=b.slice.call(arguments,0,arguments.length);c=K(c);if(y(m(a,"public_send",["==="].concat(b.to_a(c)))))b.ret(!0);else return g},f.$$s=this,f.$$arity=-1,f)):c!==g?m(this,"each",[],(d=function(a){var e=b.slice.call(arguments,0,arguments.length);if(y(b.yieldX(c,b.to_a(e))))b.ret(!0);else return g},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var e=b.slice.call(arguments,0,arguments.length);if(y(l(S,"Opal").$destructure(e)))b.ret(!0);
else return g},n.$$s=this,n.$$arity=-1,n));return!1}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},H.$$arity=-1);b.def(q,"$chunk",ia=function(){var a=ia.$$p,e=a||g,c,f;a&&(ia.$$p=null);a&&(ia.$$p=null);return e===g?m(this,"to_enum",["chunk"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c)):m(J("::","Enumerator"),"new",[],(f=function(a){function c(){0<h.length&&a.$yield(n,h)}var d=f.$$s||this;null==a&&(a=g);var n=g,h=[];d.$each.$$p=function(a){var f=b.yield1(e,
a);f===g?(c(),h=[],n=g):(n===g||n===f?h.push(a):(c(),h=[a]),n=f)};d.$each();c()},f.$$s=this,f.$$arity=1,f))},ia.$$arity=0);b.def(q,"$chunk_while",X=function(){var a=X.$$p,e=a||g,c;a&&(X.$$p=null);a&&(X.$$p=null);e===g&&this.$raise(l(S,"ArgumentError"),"no block given");return m(this,"slice_when",[],(c=function(a,c){null==a&&(a=g);null==c&&(c=g);return b.yieldX(e,[a,c])["$!"]()},c.$$s=this,c.$$arity=2,c))},X.$$arity=0);b.def(q,"$collect",a=function(){var e=a.$$p,c=e||g,f;e&&(a.$$p=null);e&&(a.$$p=
null);if(c===g)return m(this,"enum_for",["collect"],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var a=b.yieldX(c,arguments);d.push(a)};this.$each();return d},a.$$arity=0);b.def(q,"$collect_concat",d=function(){var a=d.$$p,e=a||g,c,f;a&&(d.$$p=null);a&&(d.$$p=null);return e===g?m(this,"enum_for",["collect_concat"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c)):m(this,"map",[],(f=function(a){null==
a&&(a=g);return b.yield1(e,a)},f.$$s=this,f.$$arity=1,f)).$flatten(1)},d.$$arity=0);b.def(q,"$count",v=function(a){var e=v.$$p,c=e||g,f,d,n,h=g;e&&(v.$$p=null);e&&(v.$$p=null);h=0;null!=a&&c!==g&&this.$warn("warning: given block not used");y(null!=a)?c=m(this,"proc",[],(f=function(e){var c=b.slice.call(arguments,0,arguments.length);return l(S,"Opal").$destructure(c)["$=="](a)},f.$$s=this,f.$$arity=-1,f)):y(c["$nil?"]())&&(c=m(this,"proc",[],(d=function(){return!0},d.$$s=this,d.$$arity=0,d)));m(this,
"each",[],(n=function(a){var e=b.slice.call(arguments,0,arguments.length);return y(b.yieldX(c,e))?h++:g},n.$$s=this,n.$$arity=-1,n));return h},v.$$arity=-1);b.def(q,"$cycle",E=function(a){var e=E.$$p,c=e||g,f;e&&(E.$$p=null);e&&(E.$$p=null);null==a&&(a=g);if(c===g)return m(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(y(a["$nil?"]()))return y(b["$respond_to?"]("size"))?J(l(S,"Float"),"INFINITY"):g;a=l(S,"Opal")["$coerce_to!"](a,l(S,"Integer"),"to_int");return y(t(a,0))?(b=b.$enumerator_size(),
"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(!y(a["$nil?"]())&&(a=l(S,"Opal")["$coerce_to!"](a,l(S,"Integer"),"to_int"),y(0>=a)))return g;var d=[],n;this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments);b.yield1(c,a);d.push(a)};this.$each();if(0===d.length)return g;if(a===g)for(;;)for(e=0,n=d.length;e<n;e++)b.yield1(c,d[e]);else for(;1<a;){e=0;for(n=d.length;e<n;e++)b.yield1(c,d[e]);a--}},E.$$arity=-1);b.def(q,"$detect",O=function(a){try{var e=
O.$$p,c=e||g,f;e&&(O.$$p=null);e&&(O.$$p=null);if(c===g)return this.$enum_for("detect",a);m(this,"each",[],(f=function(a){var e=b.slice.call(arguments,0,arguments.length);e=l(S,"Opal").$destructure(e);if(y(b.yield1(c,e)))b.ret(e);else return g},f.$$s=this,f.$$arity=-1,f));return void 0!==a?"function"===typeof a?a():a:g}catch(la){if(la===b.returner)return la.$v;throw la;}},O.$$arity=-1);b.def(q,"$drop",p=function(a){a=l(S,"Opal").$coerce_to(a,l(S,"Integer"),"to_int");y(0>a)&&this.$raise(l(S,"ArgumentError"),
"attempt to drop negative size");var b=[],e=0;this.$each.$$p=function(){a<=e&&b.push(l(S,"Opal").$destructure(arguments));e++};this.$each();return b},p.$$arity=1);b.def(q,"$drop_while",h=function(){var a=h.$$p,e=a||g;a&&(h.$$p=null);a&&(h.$$p=null);if(e===g)return this.$enum_for("drop_while");var c=[],f=!0;this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments);if(f){var d=b.yield1(e,a);Q(d)&&(f=!1,c.push(a))}else c.push(a)};this.$each();return c},h.$$arity=0);b.def(q,"$each_cons",e=function(a){var c=
e.$$p,f=c||g,d;c&&(e.$$p=null);c&&(e.$$p=null);y(1!=arguments.length)&&this.$raise(l(S,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");a=l(S,"Opal").$try_convert(a,l(S,"Integer"),"to_int");y(0>=a)&&this.$raise(l(S,"ArgumentError"),"invalid size");if(f===g)return m(this,"enum_for",["each_cons",a],(d=function(){var b;var e=(d.$$s||this).$enumerator_size();return y(e["$nil?"]())?g:y(y(b=e["$=="](0))?b:"number"===typeof e&&"number"===typeof a?e<a:e["$<"](a))?0:B(A(e,a),1)},
d.$$s=this,d.$$arity=0,d));var n=[];this.$each.$$p=function(){var e=l(S,"Opal").$destructure(arguments);n.push(e);n.length>a&&n.shift();n.length==a&&b.yield1(f,n.slice(0,a))};this.$each();return g},e.$$arity=1);b.def(q,"$each_entry",z=function(a){var e=z.$$p,c=e||g,f;e&&(z.$$p=null);e&&(z.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(c===g)return m(this,"to_enum",["each_entry"].concat(b.to_a(e)),(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));this.$each.$$p=
function(){var a=l(S,"Opal").$destructure(arguments);b.yield1(c,a)};this.$each.apply(this,e);return this},z.$$arity=-1);b.def(q,"$each_slice",r=function(a){var e=r.$$p,c=e||g,f;e&&(r.$$p=null);e&&(r.$$p=null);a=l(S,"Opal").$coerce_to(a,l(S,"Integer"),"to_int");y(0>=a)&&this.$raise(l(S,"ArgumentError"),"invalid slice size");if(c===g)return m(this,"enum_for",["each_slice",a],(f=function(){var b=f.$$s||this;return y(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof a?b/
a:b["$/"](a)).$ceil()):g},f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var e=l(S,"Opal").$destructure(arguments);d.push(e);d.length===a&&(b.yield1(c,d),d=[])};this.$each();0<d.length&&b.yield1(c,d);return g},r.$$arity=1);b.def(q,"$each_with_index",U=function(a){var e=U.$$p,c=e||g,f;e&&(U.$$p=null);e&&(U.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(c===g)return m(this,"enum_for",["each_with_index"].concat(b.to_a(e)),(f=function(){return(f.$$s||this).$enumerator_size()},
f.$$s=this,f.$$arity=0,f));var d=0;this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments);c(a,d);d++};this.$each.apply(this,e);return this},U.$$arity=-1);b.def(q,"$each_with_object",F=function(a){var b=F.$$p,e=b||g,c;b&&(F.$$p=null);b&&(F.$$p=null);if(e===g)return m(this,"enum_for",["each_with_object",a],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));this.$each.$$p=function(){var b=l(S,"Opal").$destructure(arguments);e(b,a)};this.$each();return a},F.$$arity=
1);b.def(q,"$entries",n=function(a){var e=b.slice.call(arguments,0,arguments.length);var c=[];this.$each.$$p=function(){c.push(l(S,"Opal").$destructure(arguments))};this.$each.apply(this,e);return c},n.$$arity=-1);b.alias(q,"find","detect");b.def(q,"$find_all",c=function(){var a=c.$$p,e=a||g,f;a&&(c.$$p=null);a&&(c.$$p=null);if(e===g)return m(this,"enum_for",["find_all"],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments),
c=b.yield1(e,a);y(c)&&d.push(a)};this.$each();return d},c.$$arity=0);b.def(q,"$find_index",f=function(a){try{var e=f.$$p,c=e||g,d,n,h=g;e&&(f.$$p=null);e&&(f.$$p=null);if(y(void 0===a&&c===g))return this.$enum_for("find_index");null!=a&&c!==g&&this.$warn("warning: given block not used");h=0;y(null!=a)?m(this,"each",[],(d=function(e){var c=b.slice.call(arguments,0,arguments.length);l(S,"Opal").$destructure(c)["$=="](a)&&b.ret(h);return h+=1},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var e=
b.slice.call(arguments,0,arguments.length);y(b.yieldX(c,b.to_a(e)))&&b.ret(h);return h+=1},n.$$s=this,n.$$arity=-1,n));return g}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},f.$$arity=-1);b.def(q,"$first",W=function(a){try{var e,c,f=g,d=g;if(y(void 0===a))return m(this,"each",[],(e=function(a){null==a&&(a=g);b.ret(a)},e.$$s=this,e.$$arity=1,e));f=[];a=l(S,"Opal").$coerce_to(a,l(S,"Integer"),"to_int");y(0>a)&&this.$raise(l(S,"ArgumentError"),"attempt to take negative size");if(y(0==a))return[];
d=0;m(this,"each",[],(c=function(e){var c=b.slice.call(arguments,0,arguments.length);f.push(l(S,"Opal").$destructure(c));if(y(a<=++d))b.ret(f);else return g},c.$$s=this,c.$$arity=-1,c));return f}catch(va){if(va===b.returner)return va.$v;throw va;}},W.$$arity=-1);b.alias(q,"flat_map","collect_concat");b.def(q,"$grep",aa=function(a){var e=aa.$$p,c=e||g,f,d=g;e&&(aa.$$p=null);e&&(aa.$$p=null);d=[];m(this,"each",[],(f=function(e){var f=b.slice.call(arguments,0,arguments.length);var n=K(f);if(!y(m(a,"__send__",
["==="].concat(b.to_a(n)))))return g;c!==g?(y(t(f.$length(),1))&&(f=[f]),f=b.yieldX(c,b.to_a(f))):y(u(f.$length(),1))&&(f=f["$[]"](0));return d.$push(f)},f.$$s=this,f.$$arity=-1,f));return d},aa.$$arity=1);b.def(q,"$grep_v",pa=function(a){var e=pa.$$p,c=e||g,f,d=g;e&&(pa.$$p=null);e&&(pa.$$p=null);d=[];m(this,"each",[],(f=function(e){var f=b.slice.call(arguments,0,arguments.length);var n=K(f);if(y(m(a,"__send__",["==="].concat(b.to_a(n)))))return g;c!==g?(y(t(f.$length(),1))&&(f=[f]),f=b.yieldX(c,
b.to_a(f))):y(u(f.$length(),1))&&(f=f["$[]"](0));return d.$push(f)},f.$$s=this,f.$$arity=-1,f));return d},pa.$$arity=1);b.def(q,"$group_by",L=function(){var a=L.$$p,e=a||g,c,f,d=g,n=g;a&&(L.$$p=null);a&&(L.$$p=null);if(e===g)return m(this,"enum_for",["group_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));d=P([],{});this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments),c=b.yield1(e,a);(y(f=d["$[]"](c))?f:(n=[c,[]],m(d,"[]=",b.to_a(n)),n[A(n.length,
1)]))["$<<"](a)};this.$each();return d},L.$$arity=0);b.def(q,"$include?",R=function(a){try{var e;m(this,"each",[],(e=function(e){var c=b.slice.call(arguments,0,arguments.length);if(l(S,"Opal").$destructure(c)["$=="](a))b.ret(!0);else return g},e.$$s=this,e.$$arity=-1,e));return!1}catch(Ta){if(Ta===b.returner)return Ta.$v;throw Ta;}},R.$$arity=1);b.def(q,"$inject",ba=function(a,e){var c=ba.$$p,f=c||g;c&&(ba.$$p=null);c&&(ba.$$p=null);var d=a;f!==g&&void 0===e?this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments);
void 0!==d&&(a=b.yieldX(f,[d,a]));d=a}:(void 0===e&&(l(S,"Symbol")["$==="](a)||this.$raise(l(S,"TypeError"),""+a.$inspect()+" is not a Symbol"),e=a,d=void 0),this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments);d=void 0===d?a:d.$__send__(e,a)});this.$each();return void 0==d?g:d},ba.$$arity=-1);b.def(q,"$lazy",x=function(){var a;return m(J(l(S,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,e){null==a&&(a=g);var c=b.slice.call(arguments,1,arguments.length);return m(a,
"yield",b.to_a(c))},a.$$s=this,a.$$arity=-2,a))},x.$$arity=0);b.def(q,"$enumerator_size",ca=function(){return y(this["$respond_to?"]("size"))?this.$size():g},ca.$$arity=0);b.alias(q,"map","collect");b.def(q,"$max",da=function(a){var e=da.$$p,c=e||g,f=this;e&&(da.$$p=null);e&&(da.$$p=null);if(void 0===a||a===g){var d,n;f.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments);void 0===d?d=a:(n=c!==g?b.yieldX(c,[a,d]):a["$<=>"](d),n===g&&f.$raise(l(S,"ArgumentError"),"comparison failed"),0<n&&
(d=a))};f.$each();return void 0===d?g:d}a=l(S,"Opal").$coerce_to(a,l(S,"Integer"),"to_int");return m(f,"sort",[],c.$to_proc()).$reverse().$first(a)},da.$$arity=-1);b.def(q,"$max_by",ya=function(){var a=ya.$$p,e=a||g,c;a&&(ya.$$p=null);a&&(ya.$$p=null);if(!y(e))return m(this,"enum_for",["max_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f,d;this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments),c=b.yield1(e,a);void 0===f?(f=a,d=c):0<c["$<=>"](d)&&
(f=a,d=c)};this.$each();return void 0===f?g:f},ya.$$arity=0);b.alias(q,"member?","include?");b.def(q,"$min",ea=function(){var a=ea.$$p,b=a||g,e=this;a&&(ea.$$p=null);a&&(ea.$$p=null);var c;e.$each.$$p=b!==g?function(){var a=l(S,"Opal").$destructure(arguments);if(void 0===c)c=a;else{var f=b(a,c);f===g&&e.$raise(l(S,"ArgumentError"),"comparison failed");0>f&&(c=a)}}:function(){var a=l(S,"Opal").$destructure(arguments);void 0===c?c=a:0>l(S,"Opal").$compare(a,c)&&(c=a)};e.$each();return void 0===c?g:
c},ea.$$arity=0);b.def(q,"$min_by",xa=function(){var a=xa.$$p,e=a||g,c;a&&(xa.$$p=null);a&&(xa.$$p=null);if(!y(e))return m(this,"enum_for",["min_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f,d;this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments),c=b.yield1(e,a);void 0===f?(f=a,d=c):0>c["$<=>"](d)&&(f=a,d=c)};this.$each();return void 0===f?g:f},xa.$$arity=0);b.def(q,"$minmax",ta=function(){var a=ta.$$p,b=a||g,e,c,f=this;a&&(ta.$$p=null);
a&&(ta.$$p=null);b=y(e=b)?e:m(f,"proc",[],(c=function(a,b){null==a&&(a=g);null==b&&(b=g);return a["$<=>"](b)},c.$$s=f,c.$$arity=2,c));var d=g,n=g,h=!0;f.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments);if(h)d=n=a,h=!1;else{var e=b.$call(d,a);e===g?f.$raise(l(S,"ArgumentError"),"comparison failed"):0<e&&(d=a);e=b.$call(n,a);e===g?f.$raise(l(S,"ArgumentError"),"comparison failed"):0>e&&(n=a)}};f.$each();return[d,n]},ta.$$arity=0);b.def(q,"$minmax_by",T=function(){var a=T.$$p;a&&(T.$$p=
null);a&&(T.$$p=null);return this.$raise(l(S,"NotImplementedError"))},T.$$arity=0);b.def(q,"$none?",fa=function(a){try{var e=fa.$$p,c=e||g,f,d,n;e&&(fa.$$p=null);e&&(fa.$$p=null);y(void 0!==a)?m(this,"each",[],(f=function(e){var c=b.slice.call(arguments,0,arguments.length);c=K(c);if(y(m(a,"public_send",["==="].concat(b.to_a(c)))))b.ret(!1);else return g},f.$$s=this,f.$$arity=-1,f)):c!==g?m(this,"each",[],(d=function(a){var e=b.slice.call(arguments,0,arguments.length);if(y(b.yieldX(c,b.to_a(e))))b.ret(!1);
else return g},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var e=b.slice.call(arguments,0,arguments.length);e=l(S,"Opal").$destructure(e);if(y(e))b.ret(!1);else return g},n.$$s=this,n.$$arity=-1,n));return!0}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},fa.$$arity=-1);b.def(q,"$one?",Ba=function(a){try{var e=Ba.$$p,c=e||g,f,d,n,h=g;e&&(Ba.$$p=null);e&&(Ba.$$p=null);h=0;y(void 0!==a)?m(this,"each",[],(f=function(e){var c=b.slice.call(arguments,0,arguments.length);c=K(c);if(y(m(a,
"public_send",["==="].concat(b.to_a(c)))))if(h=B(h,1),y(t(h,1)))b.ret(!1);else return g;else return g},f.$$s=this,f.$$arity=-1,f)):c!==g?m(this,"each",[],(d=function(a){var e=b.slice.call(arguments,0,arguments.length);if(!y(b.yieldX(c,b.to_a(e))))return g;h=B(h,1);if(y(t(h,1)))b.ret(!1);else return g},d.$$s=this,d.$$arity=-1,d)):m(this,"each",[],(n=function(a){var e=b.slice.call(arguments,0,arguments.length);if(!y(l(S,"Opal").$destructure(e)))return g;h=B(h,1);if(y(t(h,1)))b.ret(!1);else return g},
n.$$s=this,n.$$arity=-1,n));return h["$=="](1)}catch(Aa){if(Aa===b.returner)return Aa.$v;throw Aa;}},Ba.$$arity=-1);b.def(q,"$partition",La=function(){var a=La.$$p,e=a||g,c;a&&(La.$$p=null);a&&(La.$$p=null);if(e===g)return m(this,"enum_for",["partition"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f=[],d=[];this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments),c=b.yield1(e,a);y(c)?f.push(a):d.push(a)};this.$each();return[f,d]},La.$$arity=0);b.alias(q,
"reduce","inject");b.def(q,"$reject",Ea=function(){var a=Ea.$$p,e=a||g,c;a&&(Ea.$$p=null);a&&(Ea.$$p=null);if(e===g)return m(this,"enum_for",["reject"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f=[];this.$each.$$p=function(){var a=l(S,"Opal").$destructure(arguments),c=b.yield1(e,a);Q(c)&&f.push(a)};this.$each();return f},Ea.$$arity=0);b.def(q,"$reverse_each",ja=function(){var a=ja.$$p,e=a||g,c;a&&(ja.$$p=null);a&&(ja.$$p=null);if(e===g)return m(this,"enum_for",
["reverse_each"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(a=f.length-1;0<=a;a--)b.yieldX(e,f[a]);return f},ja.$$arity=0);b.alias(q,"select","find_all");b.def(q,"$slice_before",wa=function(a){var e=wa.$$p,c=e||g,f;e&&(wa.$$p=null);e&&(wa.$$p=null);y(void 0===a&&c===g)&&this.$raise(l(S,"ArgumentError"),"both pattern and block are given");y(void 0!==a&&c!==g||1<arguments.length)&&this.$raise(l(S,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return m(l(S,"Enumerator"),"new",[],(f=function(e){var d=f.$$s||this;null==e&&(e=g);var n=[];d.$each.$$p=c!==g?void 0===a?function(){var a=l(S,"Opal").$destructure(arguments),f=b.yield1(c,a);y(f)&&0<n.length&&(e["$<<"](n),n=[]);n.push(a)}:function(){var b=l(S,"Opal").$destructure(arguments),f=c(b,a.$dup());y(f)&&0<n.length&&(e["$<<"](n),n=[]);n.push(b)}:function(){var b=l(S,"Opal").$destructure(arguments),c=a["$==="](b);
y(c)&&0<n.length&&(e["$<<"](n),n=[]);n.push(b)};d.$each();if(0<n.length)e["$<<"](n)},f.$$s=this,f.$$arity=1,f))},wa.$$arity=-1);b.def(q,"$slice_after",ra=function(a){var e=ra.$$p,c=e||g,f,d;e&&(ra.$$p=null);e&&(ra.$$p=null);y(void 0===a&&c===g)&&this.$raise(l(S,"ArgumentError"),"both pattern and block are given");y(void 0!==a&&c!==g||1<arguments.length)&&this.$raise(l(S,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");y(void 0!==a)&&(c=m(this,"proc",[],(f=function(b){null==
b&&(b=g);return a["$==="](b)},f.$$s=this,f.$$arity=1,f)));return m(l(S,"Enumerator"),"new",[],(d=function(a){var e=d.$$s||this;null==a&&(a=g);var f;e.$each.$$p=function(){var e=l(S,"Opal").$destructure(arguments),d=b.yield1(c,e);null==f&&(f=[]);y(d)?(f.push(e),a.$yield(f),f=null):f.push(e)};e.$each();null!=f&&a.$yield(f)},d.$$s=this,d.$$arity=1,d))},ra.$$arity=-1);b.def(q,"$slice_when",I=function(){var a=I.$$p,e=a||g,c;a&&(I.$$p=null);a&&(I.$$p=null);e===g&&this.$raise(l(S,"ArgumentError"),"wrong number of arguments (0 for 1)");
return m(l(S,"Enumerator"),"new",[],(c=function(a){var f=c.$$s||this;null==a&&(a=g);var d=g,n=g;f.$each_cons.$$p=function(){var c=l(S,"Opal").$destructure(arguments),f=c[0];c=c[1];var h=b.yieldX(e,[f,c]);n=c;d===g&&(d=[]);y(h)?(d.push(f),a.$yield(d),d=[]):d.push(f)};f.$each_cons(2);d!==g&&(d.push(n),a.$yield(d))},c.$$s=this,c.$$arity=1,c))},I.$$arity=0);b.def(q,"$sort",V=function(){var a=V.$$p,b=a||g,e,c=g;a&&(V.$$p=null);a&&(V.$$p=null);c=this.$to_a();b===g&&(b=M((e=function(a,b){null==a&&(a=g);
null==b&&(b=g);return a["$<=>"](b)},e.$$s=this,e.$$arity=2,e)));return m(c,"sort",[],b.$to_proc())},V.$$arity=0);b.def(q,"$sort_by",ka=function(){var a=ka.$$p,e=a||g,c,f,d,n,h=g;a&&(ka.$$p=null);a&&(ka.$$p=null);if(e===g)return m(this,"enum_for",["sort_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));h=m(this,"map",[],(f=function(){var a=l(S,"Opal").$destructure(arguments);return[b.yield1(e,a),a]},f.$$s=this,f.$$arity=0,f));m(h,"sort!",[],(d=function(a,b){null==
a&&(a=g);null==b&&(b=g);return a[0]["$<=>"](b[0])},d.$$s=this,d.$$arity=2,d));return m(h,"map!",[],(n=function(a){null==a&&(a=g);return a[1]},n.$$s=this,n.$$arity=1,n))},ka.$$arity=0);b.def(q,"$sum",Ja=function(a){var e,c=Ja.$$p,f=c||g,d=g;c&&(Ja.$$p=null);null==a&&(a=0);d=a;m(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=f!==g?b.yieldX(f,b.to_a(e)):l(S,"Opal").$destructure(e);return d=B(d,e)},e.$$s=this,e.$$arity=-1,e));return d},Ja.$$arity=-1);b.def(q,"$take",
Ca=function(a){return this.$first(a)},Ca.$$arity=1);b.def(q,"$take_while",Na=function(){try{var a=Na.$$p,e=a||g,c,f=g;a&&(Na.$$p=null);a&&(Na.$$p=null);if(!y(e))return this.$enum_for("take_while");f=[];return m(this,"each",[],(c=function(a){var c=b.slice.call(arguments,0,arguments.length);c=l(S,"Opal").$destructure(c);y(b.yield1(e,c))||b.ret(f);return f.push(c)},c.$$s=this,c.$$arity=-1,c))}catch(la){if(la===b.returner)return la.$v;throw la;}},Na.$$arity=0);b.def(q,"$uniq",na=function(){var a=na.$$p,
e=a||g,c,f=g;a&&(na.$$p=null);a&&(na.$$p=null);f=P([],{});m(this,"each",[],(c=function(a){var c=b.slice.call(arguments,0,arguments.length);c=l(S,"Opal").$destructure(c);var d=e!==g?b.yield1(e,c):c;if(y(f["$key?"](d)))return g;c=[d,c];m(f,"[]=",b.to_a(c));return c[A(c.length,1)]},c.$$s=this,c.$$arity=-1,c));return f.$values()},na.$$arity=0);b.alias(q,"to_a","entries");b.def(q,"$zip",qa=function(a){var e=qa.$$p;e&&(qa.$$p=null);e&&(qa.$$p=null);e=b.slice.call(arguments,0,arguments.length);return m(this.$to_a(),
"zip",b.to_a(e))},qa.$$arity=-1)}(q[0],q)};
Opal.modules["corelib/enumerator"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var A=b.top,u=[],q=b.nil,g=b.const_get_relative,J=b.breaker,l=b.slice,G=b.klass,y=b.truthy,m=b.send,Q=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));A.$require("corelib/enumerable");
return function(u,$super,A){u=G(u,$super,"Enumerator");var k=[u].concat(A),P,K,D,H,ia,X;u.$$prototype.size=u.$$prototype.args=u.$$prototype.object=u.$$prototype.method=q;u.$include(g(k,"Enumerable"));u.$$prototype.$$is_enumerator=!0;b.defs(u,"$for",P=function(a,d,k){var g=P.$$p,v=g||q;g&&(P.$$p=null);g&&(P.$$p=null);g=b.slice.call(arguments,1,arguments.length);if(0<g.length){var p=g[0];g.splice(0,1)}null==p&&(p="each");var h=this.$allocate();h.object=a;h.size=v;h.method=p;h.args=g;return h},P.$$arity=
-2);b.def(u,"$initialize",K=function(a){var d=K.$$p,v=d||q;d&&(K.$$p=null);d&&(K.$$p=null);b.slice.call(arguments,0,arguments.length);if(y(v))return this.object=m(g(k,"Generator"),"new",[],v.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||q,y(this.size)?this.size=g(k,"Opal").$coerce_to(this.size,g(k,"Integer"),"to_int"):q;this.object=arguments[0];this.method=arguments[1]||"each";this.args=l.call(arguments,2);return this.size=q},K.$$arity=-1);b.def(u,"$each",D=function(a){var d=
D.$$p,k=d||q,g;d&&(D.$$p=null);d&&(D.$$p=null);d=b.slice.call(arguments,0,arguments.length);if(y(y(g=k["$nil?"]())?d["$empty?"]():g))return this;d=t(this.args,d);return y(k["$nil?"]())?m(this.$class(),"new",[this.object,this.method].concat(b.to_a(d))):m(this.object,"__send__",[this.method].concat(b.to_a(d)),k.$to_proc())},D.$$arity=-1);b.def(u,"$size",H=function(){return y(g(k,"Proc")["$==="](this.size))?m(this.size,"call",b.to_a(this.args)):this.size},H.$$arity=0);b.def(u,"$with_index",ia=function(a){var b=
ia.$$p,v=b||q,l;b&&(ia.$$p=null);b&&(ia.$$p=null);null==a&&(a=0);a=y(a)?g(k,"Opal").$coerce_to(a,g(k,"Integer"),"to_int"):0;if(!y(v))return m(this,"enum_for",["with_index",a],(l=function(){return(l.$$s||this).$size()},l.$$s=this,l.$$arity=0,l));var O=a;this.$each.$$p=function(){var a=g(k,"Opal").$destructure(arguments);a=v(a,O);O++;return a};return this.$each()},ia.$$arity=-1);b.alias(u,"with_object","each_with_object");b.def(u,"$inspect",X=function(){var a="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;y(this.args["$any?"]())&&(a=t(a,"("+this.args.$inspect()["$[]"](g(k,"Range").$new(1,-2))+")"));return t(a,">")},X.$$arity=0);(function(a,$super,k){a=G(a,$super,"Generator");var v=[a].concat(k),l,p;a.$$prototype.block=q;a.$include(g(v,"Enumerable"));b.def(a,"$initialize",l=function(){var a=l.$$p,b=a||q;a&&(l.$$p=null);a&&(l.$$p=null);y(b)||this.$raise(g(v,"LocalJumpError"),"no block given");return this.block=b},l.$$arity=0);return(b.def(a,"$each",p=function(a){var e=p.$$p,h=e||q;e&&
(p.$$p=null);e&&(p.$$p=null);e=b.slice.call(arguments,0,arguments.length);h=m(g(v,"Yielder"),"new",[],h.$to_proc());try{e.unshift(h),b.yieldX(this.block,e)}catch(r){if(r===J)return J.$v;throw r;}return this},p.$$arity=-1),q)&&"each"})(k[0],null,k);(function(a,$super,k){a=G(a,$super,"Yielder");[a].concat(k);var g,v,p;a.$$prototype.block=q;b.def(a,"$initialize",g=function(){var a=g.$$p,b=a||q;a&&(g.$$p=null);a&&(g.$$p=null);return this.block=b},g.$$arity=0);b.def(a,"$yield",v=function(a){var e=b.slice.call(arguments,
0,arguments.length);e=b.yieldX(this.block,e);if(e===J)throw J;return e},v.$$arity=-1);return(b.def(a,"$<<",p=function(a){var e=b.slice.call(arguments,0,arguments.length);m(this,"yield",b.to_a(e));return this},p.$$arity=-1),q)&&"<<"})(k[0],null,k);return function(a,$super,k){a=G(a,$super,"Lazy");var v=[a].concat(k),l,p,h,e,z,r,U,F,n,c,f,W,aa;a.$$prototype.enumerator=q;(function(a,$super,b){[G(a,$super,"StopLazyError")].concat(b);return q})(v[0],g(v,"Exception"),v);b.def(a,"$initialize",l=function(a,
e){var c=l.$$p,f=c||q,n;c&&(l.$$p=null);c&&(l.$$p=null);null==e&&(e=q);f===q&&this.$raise(g(v,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return m(this,b.find_super_dispatcher(this,"initialize",l,!1),[e],(n=function(e,c){var h=n.$$s||this,r;null==e&&(e=q);var p=b.slice.call(arguments,1,arguments.length);try{return m(a,"each",b.to_a(p),(r=function(a){var c=b.slice.call(arguments,0,arguments.length);c.unshift(e);b.yieldX(f,c)},r.$$s=h,r.$$arity=-1,r))}catch(ta){if(b.rescue(ta,
[g(v,"Exception")]))try{return q}finally{b.pop_exception()}else throw ta;}},n.$$s=this,n.$$arity=-2,n))},l.$$arity=-2);b.alias(a,"force","to_a");b.def(a,"$lazy",p=function(){return this},p.$$arity=0);b.def(a,"$collect",h=function(){var a=h.$$p,e=a||q,c;a&&(h.$$p=null);a&&(h.$$p=null);y(e)||this.$raise(g(v,"ArgumentError"),"tried to call lazy map without a block");return m(g(v,"Lazy"),"new",[this,this.$enumerator_size()],(c=function(a,c){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);
f=b.yieldX(e,f);a.$yield(f)},c.$$s=this,c.$$arity=-2,c))},h.$$arity=0);b.def(a,"$collect_concat",e=function(){var a=e.$$p,c=a||q,f;a&&(e.$$p=null);a&&(e.$$p=null);y(c)||this.$raise(g(v,"ArgumentError"),"tried to call lazy map without a block");return m(g(v,"Lazy"),"new",[this,q],(f=function(a,e){var n=f.$$s||this,h,r;null==a&&(a=q);var p=b.slice.call(arguments,1,arguments.length);p=b.yieldX(c,p);p["$respond_to?"]("force")&&p["$respond_to?"]("each")?m(p,"each",[],(h=function(b){null==b&&(b=q);return a.$yield(b)},
h.$$s=n,h.$$arity=1,h)):g(v,"Opal").$try_convert(p,g(v,"Array"),"to_ary")===q?a.$yield(p):m(p,"each",[],(r=function(b){null==b&&(b=q);return a.$yield(b)},r.$$s=n,r.$$arity=1,r))},f.$$s=this,f.$$arity=-2,f))},e.$$arity=0);b.def(a,"$drop",z=function(a){var e,c=q,f=c=q;a=g(v,"Opal").$coerce_to(a,g(v,"Integer"),"to_int");y(B(a,0))&&this.$raise(g(v,"ArgumentError"),"attempt to drop negative size");c=this.$enumerator_size();c=y(g(v,"Integer")["$==="](c))?y(B(a,c))?a:c:c;f=0;return m(g(v,"Lazy"),"new",[this,
c],(e=function(e,c){null==e&&(e=q);var n=b.slice.call(arguments,1,arguments.length);return y(B(f,a))?f=t(f,1):m(e,"yield",b.to_a(n))},e.$$s=this,e.$$arity=-2,e))},z.$$arity=1);b.def(a,"$drop_while",r=function(){var a=r.$$p,e=a||q,c,f=q;a&&(r.$$p=null);a&&(r.$$p=null);y(e)||this.$raise(g(v,"ArgumentError"),"tried to call lazy drop_while without a block");f=!0;return m(g(v,"Lazy"),"new",[this,q],(c=function(a,c){null==a&&(a=q);var n=b.slice.call(arguments,1,arguments.length);if(y(f)){var h=b.yieldX(e,
n);Q(h)&&(f=!1,m(a,"yield",b.to_a(n)))}else return m(a,"yield",b.to_a(n))},c.$$s=this,c.$$arity=-2,c))},r.$$arity=0);b.def(a,"$enum_for",U=function(a,e){var c=U.$$p,f=c||q;c&&(U.$$p=null);c&&(U.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(0<c.length){var n=c[0];c.splice(0,1)}null==n&&(n="each");return m(this.$class(),"for",[this,n].concat(b.to_a(c)),f.$to_proc())},U.$$arity=-1);b.def(a,"$find_all",F=function(){var a=F.$$p,e=a||q,c;a&&(F.$$p=null);a&&(F.$$p=null);y(e)||this.$raise(g(v,
"ArgumentError"),"tried to call lazy select without a block");return m(g(v,"Lazy"),"new",[this,q],(c=function(a,c){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);var n=b.yieldX(e,f);y(n)&&m(a,"yield",b.to_a(f))},c.$$s=this,c.$$arity=-2,c))},F.$$arity=0);b.alias(a,"flat_map","collect_concat");b.def(a,"$grep",n=function(a){var e=n.$$p,c=e||q,f,h;e&&(n.$$p=null);e&&(n.$$p=null);return y(c)?m(g(v,"Lazy"),"new",[this,q],(f=function(e,f){null==e&&(e=q);var n=b.slice.call(arguments,1,arguments.length);
n=g(v,"Opal").$destructure(n);var h=a["$==="](n);y(h)&&(b.yield1(c,n),e.$yield(b.yield1(c,n)))},f.$$s=this,f.$$arity=-2,f)):m(g(v,"Lazy"),"new",[this,q],(h=function(e,c){null==e&&(e=q);var f=b.slice.call(arguments,1,arguments.length);f=g(v,"Opal").$destructure(f);var n=a["$==="](f);y(n)&&e.$yield(f)},h.$$s=this,h.$$arity=-2,h))},n.$$arity=1);b.alias(a,"map","collect");b.alias(a,"select","find_all");b.def(a,"$reject",c=function(){var a=c.$$p,e=a||q,f;a&&(c.$$p=null);a&&(c.$$p=null);y(e)||this.$raise(g(v,
"ArgumentError"),"tried to call lazy reject without a block");return m(g(v,"Lazy"),"new",[this,q],(f=function(a,c){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);var n=b.yieldX(e,f);Q(n)&&m(a,"yield",b.to_a(f))},f.$$s=this,f.$$arity=-2,f))},c.$$arity=0);b.def(a,"$take",f=function(a){var e,c=q,f=c=q;a=g(v,"Opal").$coerce_to(a,g(v,"Integer"),"to_int");y(B(a,0))&&this.$raise(g(v,"ArgumentError"),"attempt to take negative size");c=this.$enumerator_size();c=y(g(v,"Integer")["$==="](c))?
y(B(a,c))?a:c:c;f=0;return m(g(v,"Lazy"),"new",[this,c],(e=function(c,n){var h=e.$$s||this;null==c&&(c=q);var r=b.slice.call(arguments,1,arguments.length);return y(B(f,a))?(m(c,"yield",b.to_a(r)),f=t(f,1)):h.$raise(g(v,"StopLazyError"))},e.$$s=this,e.$$arity=-2,e))},f.$$arity=1);b.def(a,"$take_while",W=function(){var a=W.$$p,e=a||q,c;a&&(W.$$p=null);a&&(W.$$p=null);y(e)||this.$raise(g(v,"ArgumentError"),"tried to call lazy take_while without a block");return m(g(v,"Lazy"),"new",[this,q],(c=function(a,
f){var n=c.$$s||this;null==a&&(a=q);var h=b.slice.call(arguments,1,arguments.length);var r=b.yieldX(e,h);y(r)?m(a,"yield",b.to_a(h)):n.$raise(g(v,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},W.$$arity=0);b.alias(a,"to_enum","enum_for");return(b.def(a,"$inspect",aa=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},aa.$$arity=0),q)&&"inspect"}(k[0],u,k)}(u[0],null,u)};
Opal.modules["corelib/numeric"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}var q=b.top,g=[],J=b.nil,l=b.const_get_qualified,G=b.const_get_relative,y=b.klass,m=b.truthy,Q=b.hash2;b.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
q.$require("corelib/comparable");return function(g,$super,q){g=y(g,$super,"Numeric");var k=[g].concat(q),K,P,D,H,ia,X,a,d,v,E,O,p,h,e,z,r,U,F,n,c,f,W,aa,pa,L,R,ba,x,ca,da,ya,ea,xa,ta,T,fa,Ba;g.$include(G(k,"Comparable"));b.def(g,"$coerce",K=function(a){return m(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},K.$$arity=1);b.def(g,"$__coerced__",P=function(a,e){if(m(e["$respond_to?"]("coerce"))){e=e.$coerce(this);var c=b.to_ary(e);var f=null==c[0]?J:c[0];c=null==c[1]?
J:c[1];e;return f.$__send__(a,c)}return"+"["$==="](a)||"-"["$==="](a)||"*"["$==="](a)||"/"["$==="](a)||"%"["$==="](a)||"&"["$==="](a)||"|"["$==="](a)||"^"["$==="](a)||"**"["$==="](a)?this.$raise(G(k,"TypeError"),""+e.$class()+" can't be coerced into Numeric"):">"["$==="](a)||">="["$==="](a)||"<"["$==="](a)||"<="["$==="](a)||"<=>"["$==="](a)?this.$raise(G(k,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed"):J},P.$$arity=2);b.def(g,"$<=>",D=function(a){return m(this["$equal?"](a))?
0:J},D.$$arity=1);b.def(g,"$+@",H=function(){return this},H.$$arity=0);b.def(g,"$-@",ia=function(){return t(0,this)},ia.$$arity=0);b.def(g,"$%",X=function(a){return t(this,B(a,this.$div(a)))},X.$$arity=1);b.def(g,"$abs",a=function(){return A(this,0)?this["$-@"]():this},a.$$arity=0);b.def(g,"$abs2",d=function(){return B(this,this)},d.$$arity=0);b.def(g,"$angle",v=function(){return A(this,0)?l(G(k,"Math"),"PI"):0},v.$$arity=0);b.alias(g,"arg","angle");b.def(g,"$ceil",E=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},
E.$$arity=-1);b.def(g,"$conj",O=function(){return this},O.$$arity=0);b.alias(g,"conjugate","conj");b.def(g,"$denominator",p=function(){return this.$to_r().$denominator()},p.$$arity=0);b.def(g,"$div",h=function(a){a["$=="](0)&&this.$raise(G(k,"ZeroDivisionError"),"divided by o");return u(this,a).$floor()},h.$$arity=1);b.def(g,"$divmod",e=function(a){return[this.$div(a),this["$%"](a)]},e.$$arity=1);b.def(g,"$fdiv",z=function(a){return u(this.$to_f(),a)},z.$$arity=1);b.def(g,"$floor",r=function(a){null==
a&&(a=0);return this.$to_f().$floor(a)},r.$$arity=-1);b.def(g,"$i",U=function(){return this.$Complex(0,this)},U.$$arity=0);b.def(g,"$imag",F=function(){return 0},F.$$arity=0);b.alias(g,"imaginary","imag");b.def(g,"$integer?",n=function(){return!1},n.$$arity=0);b.alias(g,"magnitude","abs");b.alias(g,"modulo","%");b.def(g,"$nonzero?",c=function(){return m(this["$zero?"]())?J:this},c.$$arity=0);b.def(g,"$numerator",f=function(){return this.$to_r().$numerator()},f.$$arity=0);b.alias(g,"phase","arg");
b.def(g,"$polar",W=function(){return[this.$abs(),this.$arg()]},W.$$arity=0);b.def(g,"$quo",aa=function(a){return u(G(k,"Opal")["$coerce_to!"](this,G(k,"Rational"),"to_r"),a)},aa.$$arity=1);b.def(g,"$real",pa=function(){return this},pa.$$arity=0);b.def(g,"$real?",L=function(){return!0},L.$$arity=0);b.def(g,"$rect",R=function(){return[this,0]},R.$$arity=0);b.alias(g,"rectangular","rect");b.def(g,"$round",ba=function(a){return this.$to_f().$round(a)},ba.$$arity=-1);b.def(g,"$to_c",x=function(){return this.$Complex(this,
0)},x.$$arity=0);b.def(g,"$to_int",ca=function(){return this.$to_i()},ca.$$arity=0);b.def(g,"$truncate",da=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},da.$$arity=-1);b.def(g,"$zero?",ya=function(){return this["$=="](0)},ya.$$arity=0);b.def(g,"$positive?",ea=function(){return"number"===typeof this?0<this:this["$>"](0)},ea.$$arity=0);b.def(g,"$negative?",xa=function(){return A(this,0)},xa.$$arity=0);b.def(g,"$dup",ta=function(){return this},ta.$$arity=0);b.def(g,"$clone",T=function(a){if(null==
a)Q([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},T.$$arity=-1);b.def(g,"$finite?",fa=function(){return!0},fa.$$arity=0);return(b.def(g,"$infinite?",Ba=function(){return J},Ba.$$arity=0),J)&&"infinite?"}(g[0],null,g)};
Opal.modules["corelib/array"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}var B=b.top,A=[],u=b.nil,q=b.const_get_qualified,g=b.const_get_relative,J=b.klass,l=b.truthy,G=b.hash2,y=b.send,m=b.gvars;b.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
B.$require("corelib/enumerable");B.$require("corelib/numeric");return function(A,$super,B){function K(a,e){return e.$$name===b.Array?a:e.$allocate().$replace(a.$to_a())}function k(a,e){var c=a.length;var f=e.excl;var d=b.Opal.$coerce_to(e.begin,b.Integer,"to_int");e=b.Opal.$coerce_to(e.end,b.Integer,"to_int");if(0>d&&(d+=c,0>d)||d>c)return u;if(0>e&&(e+=c,0>e))return[];f||(e+=1);c=a.slice(d,e);return K(c,a.$class())}function M(a,e,c){var f=a.length;e=b.Opal.$coerce_to(e,b.Integer,"to_int");if(0>e&&
(e+=f,0>e))return u;if(void 0===c)return e>=f||0>e?u:a[e];c=b.Opal.$coerce_to(c,b.Integer,"to_int");if(0>c||e>f||0>e)return u;e=a.slice(e,e+c);return K(e,a.$class())}function S(a,b){return a===b||0===b?1:0<b&&a>b?S(a-1,b-1)+S(a-1,b):0}var D=J(A,$super,"Array"),H=[D].concat(B),Q,X,a,d,v,E,O,p,h,e,z,r,U,F,n,c,f,W,aa,pa,L,R,ba,x,ca,da,ya,ea,xa,ta,T,fa,Ba,La,Ea,ja,wa,ra,I,V,ka,Ja,Ca,Na,na,qa,Ma,Ua,Ta,Ra,la,va,ha,Aa,Ka,ua,Ha,Fa,Da,Sa,Qa,Oa,Ga,za,Ya,Pa,Va,Wa,ab,Xa,Y,w,C,ma,N,Z,oa,db,Ia,bb,cb,hb,lb,mb,nb,
Za,$a,fb,ob,ib,pb,jb,gb;D.$include(g(H,"Enumerable"));b.defineProperty(D.$$prototype,"$$is_array",!0);b.defs(D,"$[]",Q=function(a){var e=b.slice.call(arguments,0,arguments.length);return K(e,this)},Q.$$arity=-1);b.def(D,"$initialize",X=function(a,b){var e=X.$$p,c=e||u;e&&(X.$$p=null);e&&(X.$$p=null);null==a&&(a=u);null==b&&(b=u);b!==u&&c!==u&&this.$warn("warning: block supersedes default value argument");a>q(g(H,"Integer"),"MAX")&&this.$raise(g(H,"ArgumentError"),"array size too big");2<arguments.length&&
this.$raise(g(H,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");0>a&&this.$raise(g(H,"ArgumentError"),"negative array size");this.splice(0,this.length);if(c===u)for(e=0;e<a;e++)this.push(b);else for(e=0,f;e<a;e++){var f=
c(e);this[e]=f}return this},X.$$arity=-1);b.defs(D,"$try_convert",a=function(a){return g(H,"Opal")["$coerce_to?"](a,g(H,"Array"),"to_ary")},a.$$arity=1);b.def(D,"$&",d=function(a){a=l(g(H,"Array")["$==="](a))?a.$to_a():g(H,"Opal").$coerce_to(a,g(H,"Array"),"to_ary").$to_a();var e=[],c=G([],{}),f;var d=0;for(f=a.length;d<f;d++)b.hash_put(c,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0!==b.hash_delete(c,a)&&e.push(a);return e},d.$$arity=1);b.def(D,"$|",v=function(a){a=l(g(H,"Array")["$==="](a))?
a.$to_a():g(H,"Opal").$coerce_to(a,g(H,"Array"),"to_ary").$to_a();var e=G([],{}),c;var f=0;for(c=this.length;f<c;f++)b.hash_put(e,this[f],!0);f=0;for(c=a.length;f<c;f++)b.hash_put(e,a[f],!0);return e.$keys()},v.$$arity=1);b.def(D,"$*",E=function(a){if(l(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");l(0>a)&&this.$raise(g(H,"ArgumentError"),"negative argument");for(var b=[],e=this.$to_a(),c=0;c<a;c++)b=b.concat(e);return K(b,this.$class())},
E.$$arity=1);b.def(D,"$+",O=function(a){a=l(g(H,"Array")["$==="](a))?a.$to_a():g(H,"Opal").$coerce_to(a,g(H,"Array"),"to_ary").$to_a();return this.concat(a)},O.$$arity=1);b.def(D,"$-",p=function(a){a=l(g(H,"Array")["$==="](a))?a.$to_a():g(H,"Opal").$coerce_to(a,g(H,"Array"),"to_ary").$to_a();if(l(0===this.length))return[];if(l(0===a.length))return this.slice();var e=[],c=G([],{}),f;var d=0;for(f=a.length;d<f;d++)b.hash_put(c,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0===b.hash_get(c,a)&&
e.push(a);return e},p.$$arity=1);b.def(D,"$<<",h=function(a){this.push(a);return this},h.$$arity=1);b.def(D,"$<=>",e=function(a){if(l(g(H,"Array")["$==="](a)))a=a.$to_a();else if(l(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return u;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),e=0;e<b;e++){var c=this[e]["$<=>"](a[e]);if(0!==c)return c}return this.length["$<=>"](a.length)},e.$$arity=1);b.def(D,"$==",z=function(a){function b(a,c){var f;if(a===c)return!0;
if(!c.$$is_array)return g(H,"Opal")["$respond_to?"](c,"to_ary")?c["$=="](a):!1;a.$$constructor!==Array&&(a=a.$to_a());c.$$constructor!==Array&&(c=c.$to_a());if(a.length!==c.length)return!1;e[a.$object_id()]=!0;var d=0;for(f=a.length;d<f;d++){var w=a[d];var n=c[d];if(w.$$is_array){if(n.$$is_array&&n.length!==w.length||!e.hasOwnProperty(w.$object_id())&&!b(w,n))return!1}else if(!w["$=="](n))return!1}return!0}var e={};return b(this,a)},z.$$arity=1);b.def(D,"$[]",r=function(a,b){return a.$$is_range?k(this,
a):M(this,a,b)},r.$$arity=-2);b.def(D,"$[]=",U=function(a,b,e){var c=u;var f=this.length;if(l(g(H,"Range")["$==="](a))){c=l(g(H,"Array")["$==="](b))?b.$to_a():l(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b];var d=a.excl;e=g(H,"Opal").$coerce_to(a.begin,g(H,"Integer"),"to_int");var w=g(H,"Opal").$coerce_to(a.end,g(H,"Integer"),"to_int");0>e&&(e+=f,0>e&&this.$raise(g(H,"RangeError"),""+a.$inspect()+" out of range"));0>w&&(w+=f);d||(w+=1);if(e>f)for(;f<e;f++)this[f]=u;0>w?this.splice.apply(this,
[e,0].concat(c)):this.splice.apply(this,[e,w-e].concat(c))}else{l(void 0===e)?w=1:(w=b,b=e,c=l(g(H,"Array")["$==="](b))?b.$to_a():l(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");w=g(H,"Opal").$coerce_to(w,g(H,"Integer"),"to_int");0>a&&(d=a,a+=f,0>a&&this.$raise(g(H,"IndexError"),"index "+d+" too small for array; minimum "+-this.length));0>w&&this.$raise(g(H,"IndexError"),"negative length ("+w+")");if(a>f)for(;f<a;f++)this[f]=u;void 0===e?
this[a]=b:this.splice.apply(this,[a,w].concat(c))}return b},U.$$arity=-3);b.def(D,"$any?",F=function(a){var e=F.$$p,c;e&&(F.$$p=null);var f=0;var d=arguments.length;for(c=Array(d);f<d;f++)c[f]=arguments[f];e&&(F.$$p=null);return 0===this.length?!1:y(this,b.find_super_dispatcher(this,"any?",F,!1),c,e)},F.$$arity=-1);b.def(D,"$assoc",n=function(a){for(var b=0,e=this.length,c;b<e;b++)if(c=this[b],c.length&&c[0]["$=="](a))return c;return u},n.$$arity=1);b.def(D,"$at",c=function(a){a=g(H,"Opal").$coerce_to(a,
g(H,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?u:this[a]},c.$$arity=1);b.def(D,"$bsearch_index",f=function(){var a=f.$$p,e=a||u;a&&(f.$$p=null);a&&(f.$$p=null);if(e===u)return this.$enum_for("bsearch_index");a=0;for(var c=this.length,d,w,n=!1,h=u;a<c;){d=a+Math.floor((c-a)/2);w=this[d];w=b.yield1(e,w);if(!0===w)h=d,n=!0;else if(!1===w||w===u)n=!1;else if(w.$$is_number){if(0===w)return d;n=0>w}else this.$raise(g(H,"TypeError"),"wrong argument type "+w.$class()+" (must be numeric, true, false or nil)");
n?c=d:a=d+1}return h},f.$$arity=0);b.def(D,"$bsearch",W=function(){var a=W.$$p,b=a||u;a&&(W.$$p=null);a&&(W.$$p=null);if(b===u)return this.$enum_for("bsearch");a=y(this,"bsearch_index",[],b.$to_proc());return null!=a&&a.$$is_number?this[a]:a},W.$$arity=0);b.def(D,"$cycle",aa=function(a){var e=aa.$$p,c=e||u,f,d;e&&(aa.$$p=null);e&&(aa.$$p=null);null==a&&(a=u);if(c===u)return y(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(l(a["$nil?"]()))return q(g(H,"Float"),"INFINITY");a=g(H,"Opal")["$coerce_to!"](a,
g(H,"Integer"),"to_int");return l(t(a,0))?(b=b.$enumerator_size(),"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(l(l(d=this["$empty?"]())?d:a["$=="](0)))return u;if(a===u)for(;;)for(e=0,d=this.length;e<d;e++)b.yield1(c,this[e]);else{a=g(H,"Opal")["$coerce_to!"](a,g(H,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){e=0;for(d=this.length;e<d;e++)b.yield1(c,this[e]);a--}}return this},aa.$$arity=-1);b.def(D,"$clear",pa=function(){this.splice(0,this.length);
return this},pa.$$arity=0);b.def(D,"$count",L=function(a){var e=L.$$p,c=e||u,f,d;e&&(L.$$p=null);var w=0;var n=arguments.length;for(d=Array(n);w<n;w++)d[w]=arguments[w];e&&(L.$$p=null);null==a&&(a=u);return l(l(f=a)?f:c)?y(this,b.find_super_dispatcher(this,"count",L,!1),d,e):this.$size()},L.$$arity=-1);b.def(D,"$initialize_copy",R=function(a){return this.$replace(a)},R.$$arity=1);b.def(D,"$collect",ba=function(){var a=ba.$$p,e=a||u,c;a&&(ba.$$p=null);a&&(ba.$$p=null);if(e===u)return y(this,"enum_for",
["collect"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=[];for(var f=0,d=this.length;f<d;f++){var w=b.yield1(e,this[f]);a.push(w)}return a},ba.$$arity=0);b.def(D,"$collect!",x=function(){var a=x.$$p,e=a||u,c;a&&(x.$$p=null);a&&(x.$$p=null);if(e===u)return y(this,"enum_for",["collect!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var f=this.length;a<f;a++){var d=b.yield1(e,this[a]);this[a]=d}return this},x.$$arity=0);b.def(D,"$combination",
ca=function(a){var e,c=ca.$$p,f=c||u,d=u;c&&(ca.$$p=null);d=g(H,"Opal")["$coerce_to!"](a,g(H,"Integer"),"to_int");if(f===u)return y(this,"enum_for",["combination",d],(e=function(){return S((e.$$s||this).length,d)},e.$$s=this,e.$$arity=0,e));if(0===d)b.yield1(f,[]);else if(1===d)for(c=0,a=this.length;c<a;c++)b.yield1(f,[this[c]]);else if(d===this.length)b.yield1(f,this.slice());else if(0<=d&&d<this.length){a=[];for(c=0;c<=d+1;c++)a.push(0);c=[];var w=0;var n=!1;for(a[0]=-1;!n;){for(c[w]=this[a[w+1]];w<
d-1;)w++,n=a[w+1]=a[w]+1,c[w]=this[n];b.yield1(f,c.slice());w++;do n=0===w,a[w]++,w--;while(a[w+1]+d===this.length+w+1)}}return this},ca.$$arity=1);b.def(D,"$repeated_combination",da=function(a){function e(a,c,f,w){if(f.length==a)a=f.slice(),b.yield1(d,a);else for(;c<w.length;c++)f.push(w[c]),e(a,c,f,w),f.pop()}var c,f=da.$$p,d=f||u,w=u;f&&(da.$$p=null);w=g(H,"Opal")["$coerce_to!"](a,g(H,"Integer"),"to_int");if(d===u)return y(this,"enum_for",["repeated_combination",w],(c=function(){return S((c.$$s||
this).length+w-1,w)},c.$$s=this,c.$$arity=0,c));0<=w&&e(w,0,[],this);return this},da.$$arity=1);b.def(D,"$compact",ya=function(){for(var a=[],b=0,e=this.length,c;b<e;b++)(c=this[b])!==u&&a.push(c);return a},ya.$$arity=0);b.def(D,"$compact!",ea=function(){for(var a=this.length,b=0,e=this.length;b<e;b++)this[b]===u&&(this.splice(b,1),e--,b--);return this.length===a?u:this},ea.$$arity=0);b.def(D,"$concat",xa=function(a){var e,c;var f=b.slice.call(arguments,0,arguments.length);f=y(f,"map",[],(e=function(a){var b=
e.$$s||this;null==a&&(a=u);a=l(g(H,"Array")["$==="](a))?a.$to_a():g(H,"Opal").$coerce_to(a,g(H,"Array"),"to_ary").$to_a();l(a["$equal?"](b))&&(a=a.$dup());return a},e.$$s=this,e.$$arity=1,e));y(f,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=u);for(var e=0,f=a.length;e<f;e++)b.push(a[e])},c.$$s=this,c.$$arity=1,c));return this},xa.$$arity=-1);b.def(D,"$delete",ta=function(a){var e=ta.$$p,c=e||u;e&&(ta.$$p=null);e=this.length;for(var f=0,d=e;f<d;f++)this[f]["$=="](a)&&(this.splice(f,1),d--,
f--);return this.length===e?c!==u?b.yieldX(c,[]):u:a},ta.$$arity=1);b.def(D,"$delete_at",T=function(a){a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return u;var b=this[a];this.splice(a,1);return b},T.$$arity=1);b.def(D,"$delete_if",fa=function(){var a=fa.$$p,b=a||u,e;a&&(fa.$$p=null);a&&(fa.$$p=null);if(b===u)return y(this,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var c=this.length,f;a<
c;a++)f=b(this[a]),!1!==f&&f!==u&&(this.splice(a,1),c--,a--);return this},fa.$$arity=0);b.def(D,"$dig",Ba=function(a,e){var c=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===u||0===c.length)return f;l(f["$respond_to?"]("dig"))||this.$raise(g(H,"TypeError"),""+f.$class()+" does not have #dig method");return y(f,"dig",b.to_a(c))},Ba.$$arity=-2);b.def(D,"$drop",La=function(a){0>a&&this.$raise(g(H,"ArgumentError"));return this.slice(a)},La.$$arity=1);b.def(D,"$dup",Ea=function(){var a=
Ea.$$p,e;a&&(Ea.$$p=null);var c=0;var f=arguments.length;for(e=Array(f);c<f;c++)e[c]=arguments[c];return this.$$class===b.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):y(this,b.find_super_dispatcher(this,"dup",Ea,!1),e,a)},Ea.$$arity=0);b.def(D,"$each",ja=function(){var a=ja.$$p,e=a||u,c;a&&(ja.$$p=null);a&&(ja.$$p=null);if(e===u)return y(this,"enum_for",["each"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,
c.$$arity=0,c));a=0;for(var f=this.length;a<f;a++)b.yield1(e,this[a]);return this},ja.$$arity=0);b.def(D,"$each_index",wa=function(){var a=wa.$$p,e=a||u,c;a&&(wa.$$p=null);a&&(wa.$$p=null);if(e===u)return y(this,"enum_for",["each_index"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var f=this.length;a<f;a++)b.yield1(e,a);return this},wa.$$arity=0);b.def(D,"$empty?",ra=function(){return 0===this.length},ra.$$arity=0);b.def(D,"$eql?",I=function(a){function b(a,c){var f;
if(!c.$$is_array)return!1;c=c.$to_a();if(a.length!==c.length)return!1;e[a.$object_id()]=!0;var d=0;for(f=a.length;d<f;d++){var w=a[d];var n=c[d];if(w.$$is_array){if(n.$$is_array&&n.length!==w.length||!e.hasOwnProperty(w.$object_id())&&!b(w,n))return!1}else if(!w["$eql?"](n))return!1}return!0}var e={};return b(this,a)},I.$$arity=1);b.def(D,"$fetch",V=function(a,b){var e=V.$$p,c=e||u;e&&(V.$$p=null);e&&(V.$$p=null);e=a;a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=
a&&a<this.length)return this[a];c!==u&&null!=b&&this.$warn("warning: block supersedes default value argument");if(c!==u)return c(e);if(null!=b)return b;0===this.length?this.$raise(g(H,"IndexError"),"index "+e+" outside of array bounds: 0...0"):this.$raise(g(H,"IndexError"),"index "+e+" outside of array bounds: -"+this.length+"..."+this.length)},V.$$arity=-2);b.def(D,"$fill",ka=function(a){var e=ka.$$p,c=e||u,f=u;e&&(ka.$$p=null);e&&(ka.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(l(c)){l(2<
e.length)&&this.$raise(g(H,"ArgumentError"),"wrong number of arguments ("+e.$length()+" for 0..2)");var d=e;var w=b.to_ary(d);e=null==w[0]?u:w[0];w=null==w[1]?u:w[1]}else l(0==e.length)?this.$raise(g(H,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):l(3<e.length)&&this.$raise(g(H,"ArgumentError"),"wrong number of arguments ("+e.$length()+" for 1..3)"),d=e,w=b.to_ary(d),f=null==w[0]?u:w[0],e=null==w[1]?u:w[1],w=null==w[2]?u:w[2];d;if(l(g(H,"Range")["$==="](e))){if(l(w)&&this.$raise(g(H,
"TypeError"),"length invalid with range"),d=g(H,"Opal").$coerce_to(e.$begin(),g(H,"Integer"),"to_int"),l(0>d)&&(d+=this.length),l(0>d)&&this.$raise(g(H,"RangeError"),""+e.$inspect()+" out of range"),w=g(H,"Opal").$coerce_to(e.$end(),g(H,"Integer"),"to_int"),l(0>w)&&(w+=this.length),l(e["$exclude_end?"]())||(w+=1),l(w<=d))return this}else if(l(e))if(d=g(H,"Opal").$coerce_to(e,g(H,"Integer"),"to_int"),l(0>d)&&(d+=this.length),l(0>d)&&(d=0),l(w)){w=g(H,"Opal").$coerce_to(w,g(H,"Integer"),"to_int");if(l(0==
w))return this;w+=d}else w=this.length;else d=0,w=this.length;if(l(d>this.length))for(e=this.length;e<w;e++)this[e]=u;l(w>this.length)&&(this.length=w);if(l(c))for(;d<w;d++)f=c(d),this[d]=f;else for(;d<w;d++)this[d]=f;return this},ka.$$arity=-1);b.def(D,"$first",Ja=function(a){if(null==a)return 0===this.length?u:this[0];a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");0>a&&this.$raise(g(H,"ArgumentError"),"negative array size");return this.slice(0,a)},Ja.$$arity=-1);b.def(D,"$flatten",Ca=function(a){function b(a,
c){var f=[],d;a=a.$to_a();var w=0;for(d=a.length;w<d;w++){var n=a[w];if(g(H,"Opal")["$respond_to?"](n,"to_ary",!0)){var h=n.$to_ary();if(h===u)f.push(n);else switch(h.$$is_array||e.$raise(g(H,"TypeError")),h===e&&e.$raise(g(H,"ArgumentError")),c){case void 0:f=f.concat(b(h));break;case 0:f.push(h);break;default:f.push.apply(f,b(h,c-1))}}else f.push(n)}return f}var e=this;void 0!==a&&(a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int"));return K(b(e,a),e.$class())},Ca.$$arity=-1);b.def(D,"$flatten!",
Na=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,e=this.length;b<e&&this[b]===a[b];b++);if(b==e)return u}this.$replace(a);return this},Na.$$arity=-1);b.def(D,"$hash",na=function(){var a=void 0===b.hash_ids,e=["A"],c=this.$object_id(),f,d;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[c])return"self";for(d in b.hash_ids){var w=b.hash_ids[d];if(this["$eql?"](w))return"self"}b.hash_ids[c]=this;for(f=0;f<this.length;f++)w=this[f],e.push(w.$hash());return e.join(",")}finally{a&&
(b.hash_ids=void 0)}},na.$$arity=0);b.def(D,"$include?",qa=function(a){for(var b=0,e=this.length;b<e;b++)if(this[b]["$=="](a))return!0;return!1},qa.$$arity=1);b.def(D,"$index",Ma=function(a){var b=Ma.$$p,e=b||u;b&&(Ma.$$p=null);b&&(Ma.$$p=null);var c;null!=a&&e!==u&&this.$warn("warning: given block not used");if(null!=a)for(b=0,c=this.length;b<c;b++){if(this[b]["$=="](a))return b}else if(e!==u)for(b=0,c=this.length;b<c;b++){if(a=e(this[b]),!1!==a&&a!==u)return b}else return this.$enum_for("index");
return u},Ma.$$arity=-1);b.def(D,"$insert",Ua=function(a,e){var c=b.slice.call(arguments,1,arguments.length);a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");if(0<c.length){0>a&&(a+=this.length+1,0>a&&this.$raise(g(H,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(var f=this.length;f<a;f++)this.push(u);this.splice.apply(this,[a,0].concat(c))}return this},Ua.$$arity=-2);b.def(D,"$inspect",Ta=function(){for(var a=[],b=this.$__id__(),e=0,c=this.length;e<c;e++){var f=this["$[]"](e);f.$__id__()===
b?a.push("[...]"):a.push(f.$inspect())}return"["+a.join(", ")+"]"},Ta.$$arity=0);b.def(D,"$join",Ra=function(a){null==m[","]&&(m[","]=u);null==a&&(a=u);if(l(0===this.length))return"";l(a===u)&&(a=m[","]);var e=[],c;var f=0;for(c=this.length;f<c;f++){var d=this[f];if(g(H,"Opal")["$respond_to?"](d,"to_str")){var w=d.$to_str();if(w!==u){e.push(w.$to_s());continue}}if(g(H,"Opal")["$respond_to?"](d,"to_ary")&&(w=d.$to_ary(),w===this&&this.$raise(g(H,"ArgumentError")),w!==u)){e.push(w.$join(a));continue}if(g(H,
"Opal")["$respond_to?"](d,"to_s")&&(w=d.$to_s(),w!==u)){e.push(w);continue}this.$raise(g(H,"NoMethodError").$new(""+b.inspect(d)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===u?e.join(""):e.join(g(H,"Opal")["$coerce_to!"](a,g(H,"String"),"to_str").$to_s())},Ra.$$arity=-1);b.def(D,"$keep_if",la=function(){var a=la.$$p,b=a||u,e;a&&(la.$$p=null);a&&(la.$$p=null);if(b===u)return y(this,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));
a=0;for(var c=this.length,f;a<c;a++)if(f=b(this[a]),!1===f||f===u)this.splice(a,1),c--,a--;return this},la.$$arity=0);b.def(D,"$last",va=function(a){if(null==a)return 0===this.length?u:this[this.length-1];a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");0>a&&this.$raise(g(H,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},va.$$arity=-1);b.def(D,"$length",ha=function(){return this.length},ha.$$arity=0);b.alias(D,"map","collect");
b.alias(D,"map!","collect!");b.def(D,"$max",Aa=function(a){var b=Aa.$$p,e=b||u;b&&(Aa.$$p=null);b&&(Aa.$$p=null);return y(this.$each(),"max",[a],e.$to_proc())},Aa.$$arity=-1);b.def(D,"$min",Ka=function(){var a=Ka.$$p,b=a||u;a&&(Ka.$$p=null);a&&(Ka.$$p=null);return y(this.$each(),"min",[],b.$to_proc())},Ka.$$arity=0);b.def(D,"$permutation",ua=function(a){var e=ua.$$p,c=e||u,f,d=this,w=u,n=u;e&&(ua.$$p=null);e&&(ua.$$p=null);if(c===u)return y(d,"enum_for",["permutation",a],(f=function(){var b=f.$$s||
this,e=b.length;b=void 0===a?b.length:a;for(var c=0<=b?1:0;b;)c*=e,e--,b--;return c},f.$$s=d,f.$$arity=0,f));var h;a=void 0===a?d.length:g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");if(!(0>a||d.length<a))if(0===a)b.yield1(c,[]);else if(1===a)for(w=0;w<d.length;w++)b.yield1(c,[d[w]]);else{w=g(H,"Array").$new(a);n=g(H,"Array").$new(d.length,!1);var r=function(a,e,c,f,w){d=this;for(var n=0;n<d.length;n++)if(f["$[]"](n)["$!"]())if(e[c]=n,c<a-1)f[n]=!0,r.call(d,a,e,c+1,f,w),f[n]=!1;else{h=[];for(var p=
0;p<e.length;p++)h.push(d[e[p]]);b.yield1(w,h)}};c!==u?(e=d.slice(),r.call(e,a,w,0,n,c)):r.call(d,a,w,0,n,c)}return d},ua.$$arity=-1);b.def(D,"$repeated_permutation",Ha=function(a){function e(a,c,f){if(c.length==a)a=c.slice(),b.yield1(d,a);else for(var w=0;w<f.length;w++)c.push(f[w]),e(a,c,f),c.pop()}var c,f=Ha.$$p,d=f||u,w=u;f&&(Ha.$$p=null);w=g(H,"Opal")["$coerce_to!"](a,g(H,"Integer"),"to_int");if(d===u)return y(this,"enum_for",["repeated_permutation",w],(c=function(){var a=c.$$s||this;return l("number"===
typeof w?0<=w:w["$>="](0))?a.$size()["$**"](w):0},c.$$s=this,c.$$arity=0,c));e(w,[],this.slice());return this},Ha.$$arity=1);b.def(D,"$pop",Fa=function(a){if(l(void 0===a))return l(0===this.length)?u:this.pop();a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");l(0>a)&&this.$raise(g(H,"ArgumentError"),"negative array size");return l(0===this.length)?[]:l(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Fa.$$arity=-1);b.def(D,"$product",Da=function(a){var e=Da.$$p,
c=e||u;e&&(Da.$$p=null);e&&(Da.$$p=null);var f=b.slice.call(arguments,0,arguments.length);e=c!==u?null:[];var d=f.length+1,w=Array(d),n=Array(d),h=Array(d),r;var p=1;h[0]=this;for(r=1;r<d;r++)h[r]=g(H,"Opal").$coerce_to(f[r-1],g(H,"Array"),"to_ary");for(r=0;r<d;r++){f=h[r].length;if(0===f)return e||this;p*=f;2147483647<p&&this.$raise(g(H,"RangeError"),"too big to product");n[r]=f;w[r]=0}a:for(;;){p=[];for(r=0;r<d;r++)p.push(h[r][w[r]]);e?e.push(p):b.yield1(c,p);r=d-1;for(w[r]++;w[r]===n[r];){w[r]=
0;if(0>--r)break a;w[r]++}}return e||this},Da.$$arity=-1);b.def(D,"$push",Sa=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=0,f=e.length;c<f;c++)this.push(e[c]);return this},Sa.$$arity=-1);b.alias(D,"append","push");b.def(D,"$rassoc",Qa=function(a){for(var b=0,e=this.length,c;b<e;b++)if(c=this[b],c.length&&void 0!==c[1]&&c[1]["$=="](a))return c;return u},Qa.$$arity=1);b.def(D,"$reject",Oa=function(){var a=Oa.$$p,b=a||u,e;a&&(Oa.$$p=null);a&&(Oa.$$p=null);if(b===u)return y(this,
"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var c=0,f=this.length,d;c<f;c++)d=b(this[c]),!1!==d&&d!==u||a.push(this[c]);return a},Oa.$$arity=0);b.def(D,"$reject!",Ga=function(){var a=Ga.$$p,b=a||u,e,c=u;a&&(Ga.$$p=null);a&&(Ga.$$p=null);if(b===u)return y(this,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));c=this.$length();y(this,"delete_if",[],b.$to_proc());return this.$length()["$=="](c)?u:this},
Ga.$$arity=0);b.def(D,"$replace",za=function(a){a=l(g(H,"Array")["$==="](a))?a.$to_a():g(H,"Opal").$coerce_to(a,g(H,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},za.$$arity=1);b.def(D,"$reverse",Ya=function(){return this.slice(0).reverse()},Ya.$$arity=0);b.def(D,"$reverse!",Pa=function(){return this.reverse()},Pa.$$arity=0);b.def(D,"$reverse_each",Va=function(){var a=Va.$$p,b=a||u,e;a&&(Va.$$p=null);a&&(Va.$$p=null);if(b===u)return y(this,"enum_for",["reverse_each"],
(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));y(this.$reverse(),"each",[],b.$to_proc());return this},Va.$$arity=0);b.def(D,"$rindex",Wa=function(a){var b=Wa.$$p,e=b||u;b&&(Wa.$$p=null);b&&(Wa.$$p=null);null!=a&&e!==u&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(e!==u)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=e(this[b]),!1!==a&&a!==u)return b}else if(null==a)return this.$enum_for("rindex");
return u},Wa.$$arity=-1);b.def(D,"$rotate",ab=function(a){null==a&&(a=1);a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var b=this.slice();var e=a%b.length;a=b.slice(e);b=b.slice(0,e);return a.concat(b)},ab.$$arity=-1);b.def(D,"$rotate!",Xa=function(a){null==a&&(a=1);if(0===this.length||1===this.length)return this;a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");a=this.$rotate(a);return this.$replace(a)},Xa.$$arity=-1);(function(a,
$super,e){a=J(a,$super,"SampleRandom");var c=[a].concat(e),f,d;a.$$prototype.rng=u;b.def(a,"$initialize",f=function(a){return this.rng=a},f.$$arity=1);return(b.def(a,"$rand",d=function(a){var b=g(c,"Opal").$coerce_to(this.rng.$rand(a),g(c,"Integer"),"to_int");l(0>b)&&this.$raise(g(c,"RangeError"),"random value must be >= 0");l(b<a)||this.$raise(g(c,"RangeError"),"random value must be less than Array size");return b},d.$$arity=1),u)&&"rand"})(H[0],null,H);b.def(D,"$sample",Y=function(a,b){var e,c=
u;if(l(void 0===a))return this.$at(g(H,"Kernel").$rand(this.length));l(void 0===b)?l(b=g(H,"Opal")["$coerce_to?"](a,g(H,"Hash"),"to_hash"))?a=u:(b=u,a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int")):(a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int"),b=g(H,"Opal").$coerce_to(b,g(H,"Hash"),"to_hash"));l(l(e=a)?0>a:e)&&this.$raise(g(H,"ArgumentError"),"count must be greater than 0");l(b)&&(c=b["$[]"]("random"));c=l(l(e=c)?c["$respond_to?"]("rand"):e)?g(H,"SampleRandom").$new(c):g(H,"Kernel");if(!l(a))return this[c.$rand(this.length)];
a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[c.$rand(this.length)]];case 2:var f=c.$rand(this.length);var d=c.$rand(this.length);f===d&&(d=0===f?f+1:f-1);return[this[f],this[d]];default:if(3<this.length/a){b=!1;var w=0;e=g(H,"Array").$new(a);f=1;for(e[0]=c.$rand(this.length);f<a;){var n=c.$rand(this.length);for(d=0;d<f;){for(;n===e[d];){w++;if(100<w){b=!0;break}n=c.$rand(this.length)}if(b)break;d++}if(b)break;e[f]=n;f++}if(!b){for(f=0;f<a;)e[f]=this[e[f]],f++;return e}}e=
this.slice();for(f=0;f<a;f++)b=c.$rand(this.length),w=e[f],e[f]=e[b],e[b]=w;return a===this.length?e:e["$[]"](0,a)}},Y.$$arity=-1);b.def(D,"$select",w=function(){var a=w.$$p,e=a||u,c;a&&(w.$$p=null);a&&(w.$$p=null);if(e===u)return y(this,"enum_for",["select"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=[];for(var f=0,d=this.length,n,h;f<d;f++)n=this[f],h=b.yield1(e,n),b.truthy(h)&&a.push(n);return a},w.$$arity=0);b.def(D,"$select!",C=function(){var a=C.$$p,b=a||u,e;a&&
(C.$$p=null);a&&(C.$$p=null);if(b===u)return y(this,"enum_for",["select!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=this.length;y(this,"keep_if",[],b.$to_proc());return this.length===a?u:this},C.$$arity=0);b.def(D,"$shift",ma=function(a){if(l(void 0===a)){if(l(0===this.length))return u;a=this[0];for(var b=1,e=this.length;b<e;b++)this[b-1]=this[b];this.pop();return a}a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");l(0>a)&&this.$raise(g(H,"ArgumentError"),"negative array size");
return l(0===this.length)?[]:this.splice(0,a)},ma.$$arity=-1);b.alias(D,"size","length");b.def(D,"$shuffle",N=function(a){return this.$dup().$to_a()["$shuffle!"](a)},N.$$arity=-1);b.def(D,"$shuffle!",Z=function(a){var b,e=this.length;void 0!==a&&(a=g(H,"Opal")["$coerce_to?"](a,g(H,"Hash"),"to_hash"),a!==u&&(a=a["$[]"]("random"),a!==u&&a["$respond_to?"]("rand")&&(b=a)));for(;e;){b?(a=b.$rand(e).$to_int(),0>a&&this.$raise(g(H,"RangeError"),"random number too small "+a),a>=e&&this.$raise(g(H,"RangeError"),
"random number too big "+a)):a=this.$rand(e);var c=this[--e];this[e]=this[a];this[a]=c}return this},Z.$$arity=-1);b.alias(D,"slice","[]");b.def(D,"$slice!",oa=function(a,b){if(l(void 0===b))if(l(g(H,"Range")["$==="](a))){var e=this["$[]"](a);b=g(H,"Opal").$coerce_to(a.$begin(),g(H,"Integer"),"to_int");var c=g(H,"Opal").$coerce_to(a.$end(),g(H,"Integer"),"to_int");0>b&&(b+=this.length);0>c?c+=this.length:c>=this.length&&(c=this.length-1,a.excl&&(c+=1));var f=c-b;a.excl?--c:f+=1;b<this.length&&0<=b&&
c<this.length&&0<=c&&0<f&&this.splice(b,f)}else{a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return u;e=this[a];0===a?this.shift():this.splice(a,1)}else{a=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");b=g(H,"Opal").$coerce_to(b,g(H,"Integer"),"to_int");if(0>b)return u;e=this["$[]"](a,b);0>a&&(a+=this.length);a+b>this.length&&(b=this.length-a);a<this.length&&0<=a&&this.splice(a,b)}return e},oa.$$arity=-2);b.def(D,"$sort",db=function(){var a=db.$$p,
b=a||u,e=this;a&&(db.$$p=null);a&&(db.$$p=null);if(!l(1<e.length))return e;b===u&&(b=function(a,b){return a["$<=>"](b)});return e.slice().sort(function(a,c){var f=b(a,c);f===u&&e.$raise(g(H,"ArgumentError"),"comparison of "+a.$inspect()+" with "+c.$inspect()+" failed");return t(f,0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})},db.$$arity=0);b.def(D,"$sort!",Ia=function(){var a=Ia.$$p,b=a||u;a&&(Ia.$$p=null);a&&(Ia.$$p=null);a=b!==u?y(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort();b=this.length=
0;for(var e=a.length;b<e;b++)this.push(a[b]);return this},Ia.$$arity=0);b.def(D,"$sort_by!",bb=function(){var a=bb.$$p,b=a||u,e;a&&(bb.$$p=null);a&&(bb.$$p=null);return b===u?y(this,"enum_for",["sort_by!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e)):this.$replace(y(this,"sort_by",[],b.$to_proc()))},bb.$$arity=0);b.def(D,"$take",cb=function(a){0>a&&this.$raise(g(H,"ArgumentError"));return this.slice(0,a)},cb.$$arity=1);b.def(D,"$take_while",hb=function(){var a=hb.$$p,b=a||
u;a&&(hb.$$p=null);a&&(hb.$$p=null);a=[];for(var e=0,c=this.length,f,d;e<c;e++){f=this[e];d=b(f);if(!1===d||d===u)break;a.push(f)}return a},hb.$$arity=0);b.def(D,"$to_a",lb=function(){return this},lb.$$arity=0);b.alias(D,"to_ary","to_a");b.def(D,"$to_h",mb=function(){var a,e=this.length,c=G([],{});for(a=0;a<e;a++){var f=g(H,"Opal")["$coerce_to?"](this[a],g(H,"Array"),"to_ary");f.$$is_array||this.$raise(g(H,"TypeError"),"wrong element type "+f.$class()+" at "+a+" (expected array)");2!==f.length&&this.$raise(g(H,
"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+f.$length()+")");var d=f[0];f=f[1];b.hash_put(c,d,f)}return c},mb.$$arity=0);b.alias(D,"to_s","inspect");b.def(D,"$transpose",nb=function(){var a,e=u,c=u;if(l(this["$empty?"]()))return[];e=[];c=u;y(this,"each",[],(a=function(f){var d=a.$$s||this,w,n;null==f&&(f=u);f=l(g(H,"Array")["$==="](f))?f.$to_a():g(H,"Opal").$coerce_to(f,g(H,"Array"),"to_ary").$to_a();c=l(w=c)?w:f.length;l(f.length["$!="](c))&&d.$raise(g(H,"IndexError"),"element size differs ("+
f.length+" should be "+c+")");return y(f.length,"times",[],(n=function(a){var c;null==a&&(a=u);if(!l(c=e["$[]"](a))){c=[a,[]];y(e,"[]=",b.to_a(c));var d=c.length;d="number"===typeof d?d-1:d["$-"](1);c=c[d]}return c["$<<"](f.$at(a))},n.$$s=d,n.$$arity=1,n))},a.$$s=this,a.$$arity=1,a));return e},nb.$$arity=0);b.def(D,"$uniq",Za=function(){var a=Za.$$p,e=a||u;a&&(Za.$$p=null);a&&(Za.$$p=null);a=G([],{});var c;if(e===u){var f=0;for(c=this.length;f<c;f++){var d=this[f];void 0===b.hash_get(a,d)&&b.hash_put(a,
d,d)}}else for(f=0,c=this.length;f<c;f++){d=this[f];var w=b.yield1(e,d);void 0===b.hash_get(a,w)&&b.hash_put(a,w,d)}return K(a.$values(),this.$class())},Za.$$arity=0);b.def(D,"$uniq!",$a=function(){var a=$a.$$p,e=a||u;a&&($a.$$p=null);a&&($a.$$p=null);a=this.length;var c=G([],{}),f;var d=0;for(f=a;d<f;d++){var w=this[d];var n=e===u?w:b.yield1(e,w);void 0===b.hash_get(c,n)?b.hash_put(c,n,w):(this.splice(d,1),f--,d--)}return this.length===a?u:this},$a.$$arity=0);b.def(D,"$unshift",fb=function(a){var e=
b.slice.call(arguments,0,arguments.length);for(var c=e.length-1;0<=c;c--)this.unshift(e[c]);return this},fb.$$arity=-1);b.alias(D,"prepend","unshift");b.def(D,"$values_at",ob=function(a){var e,c=u;var f=b.slice.call(arguments,0,arguments.length);c=[];y(f,"each",[],(e=function(a){var b=e.$$s||this,f,d=u,w=u;d=u;null==a&&(a=u);if(l(a["$is_a?"](g(H,"Range")))){d=g(H,"Opal").$coerce_to(a.$last(),g(H,"Integer"),"to_int");w=g(H,"Opal").$coerce_to(a.$first(),g(H,"Integer"),"to_int");if(0>w)return w+=b.length,
u;0>d&&(d+=b.length);a["$exclude_end?"]()&&d--;return d<w?u:y(w,"upto",[d],(f=function(a){var b=f.$$s||this;null==a&&(a=u);return c["$<<"](b.$at(a))},f.$$s=b,f.$$arity=1,f))}d=g(H,"Opal").$coerce_to(a,g(H,"Integer"),"to_int");return c["$<<"](b.$at(d))},e.$$s=this,e.$$arity=1,e));return c},ob.$$arity=-1);b.def(D,"$zip",ib=function(a){var e=ib.$$p,c=e||u,f;e&&(ib.$$p=null);e&&(ib.$$p=null);e=b.slice.call(arguments,0,arguments.length);var d=[],w=this.length,n,h;var r=0;for(h=e.length;r<h;r++){var p=
e[r];p.$$is_array||(p.$$is_enumerator?Infinity===p.$size()?e[r]=p.$take(w):e[r]=p.$to_a():e[r]=(l(f=g(H,"Opal")["$coerce_to?"](p,g(H,"Array"),"to_ary"))?f:g(H,"Opal")["$coerce_to!"](p,g(H,"Enumerator"),"each")).$to_a())}for(n=0;n<w;n++){f=[this[n]];r=0;for(h=e.length;r<h;r++)p=e[r][n],null==p&&(p=u),f[r+1]=p;d[n]=f}if(c!==u){for(n=0;n<w;n++)c(d[n]);return u}return d},ib.$$arity=-1);b.defs(D,"$inherited",pb=function(a){a.$$prototype.$to_a=function(){return this.slice(0,this.length)}},pb.$$arity=1);
b.def(D,"$instance_variables",jb=function(){var a,e=jb.$$p,c=u,f=u,d=u;e&&(jb.$$p=null);f=0;d=arguments.length;for(c=Array(d);f<d;f++)c[f]=arguments[f];return y(y(this,b.find_super_dispatcher(this,"instance_variables",jb,!1),c,e),"reject",[],(a=function(a){var b;null==a&&(a=u);return l(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},jb.$$arity=0);g(H,"Opal").$pristine(D.$singleton_class(),"allocate");g(H,"Opal").$pristine(D,"copy_instance_variables","initialize_dup");return(b.def(D,
"$pack",gb=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},gb.$$arity=-1),u)&&"pack"}(A[0],Array,A)};
Opal.modules["corelib/hash"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}var B=b.top,A=[],u=b.nil,q=b.const_get_relative,g=b.klass,J=b.send,l=b.hash2,G=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));B.$require("corelib/enumerable");
return function(y,$super,A){y=g(y,$super,"Hash");var B=[y].concat(A),M,K,k,Q,S,D,H,ia,X,a,d,v,E,O,p,h,e,z,r,U,F,n,c,f,W,aa,pa,L,R,ba,x,ca,da,ya,ea,xa,ta,T,fa,Ba,La,Ea,ja,wa,ra,I,V,ka,Ja,Ca,Na,na,qa,Ma,Ua,Ta,Ra,la,va,ha,Aa,Ka;y.$include(q(B,"Enumerable"));y.$$prototype.$$is_hash=!0;b.defs(y,"$[]",M=function(a){var e=b.slice.call(arguments,0,arguments.length);var c=e.length,f;if(1===c){var d=q(B,"Opal")["$coerce_to?"](e["$[]"](0),q(B,"Hash"),"to_hash");if(d!==u)return this.$allocate()["$merge!"](d);
e=q(B,"Opal")["$coerce_to?"](e["$[]"](0),q(B,"Array"),"to_ary");e===u&&this.$raise(q(B,"ArgumentError"),"odd number of arguments for Hash");c=e.length;d=this.$allocate();for(f=0;f<c;f++)if(e[f].$$is_array)switch(e[f].length){case 1:d.$store(e[f][0],u);break;case 2:d.$store(e[f][0],e[f][1]);break;default:this.$raise(q(B,"ArgumentError"),"invalid number of elements ("+e[f].length+" for 1..2)")}return d}0!==c%2&&this.$raise(q(B,"ArgumentError"),"odd number of arguments for Hash");d=this.$allocate();
for(f=0;f<c;f+=2)d.$store(e[f],e[f+1]);return d},M.$$arity=-1);b.defs(y,"$allocate",K=function(){var a=new this.$$constructor;b.hash_init(a);a.$$none=u;a.$$proc=u;return a},K.$$arity=0);b.defs(y,"$try_convert",k=function(a){return q(B,"Opal")["$coerce_to?"](a,q(B,"Hash"),"to_hash")},k.$$arity=1);b.def(y,"$initialize",Q=function(a){var b=Q.$$p,e=b||u;b&&(Q.$$p=null);b&&(Q.$$p=null);void 0!==a&&e!==u&&this.$raise(q(B,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?u:a;
this.$$proc=e;return this},Q.$$arity=-1);b.def(y,"$==",S=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var e=0,c=this.$$keys,f=c.length,d,n;e<f;e++)if(d=c[e],d.$$is_string?(n=this.$$smap[d],d=a.$$smap[d]):(n=d.value,d=b.hash_get(a,d.key)),void 0===d||!n["$eql?"](d))return!1;return!0},S.$$arity=1);b.def(y,"$>=",D=function(a){var b,e=u;a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;e=!0;J(a,"each",
[],(b=function(a,c){var f=b.$$s||this;null==a&&(a=u);null==c&&(c=u);a=f.$fetch(a,null);if(null==a||a!==c)e=!1},b.$$s=this,b.$$arity=2,b));return e},D.$$arity=1);b.def(y,"$>",H=function(a){a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:t(this,a)},H.$$arity=1);b.def(y,"$<",ia=function(a){a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},ia.$$arity=1);b.def(y,"$<=",X=function(a){a=
q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");return t(a,this)},X.$$arity=1);b.def(y,"$[]",a=function(a){var e=b.hash_get(this,a);return void 0!==e?e:this.$default(a)},a.$$arity=1);b.def(y,"$[]=",d=function(a,e){b.hash_put(this,a,e);return e},d.$$arity=2);b.def(y,"$assoc",v=function(a){for(var b=0,e=this.$$keys,c=e.length,f;b<c;b++)if(f=e[b],f.$$is_string){if(f["$=="](a))return[f,this.$$smap[f]]}else if(f.key["$=="](a))return[f.key,f.value];return u},v.$$arity=1);b.def(y,"$clear",E=function(){b.hash_init(this);
return this},E.$$arity=0);b.def(y,"$clone",O=function(){var a=new this.$$class;b.hash_init(a);b.hash_clone(this,a);return a},O.$$arity=0);b.def(y,"$compact",p=function(){for(var a=b.hash(),e=0,c=this.$$keys,f=c.length,d,n;e<f;e++)d=c[e],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),n!==u&&b.hash_put(a,d,n);return a},p.$$arity=0);b.def(y,"$compact!",h=function(){for(var a=!1,e=0,c=this.$$keys,f=c.length,d,n;e<f;e++)d=c[e],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),n===u&&void 0!==b.hash_delete(this,
d)&&(a=!0,f--,e--);return a?this:u},h.$$arity=0);b.def(y,"$compare_by_identity",e=function(){var a,e=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var c=l([],{}).$compare_by_identity();var f=0;for(a=e.length;f<a;f++){var d=e[f];d.$$is_string||(d=d.key);b.hash_put(c,d,b.hash_get(this,d))}this.$$by_identity=!0;this.$$map=c.$$map;this.$$smap=c.$$smap;return this},e.$$arity=0);b.def(y,"$compare_by_identity?",z=function(){return!0===this.$$by_identity},
z.$$arity=0);b.def(y,"$default",r=function(a){return void 0!==a&&this.$$proc!==u&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?u:this.$$none},r.$$arity=-1);b.def(y,"$default=",U=function(a){this.$$proc=u;return this.$$none=a},U.$$arity=1);b.def(y,"$default_proc",F=function(){return void 0!==this.$$proc?this.$$proc:u},F.$$arity=0);b.def(y,"$default_proc=",n=function(a){var b=a;b!==u&&(b=q(B,"Opal")["$coerce_to!"](b,q(B,"Proc"),"to_proc"),b["$lambda?"]()&&2!==b.$arity().$abs()&&
this.$raise(q(B,"TypeError"),"default_proc takes two arguments"));this.$$none=u;this.$$proc=b;return a},n.$$arity=1);b.def(y,"$delete",c=function(a){var e=c.$$p,f=e||u;e&&(c.$$p=null);e&&(c.$$p=null);e=b.hash_delete(this,a);return void 0!==e?e:f!==u?b.yield1(f,a):u},c.$$arity=1);b.def(y,"$delete_if",f=function(){var a=f.$$p,e=a||u,c;a&&(f.$$p=null);a&&(f.$$p=null);if(!G(e))return J(this,"enum_for",["delete_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var d=this.$$keys,
n=d.length,h,r;a<n;a++)h=d[a],h.$$is_string?r=this.$$smap[h]:(r=h.value,h=h.key),r=e(h,r),!1!==r&&r!==u&&void 0!==b.hash_delete(this,h)&&(n--,a--);return this},f.$$arity=0);b.alias(y,"dup","clone");b.def(y,"$dig",W=function(a,e){var c=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===u||0===c.length)return f;G(f["$respond_to?"]("dig"))||this.$raise(q(B,"TypeError"),""+f.$class()+" does not have #dig method");return J(f,"dig",b.to_a(c))},W.$$arity=-2);b.def(y,"$each",aa=function(){var a=
aa.$$p,e=a||u,c;a&&(aa.$$p=null);a&&(aa.$$p=null);if(!G(e))return J(this,"enum_for",["each"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var f=this.$$keys,d=f.length,n,h;a<d;a++)n=f[a],n.$$is_string?h=this.$$smap[n]:(h=n.value,n=n.key),b.yield1(e,[n,h]);return this},aa.$$arity=0);b.def(y,"$each_key",pa=function(){var a=pa.$$p,b=a||u,e;a&&(pa.$$p=null);a&&(pa.$$p=null);if(!G(b))return J(this,"enum_for",["each_key"],(e=function(){return(e.$$s||this).$size()},e.$$s=
this,e.$$arity=0,e));a=0;for(var c=this.$$keys,f=c.length,d;a<f;a++)d=c[a],b(d.$$is_string?d:d.key);return this},pa.$$arity=0);b.alias(y,"each_pair","each");b.def(y,"$each_value",L=function(){var a=L.$$p,b=a||u,e;a&&(L.$$p=null);a&&(L.$$p=null);if(!G(b))return J(this,"enum_for",["each_value"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var c=this.$$keys,f=c.length,d;a<f;a++)d=c[a],b(d.$$is_string?this.$$smap[d]:d.value);return this},L.$$arity=0);b.def(y,"$empty?",
R=function(){return 0===this.$$keys.length},R.$$arity=0);b.alias(y,"eql?","==");b.def(y,"$fetch",ba=function(a,e){var c=ba.$$p,f=c||u;c&&(ba.$$p=null);c&&(ba.$$p=null);c=b.hash_get(this,a);return void 0!==c?c:f!==u?f(a):void 0!==e?e:this.$raise(q(B,"KeyError").$new("key not found: "+a.$inspect(),l(["key","receiver"],{key:a,receiver:this})))},ba.$$arity=-2);b.def(y,"$fetch_values",x=function(a){var e=x.$$p,c=e||u,f;e&&(x.$$p=null);e&&(x.$$p=null);e=b.slice.call(arguments,0,arguments.length);return J(e,
"map",[],(f=function(a){var b=f.$$s||this;null==a&&(a=u);return J(b,"fetch",[a],c.$to_proc())},f.$$s=this,f.$$arity=1,f))},x.$$arity=-1);b.def(y,"$flatten",ca=function(a){null==a&&(a=1);a=q(B,"Opal")["$coerce_to!"](a,q(B,"Integer"),"to_int");for(var b=[],e=0,c=this.$$keys,f=c.length,d,n;e<f;e++)d=c[e],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),b.push(d),n.$$is_array?1===a?b.push(n):b=b.concat(n.$flatten(a-2)):b.push(n);return b},ca.$$arity=-1);b.def(y,"$has_key?",da=function(a){return void 0!==
b.hash_get(this,a)},da.$$arity=1);b.def(y,"$has_value?",ya=function(a){for(var b=0,e=this.$$keys,c=e.length,f;b<c;b++)if(f=e[b],(f.$$is_string?this.$$smap[f]:f.value)["$=="](a))return!0;return!1},ya.$$arity=1);b.def(y,"$hash",ea=function(){var a=void 0===b.hash_ids,e=this.$object_id(),c=["Hash"];try{a&&(b.hash_ids=Object.create(null));if(b[e])return"self";for(h in b.hash_ids){var f=b.hash_ids[h];if(this["$eql?"](f))return"self"}b.hash_ids[e]=this;e=0;for(var d=this.$$keys,n=d.length;e<n;e++){var h=
d[e];h.$$is_string?c.push([h,this.$$smap[h].$hash()]):c.push([h.key_hash,h.value.$hash()])}return c.sort().join()}finally{a&&(b.hash_ids=void 0)}},ea.$$arity=0);b.alias(y,"include?","has_key?");b.def(y,"$index",xa=function(a){for(var b=0,e=this.$$keys,c=e.length,f,d;b<c;b++)if(f=e[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),d["$=="](a))return f;return u},xa.$$arity=1);b.def(y,"$indexes",ta=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=[],f=0,d=e.length,n;f<d;f++)n=
e[f],n=b.hash_get(this,n),void 0===n?c.push(this.$default()):c.push(n);return c},ta.$$arity=-1);b.alias(y,"indices","indexes");var ua;b.def(y,"$inspect",T=function(){var a=void 0===ua,b=this.$object_id(),e=[];try{a&&(ua={});if(ua.hasOwnProperty(b))return"{...}";ua[b]=!0;b=0;for(var c=this.$$keys,f=c.length,d,n;b<f;b++)d=c[b],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),e.push(d.$inspect()+"=>"+n.$inspect());return"{"+e.join(", ")+"}"}finally{a&&(ua=void 0)}},T.$$arity=0);b.def(y,"$invert",fa=
function(){for(var a=b.hash(),e=0,c=this.$$keys,f=c.length,d,n;e<f;e++)d=c[e],d.$$is_string?n=this.$$smap[d]:(n=d.value,d=d.key),b.hash_put(a,n,d);return a},fa.$$arity=0);b.def(y,"$keep_if",Ba=function(){var a=Ba.$$p,e=a||u,c;a&&(Ba.$$p=null);a&&(Ba.$$p=null);if(!G(e))return J(this,"enum_for",["keep_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var f=this.$$keys,d=f.length,n,h;a<d;a++)n=f[a],n.$$is_string?h=this.$$smap[n]:(h=n.value,n=n.key),h=e(n,h),!1!==h&&h!==
u||void 0===b.hash_delete(this,n)||(d--,a--);return this},Ba.$$arity=0);b.alias(y,"key","index");b.alias(y,"key?","has_key?");b.def(y,"$keys",La=function(){for(var a=[],b=0,e=this.$$keys,c=e.length,f;b<c;b++)f=e[b],f.$$is_string?a.push(f):a.push(f.key);return a},La.$$arity=0);b.def(y,"$length",Ea=function(){return this.$$keys.length},Ea.$$arity=0);b.alias(y,"member?","has_key?");b.def(y,"$merge",ja=function(a){var b=ja.$$p,e=b||u;b&&(ja.$$p=null);b&&(ja.$$p=null);return J(this.$dup(),"merge!",[a],
e.$to_proc())},ja.$$arity=1);b.def(y,"$merge!",wa=function(a){var e=wa.$$p,c=e||u;e&&(wa.$$p=null);e&&(wa.$$p=null);a.$$is_hash||(a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash"));var f=a.$$keys,d=f.length;if(c===u){for(e=0;e<d;e++){var n=f[e];if(n.$$is_string)var h=a.$$smap[n];else h=n.value,n=n.key;b.hash_put(this,n,h)}return this}for(e=0;e<d;e++){n=f[e];n.$$is_string?h=a.$$smap[n]:(h=n.value,n=n.key);var r=b.hash_get(this,n);void 0===r?b.hash_put(this,n,h):b.hash_put(this,n,c(n,r,h))}return this},
wa.$$arity=1);b.def(y,"$rassoc",ra=function(a){for(var b=0,e=this.$$keys,c=e.length,f,d;b<c;b++)if(f=e[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),d["$=="](a))return[f,d];return u},ra.$$arity=1);b.def(y,"$rehash",I=function(){b.hash_rehash(this);return this},I.$$arity=0);b.def(y,"$reject",V=function(){var a=V.$$p,e=a||u,c;a&&(V.$$p=null);a&&(V.$$p=null);if(!G(e))return J(this,"enum_for",["reject"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=b.hash();for(var f=
0,d=this.$$keys,n=d.length,h,r,p;f<n;f++)h=d[f],h.$$is_string?r=this.$$smap[h]:(r=h.value,h=h.key),p=e(h,r),!1!==p&&p!==u||b.hash_put(a,h,r);return a},V.$$arity=0);b.def(y,"$reject!",ka=function(){var a=ka.$$p,e=a||u,c;a&&(ka.$$p=null);a&&(ka.$$p=null);if(!G(e))return J(this,"enum_for",["reject!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=!1;for(var f=0,d=this.$$keys,n=d.length,h,r;f<n;f++)h=d[f],h.$$is_string?r=this.$$smap[h]:(r=h.value,h=h.key),r=e(h,r),!1!==r&&r!==
u&&void 0!==b.hash_delete(this,h)&&(a=!0,n--,f--);return a?this:u},ka.$$arity=0);b.def(y,"$replace",Ja=function(a){a=q(B,"Opal")["$coerce_to!"](a,q(B,"Hash"),"to_hash");b.hash_init(this);var e=0;for(var c=a.$$keys,f=c.length,d,n;e<f;e++)d=c[e],d.$$is_string?n=a.$$smap[d]:(n=d.value,d=d.key),b.hash_put(this,d,n);G(a.$default_proc())?(e=[a.$default_proc()],J(this,"default_proc=",b.to_a(e))):(e=[a.$default()],J(this,"default=",b.to_a(e)));a=e;e=e.length;e="number"===typeof e?e-1:e["$-"](1);a[e];return this},
Ja.$$arity=1);b.def(y,"$select",Ca=function(){var a=Ca.$$p,e=a||u,c;a&&(Ca.$$p=null);a&&(Ca.$$p=null);if(!G(e))return J(this,"enum_for",["select"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=b.hash();for(var f=0,d=this.$$keys,n=d.length,h,r,p;f<n;f++)h=d[f],h.$$is_string?r=this.$$smap[h]:(r=h.value,h=h.key),p=e(h,r),!1!==p&&p!==u&&b.hash_put(a,h,r);return a},Ca.$$arity=0);b.def(y,"$select!",Na=function(){var a=Na.$$p,e=a||u,c;a&&(Na.$$p=null);a&&(Na.$$p=null);if(!G(e))return J(this,
"enum_for",["select!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=u;for(var f=0,d=this.$$keys,n=d.length,h,r;f<n;f++)if(h=d[f],h.$$is_string?r=this.$$smap[h]:(r=h.value,h=h.key),r=e(h,r),!1===r||r===u)void 0!==b.hash_delete(this,h)&&(n--,f--),a=this;return a},Na.$$arity=0);b.def(y,"$shift",na=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(u)},na.$$arity=0);b.alias(y,"size","length");b.def(y,"$slice",
qa=function(a){var e=b.slice.call(arguments,0,arguments.length);for(var c=b.hash(),f=0,d=e.length;f<d;f++){var n=e[f],h=b.hash_get(this,n);void 0!==h&&b.hash_put(c,n,h)}return c},qa.$$arity=-1);b.alias(y,"store","[]=");b.def(y,"$to_a",Ma=function(){for(var a=[],b=0,e=this.$$keys,c=e.length,f,d;b<c;b++)f=e[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),a.push([f,d]);return a},Ma.$$arity=0);b.def(y,"$to_h",Ua=function(){if(this.$$class===b.Hash)return this;var a=new b.Hash;b.hash_init(a);b.hash_clone(this,
a);return a},Ua.$$arity=0);b.def(y,"$to_hash",Ta=function(){return this},Ta.$$arity=0);b.def(y,"$to_proc",Ra=function(){var a;return J(this,"proc",[],(a=function(b){var e=a.$$s||this;null==b&&e.$raise(q(B,"ArgumentError"),"no key given");return e["$[]"](b)},a.$$s=this,a.$$arity=-1,a))},Ra.$$arity=0);b.alias(y,"to_s","inspect");b.def(y,"$transform_keys",la=function(){var a=la.$$p,e=a||u,c;a&&(la.$$p=null);a&&(la.$$p=null);if(!G(e))return J(this,"enum_for",["transform_keys"],(c=function(){return(c.$$s||
this).$size()},c.$$s=this,c.$$arity=0,c));a=b.hash();for(var f=0,d=this.$$keys,n=d.length,h,r;f<n;f++)h=d[f],h.$$is_string?r=this.$$smap[h]:(r=h.value,h=h.key),h=b.yield1(e,h),b.hash_put(a,h,r);return a},la.$$arity=0);b.def(y,"$transform_keys!",va=function(){var a=va.$$p,e=a||u,c;a&&(va.$$p=null);a&&(va.$$p=null);if(!G(e))return J(this,"enum_for",["transform_keys!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=b.slice.call(this.$$keys);var f,d=a.length;for(f=0;f<d;f++){var n=
a[f];if(n.$$is_string)var h=this.$$smap[n];else h=n.value,n=n.key;var r=b.yield1(e,n);b.hash_delete(this,n);b.hash_put(this,r,h)}return this},va.$$arity=0);b.def(y,"$transform_values",ha=function(){var a=ha.$$p,e=a||u,c;a&&(ha.$$p=null);a&&(ha.$$p=null);if(!G(e))return J(this,"enum_for",["transform_values"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=b.hash();for(var f=0,d=this.$$keys,n=d.length,h,r;f<n;f++)h=d[f],h.$$is_string?r=this.$$smap[h]:(r=h.value,h=h.key),r=b.yield1(e,
r),b.hash_put(a,h,r);return a},ha.$$arity=0);b.def(y,"$transform_values!",Aa=function(){var a=Aa.$$p,e=a||u,c;a&&(Aa.$$p=null);a&&(Aa.$$p=null);if(!G(e))return J(this,"enum_for",["transform_values!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var f=this.$$keys,d=f.length,n,h;a<d;a++)n=f[a],n.$$is_string?h=this.$$smap[n]:(h=n.value,n=n.key),h=b.yield1(e,h),b.hash_put(this,n,h);return this},Aa.$$arity=0);b.alias(y,"update","merge!");b.alias(y,"value?","has_value?");
b.alias(y,"values_at","indexes");return(b.def(y,"$values",Ka=function(){for(var a=[],b=0,e=this.$$keys,c=e.length,f;b<c;b++)f=e[b],f.$$is_string?a.push(this.$$smap[f]):a.push(f.value);return a},Ka.$$arity=0),u)&&"values"}(A[0],null,A)};
Opal.modules["corelib/number"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function q(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function g(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}
var J=b.top,l=[],G=b.nil,y=b.const_get_qualified,m=b.const_get_relative,Q=b.klass,P=b.truthy,M=b.send,K=b.hash2;b.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));J.$require("corelib/numeric");(function(k,$super,l){k=Q(k,$super,"Number");var D=[k].concat(l),H,J,S,a,d,
v,E,O,p,h,e,z,r,U,F,n,c,f,W,aa,pa,L,R,ba,x,ca,da,ya,ea,xa,ta,T,fa,Ba,La,Ea,ja,wa,ra,I,V,ka,Ja,Ca,Na,na,qa,Ma,Ua,Ta,Ra,la,va,ha,Aa,Ka,ua,Ha,Fa,Da,Sa,Qa,Oa,Ga,za,Ya,Pa,Va,Wa,ab,Xa,Y;m(D,"Opal").$bridge(Number,k);b.defineProperty(k.$$prototype,"$$is_number",!0);k.$$is_number_class=!0;(function(a,e){var c=[a].concat(e),f;b.def(a,"$allocate",f=function(){return this.$raise(m(c,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");return G})(b.get_singleton_class(k),D);b.def(k,
"$coerce",H=function(a){if(a!==G){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[m(D,"Opal")["$coerce_to!"](a,m(D,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(m(D,"TypeError"),"can't convert "+a.$class()+" into Float")},H.$$arity=1);b.def(k,"$__id__",J=function(){return 2*this+1},J.$$arity=0);b.alias(k,"object_id","__id__");b.def(k,"$+",S=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},S.$$arity=1);b.def(k,"$-",a=function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)},a.$$arity=1);b.def(k,"$*",d=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},d.$$arity=1);b.def(k,"$/",v=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},v.$$arity=1);b.alias(k,"fdiv","/");b.def(k,"$%",E=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(m(D,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},E.$$arity=1);b.def(k,"$&",O=function(a){return a.$$is_number?
this&a:this.$__coerced__("&",a)},O.$$arity=1);b.def(k,"$|",p=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},p.$$arity=1);b.def(k,"$^",h=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},h.$$arity=1);b.def(k,"$<",e=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},e.$$arity=1);b.def(k,"$<=",z=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},z.$$arity=1);b.def(k,"$>",r=function(a){return a.$$is_number?this>a:this.$__coerced__(">",
a)},r.$$arity=1);b.def(k,"$>=",U=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},U.$$arity=1);b.def(k,"$<=>",F=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?G:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(C){if(b.rescue(C,[m(D,"ArgumentError")]))try{return G}finally{b.pop_exception()}else throw C;}},F.$$arity=1);b.def(k,"$<<",n=function(a){a=m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),"to_int");return 0<a?this<<a:this>>-a},n.$$arity=1);b.def(k,"$>>",c=function(a){a=
m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),"to_int");return 0<a?this>>a:this<<-a},c.$$arity=1);b.def(k,"$[]",f=function(a){a=m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},f.$$arity=1);b.def(k,"$+@",W=function(){return+this},W.$$arity=0);b.def(k,"$-@",aa=function(){return-this},aa.$$arity=0);b.def(k,"$~",pa=function(){return~this},pa.$$arity=0);b.def(k,"$**",L=function(a){var b,e;return P(m(D,"Integer")["$==="](a))?P(P(b=m(D,"Integer")["$==="](this)["$!"]())?
b:t(a,0))?Math.pow(this,a):m(D,"Rational").$new(this,1)["$**"](a):P(B(this,0)?P(e=m(D,"Float")["$==="](a))?e:m(D,"Rational")["$==="](a):B(this,0))?m(D,"Complex").$new(this,0)["$**"](a.$to_f()):P(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},L.$$arity=1);b.def(k,"$===",R=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},R.$$arity=1);b.def(k,"$==",ba=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?
a["$=="](this):!1},ba.$$arity=1);b.def(k,"$abs",x=function(){return Math.abs(this)},x.$$arity=0);b.def(k,"$abs2",ca=function(){return Math.abs(this*this)},ca.$$arity=0);b.def(k,"$allbits?",da=function(a){a=m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),"to_int");return(this&a)==a},da.$$arity=1);b.def(k,"$anybits?",ya=function(a){a=m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),"to_int");return 0!==(this&a)},ya.$$arity=1);b.def(k,"$angle",ea=function(){return P(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:
0>this?Math.PI:0},ea.$$arity=0);b.alias(k,"arg","angle");b.alias(k,"phase","angle");b.def(k,"$bit_length",xa=function(){P(m(D,"Integer")["$==="](this))||this.$raise(m(D,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,b=0>this?~this:this;0!=b;)a+=1,b>>>=1;return a},xa.$$arity=0);b.def(k,"$ceil",ta=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=
Math.round(a));return a},ta.$$arity=-1);b.def(k,"$chr",T=function(a){return String.fromCharCode(this)},T.$$arity=-1);b.def(k,"$denominator",fa=function(){var a,e=fa.$$p,c;e&&(fa.$$p=null);var f=0;var d=arguments.length;for(c=Array(d);f<d;f++)c[f]=arguments[f];return P(P(a=this["$nan?"]())?a:this["$infinite?"]())?1:M(this,b.find_super_dispatcher(this,"denominator",fa,!1),c,e)},fa.$$arity=0);b.def(k,"$downto",Ba=function(a){var b=Ba.$$p,e=b||G,c;b&&(Ba.$$p=null);b&&(Ba.$$p=null);if(e===G)return M(this,
"enum_for",["downto",a],(c=function(){var b=c.$$s||this;P(m(D,"Numeric")["$==="](a))||b.$raise(m(D,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return P(t(a,b))?0:A(u(b,a),1)},c.$$s=this,c.$$arity=0,c));a.$$is_number||this.$raise(m(D,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b>=a;b--)e(b);return this},Ba.$$arity=1);b.alias(k,"eql?","==");b.def(k,"$equal?",La=function(a){var b;return P(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},
La.$$arity=1);b.def(k,"$even?",Ea=function(){return 0===this%2},Ea.$$arity=0);b.def(k,"$floor",ja=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},ja.$$arity=-1);b.def(k,"$gcd",wa=function(a){P(m(D,"Integer")["$==="](a))||this.$raise(m(D,"TypeError"),"not an integer");var b=Math.abs(this);for(a=Math.abs(a);0<b;){var e=b;b=a%b;a=e}return a},wa.$$arity=1);b.def(k,"$gcdlcm",ra=function(a){return[this.$gcd(),
this.$lcm()]},ra.$$arity=1);b.def(k,"$integer?",I=function(){return 0===this%1},I.$$arity=0);b.def(k,"$is_a?",V=function(a){var e=V.$$p,c;e&&(V.$$p=null);var f=0;var d=arguments.length;for(c=Array(d);f<d;f++)c[f]=arguments[f];return P(a["$=="](m(D,"Integer"))?m(D,"Integer")["$==="](this):a["$=="](m(D,"Integer")))||P(a["$=="](m(D,"Integer"))?m(D,"Integer")["$==="](this):a["$=="](m(D,"Integer")))||P(a["$=="](m(D,"Float"))?m(D,"Float")["$==="](this):a["$=="](m(D,"Float")))?!0:M(this,b.find_super_dispatcher(this,
"is_a?",V,!1),c,e)},V.$$arity=1);b.alias(k,"kind_of?","is_a?");b.def(k,"$instance_of?",ka=function(a){var e=ka.$$p,c;e&&(ka.$$p=null);var f=0;var d=arguments.length;for(c=Array(d);f<d;f++)c[f]=arguments[f];return P(a["$=="](m(D,"Integer"))?m(D,"Integer")["$==="](this):a["$=="](m(D,"Integer")))||P(a["$=="](m(D,"Integer"))?m(D,"Integer")["$==="](this):a["$=="](m(D,"Integer")))||P(a["$=="](m(D,"Float"))?m(D,"Float")["$==="](this):a["$=="](m(D,"Float")))?!0:M(this,b.find_super_dispatcher(this,"instance_of?",
ka,!1),c,e)},ka.$$arity=1);b.def(k,"$lcm",Ja=function(a){P(m(D,"Integer")["$==="](a))||this.$raise(m(D,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},Ja.$$arity=1);b.alias(k,"magnitude","abs");b.alias(k,"modulo","%");b.def(k,"$next",Ca=function(){return this+1},Ca.$$arity=0);b.def(k,"$nobits?",Na=function(a){a=m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),"to_int");return 0==(this&a)},Na.$$arity=1);b.def(k,"$nonzero?",na=function(){return 0==this?G:this},na.$$arity=
0);b.def(k,"$numerator",qa=function(){var a,e=qa.$$p,c;e&&(qa.$$p=null);var f=0;var d=arguments.length;for(c=Array(d);f<d;f++)c[f]=arguments[f];return P(P(a=this["$nan?"]())?a:this["$infinite?"]())?this:M(this,b.find_super_dispatcher(this,"numerator",qa,!1),c,e)},qa.$$arity=0);b.def(k,"$odd?",Ma=function(){return 0!==this%2},Ma.$$arity=0);b.def(k,"$ord",Ua=function(){return this},Ua.$$arity=0);b.def(k,"$pow",Ta=function(a,b){0==this&&this.$raise(m(D,"ZeroDivisionError"),"divided by 0");if(void 0===
b)return this["$**"](a);m(D,"Integer")["$==="](a)||this.$raise(m(D,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(m(D,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");m(D,"Integer")["$==="](b)||this.$raise(m(D,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===b&&this.$raise(m(D,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](b)},Ta.$$arity=
-2);b.def(k,"$pred",Ra=function(){return this-1},Ra.$$arity=0);b.def(k,"$quo",la=function(a){var e=la.$$p,c;e&&(la.$$p=null);var f=0;var d=arguments.length;for(c=Array(d);f<d;f++)c[f]=arguments[f];return P(m(D,"Integer")["$==="](this))?M(this,b.find_super_dispatcher(this,"quo",la,!1),c,e):q(this,a)},la.$$arity=1);b.def(k,"$rationalize",va=function(a){1<arguments.length&&this.$raise(m(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(P(m(D,"Integer")["$==="](this)))return m(D,
"Rational").$new(this,1);if(P(this["$infinite?"]()))return this.$raise(m(D,"FloatDomainError"),"Infinity");if(P(this["$nan?"]()))return this.$raise(m(D,"FloatDomainError"),"NaN");if(P(null==a)){var e=m(D,"Math").$frexp(this);var c=b.to_ary(e);var f=null==c[0]?G:c[0];c=null==c[1]?G:c[1];e;f=m(D,"Math").$ldexp(f,y(m(D,"Float"),"MANT_DIG")).$to_i();c=u(c,y(m(D,"Float"),"MANT_DIG"));return m(D,"Rational").$new(g(2,f),1["$<<"](u(1,c))).$rationalize(m(D,"Rational").$new(1,1["$<<"](u(1,c))))}return this.$to_r().$rationalize(a)},
va.$$arity=-1);b.def(k,"$remainder",ha=function(a){return u(this,g(a,q(this,a).$truncate()))},ha.$$arity=1);b.def(k,"$round",Aa=function(a){var e;if(P(m(D,"Integer")["$==="](this))){if(P(null==a))return this;P(P(e=m(D,"Float")["$==="](a))?a["$infinite?"]():e)&&this.$raise(m(D,"RangeError"),"Infinity");a=m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),"to_int");P(B(a,y(m(D,"Integer"),"MIN")))&&this.$raise(m(D,"RangeError"),"out of bounds");if(P(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;
a=Math.pow(10,a);var c=Math.floor((Math.abs(c)+a/2)/a)*a;return 0>this?-c:c}P(P(e=this["$nan?"]())?null==a:e)&&this.$raise(m(D,"FloatDomainError"),"NaN");a=m(D,"Opal")["$coerce_to!"](a||0,m(D,"Integer"),"to_int");if(P("number"===typeof a?0>=a:a["$<="](0)))P(this["$nan?"]())?this.$raise(m(D,"RangeError"),"NaN"):P(this["$infinite?"]())&&this.$raise(m(D,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(P(P(e=this["$nan?"]())?e:this["$infinite?"]()))return this}c=m(D,"Math").$frexp(this);
e=b.to_ary(c);e=null==e[1]?G:e[1];c;c=u(A(y(m(D,"Float"),"DIG"),2),P(t(e,0))?q(e,4):u(q(e,3),1));c="number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c);return P(c)?this:P(B(a,(P(t(e,0))?A(q(e,3),1):q(e,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},Aa.$$arity=-1);b.def(k,"$step",Ka=function(a,e,c){function f(){void 0!==C&&(v=C);void 0===v&&(v=G);k===G&&g.$raise(m(D,"TypeError"),"step must be numeric");0===k&&g.$raise(m(D,"ArgumentError"),"step can't be 0");void 0!==l&&(k=l);
if(k===G||null==k)k=1;var a=k["$<=>"](0);a===G&&g.$raise(m(D,"ArgumentError"),"0 can't be coerced into "+k.$class());if(v===G||null==v)v=0<a?y(m(D,"Float"),"INFINITY"):y(m(D,"Float"),"INFINITY")["$-@"]();m(D,"Opal").$compare(g,v)}function d(){if(0<k&&g>v||0>k&&g<v)return 0;if(Infinity===k||-Infinity===k)return 1;var a=Math.abs,b=Math.floor;a=(a(g)+a(v)+a(v-g))/a(k)*y(m(D,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return b((v-g)/k+a)+1}function n(){f();if(0===k)return Infinity;
if(0!==k%1)return d();if(0<k&&g>v||0>k&&g<v)return 0;var a=Math.ceil,b=Math.abs,e=b(g-v)+1;b=b(k);return a(e/b)}var w=Ka.$$p,h=w||G,r,p,g=this,x=r=G;w&&(Ka.$$p=null);w&&(Ka.$$p=null);w=b.slice.call(arguments,0,arguments.length);r=b.extract_kwargs(w);if(null==r)r=K([],{});else if(!r.$$is_hash)throw b.ArgumentError.$new("expected kwargs");if(0<w.length){var v=w[0];w.splice(0,1)}if(0<w.length){var k=w[0];w.splice(0,1)}var C=r.$$smap.to;var l=r.$$smap.by;void 0!==v&&void 0!==C&&g.$raise(m(D,"ArgumentError"),
"to is given twice");void 0!==k&&void 0!==l&&g.$raise(m(D,"ArgumentError"),"step is given twice");if(h===G)return r=[],x=K([],{}),void 0!==v&&r.push(v),void 0!==k&&r.push(k),void 0!==C&&b.hash_put(x,"to",C),void 0!==l&&b.hash_put(x,"by",l),x["$any?"]()&&r.push(x),M(g,"enum_for",["step"].concat(b.to_a(r)),(p=function(){return n()},p.$$s=g,p.$$arity=0,p));f();if(0===k)for(;;)h(g);if(0!==g%1||0!==v%1||0!==k%1){if(p=d(),0<p)if(Infinity===k||-Infinity===k)h(g);else if(w=0,0<k)for(;w<p;)r=w*k+g,v<r&&(r=
v),h(r),w+=1;else for(;w<p;)r=w*k+g,v>r&&(r=v),h(r),w+=1}else if(p=g,0<k)for(;p<=v;)h(p),p+=k;else for(;p>=v;)h(p),p+=k;return g},Ka.$$arity=-1);b.alias(k,"succ","next");b.def(k,"$times",ua=function(){var a=ua.$$p,b=a||G,e;a&&(ua.$$p=null);a&&(ua.$$p=null);if(!P(b))return M(this,"enum_for",["times"],(e=function(){return e.$$s||this},e.$$s=this,e.$$arity=0,e));for(a=0;a<this;a++)b(a);return this},ua.$$arity=0);b.def(k,"$to_f",Ha=function(){return this},Ha.$$arity=0);b.def(k,"$to_i",Fa=function(){return parseInt(this,
10)},Fa.$$arity=0);b.alias(k,"to_int","to_i");b.def(k,"$to_r",Da=function(){if(P(m(D,"Integer")["$==="](this)))return m(D,"Rational").$new(this,1);var a=m(D,"Math").$frexp(this);var e=b.to_ary(a);var c=null==e[0]?G:e[0];e=null==e[1]?G:e[1];a;c=m(D,"Math").$ldexp(c,y(m(D,"Float"),"MANT_DIG")).$to_i();e=u(e,y(m(D,"Float"),"MANT_DIG"));return g(c,y(m(D,"Float"),"RADIX")["$**"](e)).$to_r()},Da.$$arity=0);b.def(k,"$to_s",Sa=function(a){var b;null==a&&(a=10);a=m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),
"to_int");P(P(b=B(a,2))?b:t(a,36))&&this.$raise(m(D,"ArgumentError"),"invalid radix "+a);return this.toString(a)},Sa.$$arity=-1);b.def(k,"$truncate",Qa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},Qa.$$arity=-1);b.alias(k,"inspect","to_s");b.def(k,"$digits",Oa=function(a){null==a&&(a=10);B(this,0)&&this.$raise(y(m(D,"Math"),"DomainError"),"out of domain");a=m(D,"Opal")["$coerce_to!"](a,m(D,"Integer"),
"to_int");P(B(a,2))&&this.$raise(m(D,"ArgumentError"),"invalid radix "+a);for(var b=this,e=[];0!==b;)e.push(b%a),b=parseInt(b/a,10);return e},Oa.$$arity=-1);b.def(k,"$divmod",Ga=function(a){var e,c=Ga.$$p,f;c&&(Ga.$$p=null);var d=0;var n=arguments.length;for(f=Array(n);d<n;d++)f[d]=arguments[d];return P(P(e=this["$nan?"]())?e:a["$nan?"]())?this.$raise(m(D,"FloatDomainError"),"NaN"):P(this["$infinite?"]())?this.$raise(m(D,"FloatDomainError"),"Infinity"):M(this,b.find_super_dispatcher(this,"divmod",
Ga,!1),f,c)},Ga.$$arity=1);b.def(k,"$upto",za=function(a){var b=za.$$p,e=b||G,c;b&&(za.$$p=null);b&&(za.$$p=null);if(e===G)return M(this,"enum_for",["upto",a],(c=function(){var b=c.$$s||this;P(m(D,"Numeric")["$==="](a))||b.$raise(m(D,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return P(B(a,b))?0:A(u(a,b),1)},c.$$s=this,c.$$arity=0,c));a.$$is_number||this.$raise(m(D,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b<=a;b++)e(b);
return this},za.$$arity=1);b.def(k,"$zero?",Ya=function(){return 0==this},Ya.$$arity=0);b.def(k,"$size",Pa=function(){return 4},Pa.$$arity=0);b.def(k,"$nan?",Va=function(){return isNaN(this)},Va.$$arity=0);b.def(k,"$finite?",Wa=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Wa.$$arity=0);b.def(k,"$infinite?",ab=function(){return Infinity==this?1:-Infinity==this?-1:G},ab.$$arity=0);b.def(k,"$positive?",Xa=function(){return 0!=this&&(Infinity==this||0<1/this)},Xa.$$arity=0);return(b.def(k,
"$negative?",Y=function(){return-Infinity==this||0>1/this},Y.$$arity=0),G)&&"negative?"})(l[0],m(l,"Numeric"),l);b.const_set(l[0],"Fixnum",m(l,"Number"));(function(g,$super,l){g=Q(g,$super,"Integer");l=[g].concat(l);g.$$is_number_class=!0;(function(g,k){var l=[g].concat(k),q,a,d;b.def(g,"$allocate",q=function(){return this.$raise(m(l,"TypeError"),"allocator undefined for "+this.$name())},q.$$arity=0);b.udef(g,"$new");b.def(g,"$===",a=function(a){return a.$$is_number?0===a%1:!1},a.$$arity=1);return(b.def(g,
"$sqrt",d=function(a){a=m(l,"Opal")["$coerce_to!"](a,m(l,"Integer"),"to_int");0>a&&this.$raise(y(m(l,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(a),10)},d.$$arity=1),G)&&"sqrt"})(b.get_singleton_class(g),l);b.const_set(l[0],"MAX",Math.pow(2,30)-1);return b.const_set(l[0],"MIN",-Math.pow(2,30))})(l[0],m(l,"Numeric"),l);return function(g,$super,l){g=Q(g,$super,"Float");l=[g].concat(l);g.$$is_number_class=!0;(function(g,k){var l=[g].concat(k),q,a;
b.def(g,"$allocate",q=function(){return this.$raise(m(l,"TypeError"),"allocator undefined for "+this.$name())},q.$$arity=0);b.udef(g,"$new");return(b.def(g,"$===",a=function(a){return!!a.$$is_number},a.$$arity=1),G)&&"==="})(b.get_singleton_class(g),l);b.const_set(l[0],"INFINITY",Infinity);b.const_set(l[0],"MAX",Number.MAX_VALUE);b.const_set(l[0],"MIN",Number.MIN_VALUE);b.const_set(l[0],"NAN",NaN);b.const_set(l[0],"DIG",15);b.const_set(l[0],"MANT_DIG",53);b.const_set(l[0],"RADIX",2);return b.const_set(l[0],
"EPSILON",Number.EPSILON||2.220446049250313E-16)}(l[0],m(l,"Numeric"),l)};
Opal.modules["corelib/range"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var q=b.top,g=[],J=b.nil,l=b.const_get_qualified,G=b.const_get_relative,y=b.klass,m=b.truthy,Q=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
q.$require("corelib/enumerable");return function(g,$super,q){g=y(g,$super,"Range");var k=[g].concat(q),K,S,D,H,P,X,a,d,v,E,O,p,h,e,z,r,U,F;g.$$prototype.begin=g.$$prototype.end=g.$$prototype.excl=J;g.$include(G(k,"Enumerable"));g.$$prototype.$$is_range=!0;g.$attr_reader("begin","end");b.def(g,"$initialize",K=function(a,b,e){null==e&&(e=!1);m(this.begin)&&this.$raise(G(k,"NameError"),"'initialize' called twice");m(a["$<=>"](b))||this.$raise(G(k,"ArgumentError"),"bad value for range");this.begin=a;
this.end=b;return this.excl=e},K.$$arity=-3);b.def(g,"$==",S=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},S.$$arity=1);b.def(g,"$===",D=function(a){return this["$include?"](a)},D.$$arity=1);b.def(g,"$cover?",H=function(a){var b;var e=this.begin["$<=>"](a);if(!m(m(b=e)?t(e,0):b))return!1;a=a["$<=>"](this.end);return m(this.excl)?m(b=a)?B(a,0):b:m(b=a)?t(a,0):b},H.$$arity=1);b.def(g,"$each",P=function(){var a=P.$$p,e=a||J;a&&(P.$$p=null);a&&(P.$$p=null);
if(e===J)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(G(k,"TypeError"),"can't iterate from Float");var f=this.begin;for(a=this.end+(m(this.excl)?0:1);f<a;f++)e(f);return this}if(this.begin.$$is_string&&this.end.$$is_string)return Q(this.begin,"upto",[this.end,this.excl],e.$to_proc()),this;a=this.begin;var d=this.end;for(m(a["$respond_to?"]("succ"))||this.$raise(G(k,"TypeError"),"can't iterate from "+a.$class());m(B(a["$<=>"](d),
0));)b.yield1(e,a),a=a.$succ();m(m(f=this.excl["$!"]())?a["$=="](d):f)&&b.yield1(e,a);return this},P.$$arity=0);b.def(g,"$eql?",X=function(a){var b,e;return m(G(k,"Range")["$==="](a))?m(b=m(e=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):e)?this.end["$eql?"](a.$end()):b:!1},X.$$arity=1);b.def(g,"$exclude_end?",a=function(){return this.excl},a.$$arity=0);b.def(g,"$first",d=function(a){var e=d.$$p,f;e&&(d.$$p=null);var n=0;var h=arguments.length;for(f=Array(h);n<h;n++)f[n]=
arguments[n];return m(null==a)?this.begin:Q(this,b.find_super_dispatcher(this,"first",d,!1),f,e)},d.$$arity=-1);b.alias(g,"include?","cover?");b.def(g,"$last",v=function(a){return m(null==a)?this.end:this.$to_a().$last(a)},v.$$arity=-1);b.def(g,"$max",E=function(){var a,e=E.$$p,f=e||J,d;e&&(E.$$p=null);var h=0;var r=arguments.length;for(d=Array(r);h<r;h++)d[h]=arguments[h];return f!==J?Q(this,b.find_super_dispatcher(this,"max",E,!1),d,e):m(A(this.begin,this.end))?J:m(m(a=this.excl)?this.begin["$=="](this.end):
a)?J:this.excl?this.end-1:this.end},E.$$arity=0);b.alias(g,"member?","cover?");b.def(g,"$min",O=function(){var a,e=O.$$p,f=e||J,d;e&&(O.$$p=null);var h=0;var r=arguments.length;for(d=Array(r);h<r;h++)d[h]=arguments[h];return f!==J?Q(this,b.find_super_dispatcher(this,"min",O,!1),d,e):m(A(this.begin,this.end))?J:m(m(a=this.excl)?this.begin["$=="](this.end):a)?J:this.begin},O.$$arity=0);b.def(g,"$size",p=function(){var a;var b=this.begin;var e=this.end;m(this.excl)&&(e="number"===typeof e?e-1:e["$-"](1));
if(!m(m(a=G(k,"Numeric")["$==="](b))?G(k,"Numeric")["$==="](e):a))return J;if(m(B(e,b)))return 0;a=l(G(k,"Float"),"INFINITY");return m([b.$abs(),e.$abs()]["$include?"](a))?a:(Math.abs(e-b)+1).$to_i()},p.$$arity=0);b.def(g,"$step",h=function(a){function e(){a.$$is_number||(a=G(k,"Opal")["$coerce_to!"](a,G(k,"Integer"),"to_int"));0>a?v.$raise(G(k,"ArgumentError"),"step can't be negative"):0===a&&v.$raise(G(k,"ArgumentError"),"step can't be 0")}function f(){if(!v.begin["$respond_to?"]("succ")||v.begin.$$is_string&&
v.end.$$is_string)return J;if(0===a%1){var b=v.$size();return("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()}b=v.begin;var e=v.end,c=Math.abs,f=Math.floor;c=(c(b)+c(e)+c(e-b))/c(a)*l(G(k,"Float"),"EPSILON");.5<c&&(c=.5);v.excl?(f=f((e-b)/a-c),f*a+b<e&&f++):f=f((e-b)/a+c)+1;return f}var d,n,r,g=h.$$p,p=g||J,v=this,x=J;g&&(h.$$p=null);null==a&&(a=1);if(p===J)return Q(v,"enum_for",["step",a],(d=function(){e();return f()},d.$$s=v,d.$$arity=0,d));e();m(v.begin.$$is_number&&v.end.$$is_number)?
(x=0,function(){var e=b.new_brk();try{return Q(v,"loop",[],(n=function(){var c=n.$$s||this;null==c.begin&&(c.begin=J);null==c.excl&&(c.excl=J);null==c.end&&(c.end=J);var f=u(c.begin,"number"===typeof x&&"number"===typeof a?x*a:x["$*"](a));m(c.excl)?(c=c.end,c="number"===typeof f&&"number"===typeof c?f>=c:f["$>="](c),m(c)&&b.brk(J,e)):m(A(f,c.end))&&b.brk(J,e);b.yield1(p,f);return x=u(x,1)},n.$$s=v,n.$$brk=e,n.$$arity=0,n))}catch(da){if(da===e)return da.$v;throw da;}}()):(v.begin.$$is_string&&v.end.$$is_string&&
0!==a%1&&v.$raise(G(k,"TypeError"),"no implicit conversion to float from string"),Q(v,"each_with_index",[],(r=function(e,c){null==e&&(e=J);null==c&&(c=J);return c["$%"](a)["$=="](0)?b.yield1(p,e):J},r.$$s=v,r.$$arity=2,r)));return v},h.$$arity=-1);b.def(g,"$bsearch",e=function(){var a=e.$$p,b=a||J;a&&(e.$$p=null);a&&(e.$$p=null);if(b===J)return this.$enum_for("bsearch");m(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(G(k,"TypeError"),"can't do binary search for "+this.begin.$class());
return Q(this.$to_a(),"bsearch",[],b.$to_proc())},e.$$arity=0);b.def(g,"$to_s",z=function(){return""+this.begin+(m(this.excl)?"...":"..")+this.end},z.$$arity=0);b.def(g,"$inspect",r=function(){return""+this.begin.$inspect()+(m(this.excl)?"...":"..")+this.end.$inspect()},r.$$arity=0);b.def(g,"$marshal_load",U=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},U.$$arity=1);return(b.def(g,"$hash",F=function(){return[this.begin,this.end,this.excl].$hash()},
F.$$arity=0),J)&&"hash"}(g[0],null,g)};
Opal.modules["corelib/proc"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.slice,q=b.klass,g=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(t,$super,G){t=q(t,$super,"Proc");var y=[t].concat(G),m,J,P,M,K,k,sa,S,D,H;b.defineProperty(t.$$prototype,"$$is_proc",!0);b.defineProperty(t.$$prototype,"$$is_lambda",!1);b.defs(t,"$new",m=function(){var b=m.$$p,k=b||B;b&&(m.$$p=null);b&&(m.$$p=null);g(k)||this.$raise(A(y,"ArgumentError"),"tried to create a Proc object without a block");return k},
m.$$arity=0);b.def(t,"$call",J=function(g){var k=J.$$p,a=k||B;k&&(J.$$p=null);k&&(J.$$p=null);k=b.slice.call(arguments,0,arguments.length);a!==B&&(this.$$p=a);if(a=this.$$brk)try{var d=this.$$is_lambda?this.apply(null,k):b.yieldX(this,k)}catch(v){if(v===a)return a.$v;throw v;}else d=this.$$is_lambda?this.apply(null,k):b.yieldX(this,k);return d},J.$$arity=-1);b.alias(t,"[]","call");b.alias(t,"===","call");b.alias(t,"yield","call");b.def(t,"$to_proc",P=function(){return this},P.$$arity=0);b.def(t,"$lambda?",
M=function(){return!!this.$$is_lambda},M.$$arity=0);b.def(t,"$arity",K=function(){return this.$$is_curried?-1:this.$$arity},K.$$arity=0);b.def(t,"$source_location",k=function(){return B},k.$$arity=0);b.def(t,"$binding",sa=function(){this.$$is_curried&&this.$raise(A(y,"ArgumentError"),"Can't create Binding");return B},sa.$$arity=0);b.def(t,"$parameters",S=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],g;var a=0;for(g=this.$$parameters.length;a<
g;a++){var d=this.$$parameters[a];"req"===d[0]&&(d=["opt",d[1]]);b.push(d)}return b}return[]},S.$$arity=0);b.def(t,"$curry",D=function(b){function g(){var d=u.call(arguments),v=d.length;v>b&&a.$$is_lambda&&!a.$$is_curried&&a.$raise(A(y,"ArgumentError"),"wrong number of arguments ("+v+" for "+b+")");if(v>=b)return a.$call.apply(a,d);v=function(){return g.apply(null,d.concat(u.call(arguments)))};v.$$is_lambda=a.$$is_lambda;v.$$is_curried=!0;return v}var a=this;void 0===b?b=a.length:(b=A(y,"Opal")["$coerce_to!"](b,
A(y,"Integer"),"to_int"),a.$$is_lambda&&b!==a.length&&a.$raise(A(y,"ArgumentError"),"wrong number of arguments ("+b+" for "+a.length+")"));g.$$is_lambda=a.$$is_lambda;g.$$is_curried=!0;return g},D.$$arity=-1);b.def(t,"$dup",H=function(){var b=this.$$original_proc||this,g=function(){return b.apply(this,arguments)},a;for(a in this)this.hasOwnProperty(a)&&(g[a]=this[a]);return g},H.$$arity=0);return b.alias(t,"clone","dup")}(t[0],Function,t)};
Opal.modules["corelib/method"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.klass,q=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(g,$super,l){g=u(g,$super,"Method");var t=[g].concat(l),y,m,Q,P,M,K,k,sa,S;g.$$prototype.method=g.$$prototype.receiver=g.$$prototype.owner=g.$$prototype.name=B;g.$attr_reader("owner","receiver","name");b.def(g,"$initialize",y=function(b,g,k,l){this.receiver=b;this.owner=g;this.name=l;return this.method=
k},y.$$arity=4);b.def(g,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);b.def(g,"$parameters",Q=function(){return this.method.$$parameters},Q.$$arity=0);b.def(g,"$source_location",P=function(){var b;return q(b=this.method.$$source_location)?b:["(eval)",0]},P.$$arity=0);b.def(g,"$comments",M=function(){var b;return q(b=this.method.$$comments)?b:[]},M.$$arity=0);b.def(g,"$call",K=function(g){var k=K.$$p,l=k||B;k&&(K.$$p=null);k&&(K.$$p=null);k=b.slice.call(arguments,0,arguments.length);
this.method.$$p=l;return this.method.apply(this.receiver,k)},K.$$arity=-1);b.alias(g,"[]","call");b.def(g,"$unbind",k=function(){return A(t,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},k.$$arity=0);b.def(g,"$to_proc",sa=function(){var b=this.$call.bind(this);b.$$unbound=this.method;b.$$is_lambda=!0;b.$$arity=this.method.$$arity;b.$$parameters=this.method.$$parameters;return b},sa.$$arity=0);return(b.def(g,"$inspect",S=function(){return"#<"+this.$class()+": "+this.receiver.$class()+
"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},S.$$arity=0),B)&&"inspect"})(t[0],null,t);return function(g,$super,l){g=u(g,$super,"UnboundMethod");var t=[g].concat(l),y,m,Q,P,M,K,k;g.$$prototype.method=g.$$prototype.owner=g.$$prototype.name=g.$$prototype.source=B;g.$attr_reader("source","owner","name");b.def(g,"$initialize",y=function(b,g,k,l){this.source=b;this.owner=g;this.method=k;return this.name=l},y.$$arity=4);b.def(g,"$arity",m=function(){return this.method.$arity()},
m.$$arity=0);b.def(g,"$parameters",Q=function(){return this.method.$$parameters},Q.$$arity=0);b.def(g,"$source_location",P=function(){var b;return q(b=this.method.$$source_location)?b:["(eval)",0]},P.$$arity=0);b.def(g,"$comments",M=function(){var b;return q(b=this.method.$$comments)?b:[]},M.$$arity=0);b.def(g,"$bind",K=function(g){if(this.owner.$$is_module||b.is_a(g,this.owner))return A(t,"Method").$new(g,this.owner,this.method,this.name);this.$raise(A(t,"TypeError"),"can't bind singleton method to a different class (expected "+
g+".kind_of?("+this.owner+" to be true)")},K.$$arity=1);return(b.def(g,"$inspect",k=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},k.$$arity=0),B)&&"inspect"}(t[0],null,t)};
Opal.modules["corelib/variables"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.gvars,q=b.hash2;b.add_stubs(["$new"]);u["&"]=u["~"]=u["`"]=u["'"]=B;u.LOADED_FEATURES=u['"']=b.loaded_features;u.LOAD_PATH=u[":"]=[];u["/"]="\n";u[","]=B;b.const_set(t[0],"ARGV",[]);b.const_set(t[0],"ARGF",A(t,"Object").$new());b.const_set(t[0],"ENV",q([],{}));u.VERBOSE=!1;u.DEBUG=!1;return u.SAFE=0};
Opal.modules["opal/regexp_anchors"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.module;b.add_stubs(["$==","$new"]);t=[u(t[0],"Opal")].concat(t);b.const_set(t[0],"REGEXP_START",A(t,"RUBY_ENGINE")["$=="]("opal")?"^":B);b.const_set(t[0],"REGEXP_END",A(t,"RUBY_ENGINE")["$=="]("opal")?"$":B);b.const_set(t[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(t[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(t[0],"INLINE_IDENTIFIER_REGEXP",A(t,"Regexp").$new("[^"+A(t,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+A(t,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(t[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(t[0],"CONST_NAME_REGEXP",A(t,"Regexp").$new(""+A(t,"REGEXP_START")+"(::)?[A-Z][^"+A(t,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+A(t,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(b){var t=b.top;b.add_stubs(["$require"]);t.$require("opal/base");t.$require("corelib/nil");t.$require("corelib/boolean");t.$require("corelib/string");t.$require("corelib/comparable");t.$require("corelib/enumerable");t.$require("corelib/enumerator");t.$require("corelib/array");t.$require("corelib/hash");t.$require("corelib/number");t.$require("corelib/range");t.$require("corelib/proc");t.$require("corelib/method");t.$require("corelib/regexp");t.$require("corelib/variables");
return t.$require("opal/regexp_anchors")};
Opal.modules["corelib/string/encoding"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var B,A,u,q,g,J=b.top,l=[],G=b.nil,y=b.const_get_qualified,m=b.const_get_relative,Q=b.klass,P=b.hash2,M=b.truthy,K=b.send;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $dup $bytesize $enum_for $coerce_to! $find $<".split(" "));J.$require("corelib/string");
(function(g,$super,l){g=Q(g,$super,"Encoding");var k=[g].concat(l),q,y,u,a,d,v,E,O,p;g.$$prototype.ascii=g.$$prototype.dummy=g.$$prototype.name=G;b.defineProperty(g,"$$register",{});b.defs(g,"$register",q=function(a,b){var e=q.$$p,d=e||G,h,g,n=G,c=G,f=G;e&&(q.$$p=null);e&&(q.$$p=null);null==b&&(b=P([],{}));n=t([a],M(h=b["$[]"]("aliases"))?h:[]);c=K(m(k,"Class"),"new",[this],d.$to_proc()).$new(a,n,M(h=b["$[]"]("ascii"))?h:!1,M(h=b["$[]"]("dummy"))?h:!1);f=this.$$register;return K(n,"each",[],(g=function(a){var b=
g.$$s||this;null==a&&(a=G);b.$const_set(a.$sub("-","_"),c);return f["$$"+a]=c},g.$$s=this,g.$$arity=1,g))},q.$$arity=-2);b.defs(g,"$find",y=function(a){var b;if(a["$=="]("default_external"))return this.$default_external();var d=this.$$register;d=M(b=d["$$"+a])?b:d["$$"+a.$upcase()];M(d)||this.$raise(m(k,"ArgumentError"),"unknown encoding name - "+a);return d},y.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(b.get_singleton_class(g),k);g.$attr_reader("name","names");
b.def(g,"$initialize",u=function(a,b,d,r){this.name=a;this.names=b;this.ascii=d;return this.dummy=r},u.$$arity=4);b.def(g,"$ascii_compatible?",a=function(){return this.ascii},a.$$arity=0);b.def(g,"$dummy?",d=function(){return this.dummy},d.$$arity=0);b.def(g,"$to_s",v=function(){return this.name},v.$$arity=0);b.def(g,"$inspect",E=function(){return"#<Encoding:"+this.name+(M(this.dummy)?" (dummy)":G)+">"},E.$$arity=0);b.def(g,"$each_byte",O=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(m(k,
"NotImplementedError"))},O.$$arity=-1);b.def(g,"$bytesize",p=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(m(k,"NotImplementedError"))},p.$$arity=-1);(function(a,$super,b){[Q(a,$super,"EncodingError")].concat(b);return G})(k[0],m(k,"StandardError"),k);return function(a,$super,b){[Q(a,$super,"CompatibilityError")].concat(b);return G}(k[0],m(k,"EncodingError"),k)})(l[0],null,l);K(m(l,"Encoding"),"register",["UTF-8",P(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(B=
function(){var g=B.$$s||this,l,m;b.def(g,"$each_byte",l=function(g){var k=l.$$p,m=k||G;k&&(l.$$p=null);k&&(l.$$p=null);k=Infinity;for(var q,a=g.length,d=null,v=0;v<a;++v){q=g.charCodeAt(v);if(55295<q&&57344>q){if(!d){if(56319<q){-1<(k-=3)&&(b.yield1(m,239),b.yield1(m,191),b.yield1(m,189));continue}else if(v+1===a){-1<(k-=3)&&(b.yield1(m,239),b.yield1(m,191),b.yield1(m,189));continue}d=q;continue}if(56320>q){-1<(k-=3)&&(b.yield1(m,239),b.yield1(m,191),b.yield1(m,189));d=q;continue}q=(d-55296<<10|q-
56320)+65536}else d&&-1<(k-=3)&&(b.yield1(m,239),b.yield1(m,191),b.yield1(m,189));d=null;if(128>q){if(0>--k)break;b.yield1(m,q)}else if(2048>q){if(0>(k-=2))break;b.yield1(m,q>>6|192);b.yield1(m,q&63|128)}else if(65536>q){if(0>(k-=3))break;b.yield1(m,q>>12|224);b.yield1(m,q>>6&63|128);b.yield1(m,q&63|128)}else if(1114112>q){if(0>(k-=4))break;b.yield1(m,q>>18|240);b.yield1(m,q>>12&63|128);b.yield1(m,q>>6&63|128);b.yield1(m,q&63|128)}}},l.$$arity=1);return(b.def(g,"$bytesize",m=function(b){return b.$bytes().$length()},
m.$$arity=1),G)&&"bytesize"},B.$$s=J,B.$$arity=0,B));K(m(l,"Encoding"),"register",["UTF-16LE"],(A=function(){var g=A.$$s||this,l,m;b.def(g,"$each_byte",l=function(g){var k=l.$$p,m=k||G;k&&(l.$$p=null);k&&(l.$$p=null);k=0;for(var q=g.length;k<q;k++){var a=g.charCodeAt(k);b.yield1(m,a&255);b.yield1(m,a>>8)}},l.$$arity=1);return(b.def(g,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),G)&&"bytesize"},A.$$s=J,A.$$arity=0,A));K(m(l,"Encoding"),"register",["UTF-16BE"],(u=function(){var g=
u.$$s||this,l,m;b.def(g,"$each_byte",l=function(g){var k=l.$$p,m=k||G;k&&(l.$$p=null);k&&(l.$$p=null);k=0;for(var q=g.length;k<q;k++){var a=g.charCodeAt(k);b.yield1(m,a>>8);b.yield1(m,a&255)}},l.$$arity=1);return(b.def(g,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),G)&&"bytesize"},u.$$s=J,u.$$arity=0,u));K(m(l,"Encoding"),"register",["UTF-32LE"],(q=function(){var g=q.$$s||this,l,m;b.def(g,"$each_byte",l=function(g){var k=l.$$p,m=k||G;k&&(l.$$p=null);k&&(l.$$p=null);k=0;for(var q=
g.length;k<q;k++){var a=g.charCodeAt(k);b.yield1(m,a&255);b.yield1(m,a>>8)}},l.$$arity=1);return(b.def(g,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),G)&&"bytesize"},q.$$s=J,q.$$arity=0,q));K(m(l,"Encoding"),"register",["ASCII-8BIT",P(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(g=function(){var k=g.$$s||this,l,m;b.def(k,"$each_byte",l=function(g){var k=l.$$p,m=k||G;k&&(l.$$p=null);k&&(l.$$p=null);k=0;for(var q=g.length;k<q;k++){var a=
g.charCodeAt(k);b.yield1(m,a&255);b.yield1(m,a>>8)}},l.$$arity=1);return(b.def(k,"$bytesize",m=function(b){return b.$bytes().$length()},m.$$arity=1),G)&&"bytesize"},g.$$s=J,g.$$arity=0,g));return function(g,$super,l){g=Q(g,$super,"String");var k=[g].concat(l),q,t,u,a,d,v,E;g.$$prototype.bytes=g.$$prototype.internal_encoding=G;g.$attr_reader("encoding");g.$attr_reader("internal_encoding");b.defineProperty(String.prototype,"bytes",G);b.defineProperty(String.prototype,"encoding",y(m(k,"Encoding"),"UTF_8"));
b.defineProperty(String.prototype,"internal_encoding",y(m(k,"Encoding"),"UTF_8"));b.def(g,"$bytes",q=function(){var a;this.bytes=M(a=this.bytes)?a:this.$each_byte().$to_a();return this.bytes.$dup()},q.$$arity=0);b.def(g,"$bytesize",t=function(){return this.internal_encoding.$bytesize(this)},t.$$arity=0);b.def(g,"$each_byte",u=function(){var a=u.$$p,b=a||G;a&&(u.$$p=null);a&&(u.$$p=null);if(b===G)return this.$enum_for("each_byte");K(this.internal_encoding,"each_byte",[this],b.$to_proc());return this},
u.$$arity=0);b.def(g,"$encode",a=function(a){return b.enc(this,a)},a.$$arity=1);b.def(g,"$force_encoding",d=function(a){if(a===this.encoding)return this;a=m(k,"Opal")["$coerce_to!"](a,m(k,"String"),"to_s");a=m(k,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},d.$$arity=1);b.def(g,"$getbyte",v=function(a){var b=this.$bytes();a=m(k,"Opal")["$coerce_to!"](a,m(k,"Integer"),"to_int");var d=b.$length();d="number"===typeof d&&"number"===typeof a?d<a:d["$<"](a);return M(d)?
G:b["$[]"](a)},v.$$arity=1);return(b.def(g,"$valid_encoding?",E=function(){return!0},E.$$arity=0),G)&&"valid_encoding?"}(l[0],null,l)};
Opal.modules["corelib/struct"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}function q(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var g=b.top,J=[],l=b.nil,G=b.const_get_relative,y=b.klass,m=b.hash2,
Q=b.truthy,P=b.send;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));g.$require("corelib/enumerable");
return function(g,$super,k){g=y(g,$super,"Struct");var J=[g].concat(k),M,D,H,ia,X,a,d,v,E,O,p,h,e,z,r,U,F,n,c;g.$include(G(J,"Enumerable"));b.defs(g,"$new",M=function(a,e,c){var f=M.$$p,d=f||l,n,h;var r=l;f&&(M.$$p=null);f&&(M.$$p=null);var g=b.slice.call(arguments,1,arguments.length);r=b.extract_kwargs(g);if(null==r)r=m([],{});else if(!r.$$is_hash)throw b.ArgumentError.$new("expected kwargs");f=r.$$smap.keyword_init;null==f&&(f=!1);if(Q(a))try{a=G(J,"Opal")["$const_name!"](a)}catch(da){if(b.rescue(da,
[G(J,"TypeError"),G(J,"NameError")]))try{g.$unshift(a),a=l}finally{b.pop_exception()}else throw da;}P(g,"map",[],(n=function(a){null==a&&(a=l);return G(J,"Opal")["$coerce_to!"](a,G(J,"String"),"to_str")},n.$$s=this,n.$$arity=1,n));r=P(G(J,"Class"),"new",[this],(h=function(){var a=h.$$s||this,e;P(g,"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=l);return b.$define_struct_attribute(a)},e.$$s=a,e.$$arity=1,e));return function(a,e){[a].concat(e);var c;b.def(a,"$new",c=function(a){var e=b.slice.call(arguments,
0,arguments.length);var c=this.$allocate();c.$$data={};P(c,"initialize",b.to_a(e));return c},c.$$arity=-1);return a.$alias_method("[]","new")}(b.get_singleton_class(a),J)},h.$$s=this,h.$$arity=0,h));Q(d)&&P(r,"module_eval",[],d.$to_proc());r.$$keyword_init=f;Q(a)&&G(J,"Struct").$const_set(a,r);return r},M.$$arity=-2);b.defs(g,"$define_struct_attribute",D=function(a){var b,e;this["$=="](G(J,"Struct"))&&this.$raise(G(J,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);
P(this,"define_method",[a],(b=function(){return(b.$$s||this).$$data[a]},b.$$s=this,b.$$arity=0,b));return P(this,"define_method",[""+a+"="],(e=function(b){var c=e.$$s||this;null==b&&(b=l);return c.$$data[a]=b},e.$$s=this,e.$$arity=1,e))},D.$$arity=1);b.defs(g,"$members",H=function(){var a;null==this.members&&(this.members=l);this["$=="](G(J,"Struct"))&&this.$raise(G(J,"ArgumentError"),"the Struct class has no members");return this.members=Q(a=this.members)?a:[]},H.$$arity=0);b.defs(g,"$inherited",
ia=function(a){var b,e=l;null==this.members&&(this.members=l);e=this.members;return P(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=e},b.$$s=this,b.$$arity=0,b))},ia.$$arity=1);b.def(g,"$initialize",X=function(a){var e,c,f,d=l,n=l;var h=b.slice.call(arguments,0,arguments.length);if(Q(this.$class().$$keyword_init))return d=Q(e=h.$last())?e:m([],{}),Q(Q(e=t(h.$length(),1))?e:1===h.length&&!d.$$is_hash)&&this.$raise(G(J,"ArgumentError"),"wrong number of arguments (given "+h.$length()+
", expected 0)"),n=B(d.$keys(),this.$class().$members()),Q(n["$any?"]())&&this.$raise(G(J,"ArgumentError"),"unknown keywords: "+n.$join(", ")),P(this.$class().$members(),"each",[],(c=function(a){var e=c.$$s||this;null==a&&(a=l);a=[a,d["$[]"](a)];P(e,"[]=",b.to_a(a));return a[B(a.length,1)]},c.$$s=this,c.$$arity=1,c));Q(t(h.$length(),this.$class().$members().$length()))&&this.$raise(G(J,"ArgumentError"),"struct size differs");return P(this.$class().$members(),"each_with_index",[],(f=function(a,e){var c=
f.$$s||this;null==a&&(a=l);null==e&&(e=l);a=[a,h["$[]"](e)];P(c,"[]=",b.to_a(a));return a[B(a.length,1)]},f.$$s=this,f.$$arity=2,f))},X.$$arity=-1);b.def(g,"$members",a=function(){return this.$class().$members()},a.$$arity=0);b.def(g,"$hash",d=function(){return G(J,"Hash").$new(this.$$data).$hash()},d.$$arity=0);b.def(g,"$[]",v=function(a){Q(G(J,"Integer")["$==="](a))?(Q(A(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(G(J,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+
")"),Q(u(a,this.$class().$members().$size()))&&this.$raise(G(J,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):Q(G(J,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(G(J,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(G(J,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=G(J,"Opal")["$coerce_to!"](a,G(J,"String"),"to_str");return this.$$data[a]},v.$$arity=1);b.def(g,
"$[]=",E=function(a,b){Q(G(J,"Integer")["$==="](a))?(Q(A(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(G(J,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),Q(u(a,this.$class().$members().$size()))&&this.$raise(G(J,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):Q(G(J,"String")["$==="](a))?Q(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(G(J,
"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(G(J,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=G(J,"Opal")["$coerce_to!"](a,G(J,"String"),"to_str");return this.$$data[a]=b},E.$$arity=2);b.def(g,"$==",O=function(a){function b(a,f){var d;e[a.$__id__()]=!0;c[f.$__id__()]=!0;for(d in a.$$data){var n=a.$$data[d];var h=f.$$data[d];if(G(J,"Struct")["$==="](n)){if(!(e.hasOwnProperty(n.$__id__())&&c.hasOwnProperty(h.$__id__())||b(n,h)))return!1}else if(!n["$=="](h))return!1}return!0}
if(!Q(a["$instance_of?"](this.$class())))return!1;var e={},c={};return b(this,a)},O.$$arity=1);b.def(g,"$eql?",p=function(a){function b(a,f){var d;e[a.$__id__()]=!0;c[f.$__id__()]=!0;for(d in a.$$data){var n=a.$$data[d];var h=f.$$data[d];if(G(J,"Struct")["$==="](n)){if(!(e.hasOwnProperty(n.$__id__())&&c.hasOwnProperty(h.$__id__())||b(n,h)))return!1}else if(!n["$eql?"](h))return!1}return!0}if(!Q(a["$instance_of?"](this.$class())))return!1;var e={},c={};return b(this,a)},p.$$arity=1);b.def(g,"$each",
h=function(){var a,e,c=h.$$p,d=c||l;c&&(h.$$p=null);if(d===l)return P(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));P(this.$class().$members(),"each",[],(e=function(a){var c=e.$$s||this;null==a&&(a=l);return b.yield1(d,c["$[]"](a))},e.$$s=this,e.$$arity=1,e));return this},h.$$arity=0);b.def(g,"$each_pair",e=function(){var a,c,d=e.$$p,n=d||l;d&&(e.$$p=null);if(n===l)return P(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=
this,a.$$arity=0,a));P(this.$class().$members(),"each",[],(c=function(a){var e=c.$$s||this;null==a&&(a=l);return b.yield1(n,[a,e["$[]"](a)])},c.$$s=this,c.$$arity=1,c));return this},e.$$arity=0);b.def(g,"$length",z=function(){return this.$class().$members().$length()},z.$$arity=0);b.alias(g,"size","length");b.def(g,"$to_a",r=function(){var a;return P(this.$class().$members(),"map",[],(a=function(b){var e=a.$$s||this;null==b&&(b=l);return e["$[]"](b)},a.$$s=this,a.$$arity=1,a))},r.$$arity=0);b.alias(g,
"values","to_a");b.def(g,"$inspect",U=function(){var a,b,e=l;e="#<struct ";Q(Q(a=G(J,"Struct")["$==="](this))?this.$class().$name():a)&&(e=q(e,""+this.$class()+" "));e=q(e,P(this.$each_pair(),"map",[],(b=function(a,b){null==a&&(a=l);null==b&&(b=l);return""+a+"="+b.$inspect()},b.$$s=this,b.$$arity=2,b)).$join(", "));return e=q(e,">")},U.$$arity=0);b.alias(g,"to_s","inspect");b.def(g,"$to_h",F=function(){var a;return P(this.$class().$members(),"each_with_object",[m([],{})],(a=function(e,c){var f=a.$$s||
this;null==e&&(e=l);null==c&&(c=l);e=[e,f["$[]"](e)];P(c,"[]=",b.to_a(e));return e[B(e.length,1)]},a.$$s=this,a.$$arity=2,a))},F.$$arity=0);b.def(g,"$values_at",n=function(a){var e;var c=b.slice.call(arguments,0,arguments.length);c=P(c,"map",[],(e=function(a){null==a&&(a=l);return a.$$is_range?a.$to_a():a},e.$$s=this,e.$$arity=1,e)).$flatten();e=[];for(var f=0,d=c.length;f<d;f++)c[f].$$is_number||this.$raise(G(J,"TypeError"),"no implicit conversion of "+c[f].$class()+" into Integer"),e.push(this["$[]"](c[f]));
return e},n.$$arity=-1);return(b.def(g,"$dig",c=function(a,e){var c=b.slice.call(arguments,1,arguments.length);var f=Q(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||l:l;if(f===l||0===c.length)return f;Q(f["$respond_to?"]("dig"))||this.$raise(G(J,"TypeError"),""+f.$class()+" does not have #dig method");return P(f,"dig",b.to_a(c))},c.$$arity=-2),l)&&"dig"}(J[0],null,J)};
Opal.modules["corelib/io"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var B=[],A=b.nil,u=b.const_get_qualified,q=b.const_get_relative,g=b.klass,J=b.module,l=b.send,G=b.gvars,y=b.truthy,m=A;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(m,$super,t){m=g(m,$super,"IO");t=[m].concat(t);var k,u,B,D;m.$$prototype.tty=m.$$prototype.closed=A;b.const_set(t[0],
"SEEK_SET",0);b.const_set(t[0],"SEEK_CUR",1);b.const_set(t[0],"SEEK_END",2);b.def(m,"$tty?",k=function(){return this.tty},k.$$arity=0);b.def(m,"$closed?",u=function(){return this.closed},u.$$arity=0);m.$attr_accessor("write_proc");b.def(m,"$write",B=function(b){this.write_proc(b);return b.$size()},B.$$arity=1);m.$attr_accessor("sync","tty");b.def(m,"$flush",D=function(){return A},D.$$arity=0);(function(g,k){g=J(g,"Writable");[g].concat(k);var m,a,d;b.def(g,"$<<",m=function(a){this.$write(a);return this},
m.$$arity=1);b.def(g,"$print",a=function(a){var d;null==G[","]&&(G[","]=A);var g=b.slice.call(arguments,0,arguments.length);this.$write(l(g,"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=A);return b.$String(a)},d.$$s=this,d.$$arity=1,d)).$join(G[","]));return A},a.$$arity=-1);b.def(g,"$puts",d=function(a){var d,g=A;null==G["/"]&&(G["/"]=A);var p=b.slice.call(arguments,0,arguments.length);g=G["/"];y(p["$empty?"]())?this.$write(G["/"]):this.$write(l(p,"map",[],(d=function(a){var b=d.$$s||this;
null==a&&(a=A);return b.$String(a).$chomp()},d.$$s=this,d.$$arity=1,d)).$concat([A]).$join(g));return A},d.$$arity=-1)})(t[0],t);return function(g,k){g=J(g,"Readable");var l=[g].concat(k),a,d,v,m;b.def(g,"$readbyte",a=function(){return this.$getbyte()},a.$$arity=0);b.def(g,"$readchar",d=function(){return this.$getc()},d.$$arity=0);b.def(g,"$readline",v=function(a){null==G["/"]&&(G["/"]=A);return this.$raise(q(l,"NotImplementedError"))},v.$$arity=-1);b.def(g,"$readpartial",m=function(a,b){return this.$raise(q(l,
"NotImplementedError"))},m.$$arity=-2)}(t[0],t)})(B[0],null,B);b.const_set(B[0],"STDERR",G.stderr=q(B,"IO").$new());b.const_set(B[0],"STDIN",G.stdin=q(B,"IO").$new());b.const_set(B[0],"STDOUT",G.stdout=q(B,"IO").$new());var Q=b.global.console;m=["object"===typeof process&&"object"===typeof process.stdout?function(b){process.stdout.write(b)}:function(b){Q.log(b)}];l(q(B,"STDOUT"),"write_proc=",b.to_a(m));m[t(m.length,1)];m=["object"===typeof process&&"object"===typeof process.stderr?function(b){process.stderr.write(b)}:
function(b){Q.warn(b)}];l(q(B,"STDERR"),"write_proc=",b.to_a(m));m[t(m.length,1)];q(B,"STDOUT").$extend(u(q(B,"IO"),"Writable"));return q(B,"STDERR").$extend(u(q(B,"IO"),"Writable"))};Opal.modules["corelib/main"]=function(b){var t,B,A=b.top,u=[],q=b.nil,g=b.const_get_relative;b.add_stubs(["$include"]);b.defs(A,"$to_s",t=function(){return"main"},t.$$arity=0);return(b.defs(A,"$include",B=function(b){return g(u,"Object").$include(b)},B.$$arity=1),q)&&"include"};
Opal.modules["corelib/dir"]=function(b){var t=[],B=b.nil,A=b.const_get_relative,u=b.klass,q=b.truthy;b.add_stubs(["$[]"]);return function(g,$super,l){g=u(g,$super,"Dir");l=[g].concat(l);return function(g,l){var m=[g].concat(l),t,u,y;b.def(g,"$chdir",t=function(g){var k=t.$$p,l=k||B,m=B;k&&(t.$$p=null);a:{try{m=b.current_dir;b.current_dir=g;var q=b.yieldX(l,[]);break a}finally{b.current_dir=m}q=void 0}return q},t.$$arity=1);b.def(g,"$pwd",u=function(){return b.current_dir||"."},u.$$arity=0);b.alias(g,
"getwd","pwd");return(b.def(g,"$home",y=function(){var b;return q(b=A(m,"ENV")["$[]"]("HOME"))?b:"."},y.$$arity=0),B)&&"home"}(b.get_singleton_class(g),l)}(t[0],null,t)};
Opal.modules["corelib/file"]=function(b){function t(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function B(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var A=[],u=b.nil,q=b.const_get_relative,g=b.klass,J=b.truthy,l=b.range,G=b.send;b.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(y,
$super,A){y=g(y,$super,"File");A=[y].concat(A);var P=u;b.const_set(A[0],"Separator",b.const_set(A[0],"SEPARATOR","/"));b.const_set(A[0],"ALT_SEPARATOR",u);b.const_set(A[0],"PATH_SEPARATOR",":");b.const_set(A[0],"FNM_SYSCASE",0);P=/^[a-zA-Z]:(?:\\|\/)/;return function(g,y){function k(a){J(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=q(K,"Opal")["$coerce_to!"](a,q(K,"String"),"to_str")}function A(){return q(K,"ALT_SEPARATOR")===u?b.escape_regexp(q(K,"SEPARATOR")):b.escape_regexp(t(q(K,"SEPARATOR"),
q(K,"ALT_SEPARATOR")))}var K=[g].concat(y),D,H,M,Q,a,d,v,E,O;b.def(g,"$absolute_path",D=function(a,b){var e;null==b&&(b=u);var d=q(K,"SEPARATOR");var h=A();var g=[];a=J(a["$respond_to?"]("to_path"))?a.$to_path():a;b=J(e=b)?e:q(K,"Dir").$pwd();e=a.substr(0,d.length)===d||P.test(a);var p=b.substr(0,d.length)===d||P.test(b);J(e)?(e=a.$split(new RegExp("["+h+"]")),a=P.test(a)?"":a.$sub(new RegExp("^(["+h+"]+).*$"),"\\1"),b=!0):(e=t(b.$split(new RegExp("["+h+"]")),a.$split(new RegExp("["+h+"]"))),a=P.test(b)?
"":b.$sub(new RegExp("^(["+h+"]+).*$"),"\\1"),b=p);p=0;for(var n=e.length;p<n;p++)h=e[p],h===u||""===h&&(0===g.length||b)||"."===h&&(0===g.length||b)||(".."===h?g.pop():g.push(h));b||"."===e[0]||g.$unshift(".");d=g.$join(d);J(b)&&(d=t(a,d));return d},D.$$arity=-2);b.def(g,"$expand_path",H=function(a,b){null==b&&(b=u);var e=q(K,"SEPARATOR");var d=A();if(J("~"===a[0]||b&&"~"===b[0])){var h=q(K,"Dir").$home();J(h)||this.$raise(q(K,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");d=
P.test(h)?"":h.$sub(new RegExp("^(["+d+"]+).*$"),"\\1");J(h["$start_with?"](d))||this.$raise(q(K,"ArgumentError"),"non-absolute home");h=t(h,e);e=new RegExp("^\\~(?:"+e+"|$)");a=a.$sub(e,h);J(b)&&(b=b.$sub(e,h))}return this.$absolute_path(a,b)},H.$$arity=-2);b.alias(g,"realpath","expand_path");b.def(g,"$dirname",M=function(a){var b=A();a=k(a);var e=a.match(new RegExp("^["+b+"]"));a=a.replace(new RegExp("["+b+"]+$"),"");a=a.replace(new RegExp("[^"+b+"]+$"),"");a=a.replace(new RegExp("["+b+"]+$"),"");
return""===a?e?"/":".":a},M.$$arity=1);b.def(g,"$basename",Q=function(a,d){null==d&&(d=u);var e=A();a=k(a);if(0==a.length)return a;d=d!==u?q(K,"Opal")["$coerce_to!"](d,q(K,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+e+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+e+"])?([^"+e+"]+)$"),"$1");".*"===d?a=a.replace(/\.[^\.]+$/,""):null!==d&&(d=b.escape_regexp(d),a=a.replace(new RegExp(""+d+"$"),""));return a},Q.$$arity=-2);b.def(g,"$extname",a=function(a){var d;a=k(a);a=this.$basename(a);if(J(a["$empty?"]()))return"";
var e=a["$[]"](l(1,-1,!1)).$rindex(".");return J(J(d=e["$nil?"]())?d:t(e,1)["$=="](B(a.$length(),1)))?"":a["$[]"](b.Range.$new(t(e,1),-1,!1))},a.$$arity=1);b.def(g,"$exist?",d=function(a){return null!=b.modules[a]},d.$$arity=1);b.alias(g,"exists?","exist?");b.def(g,"$directory?",v=function(a){var d,e=u;e=u;e=[];for(var g in b.modules)e.push(g);a=a.$gsub(new RegExp("(^."+q(K,"SEPARATOR")+"+|"+q(K,"SEPARATOR")+"+$)"));return e=G(e,"find",[],(d=function(b){null==b&&(b=u);return b["$=~"](new RegExp("^"+
a))},d.$$s=this,d.$$arity=1,d))},v.$$arity=1);b.def(g,"$join",E=function(a){var d,e,g=u;var r=b.slice.call(arguments,0,arguments.length);if(J(r["$empty?"]()))return"";g="";r=G(r.$flatten().$each_with_index(),"map",[],(d=function(a,b){null==a&&(a=u);null==b&&(b=u);return J(b["$=="](0)?a["$empty?"]():b["$=="](0))?q(K,"SEPARATOR"):J(r.$length()["$=="](t(b,1))?a["$empty?"]():r.$length()["$=="](t(b,1)))?q(K,"SEPARATOR"):a},d.$$s=this,d.$$arity=2,d));r=G(r,"reject",[],"empty?".$to_proc());G(r,"each_with_index",
[],(e=function(a,b){var e;null==a&&(a=u);null==b&&(b=u);b=r["$[]"](t(b,1));if(J(b["$nil?"]()))return g=""+g+a;J(J(e=a["$end_with?"](q(K,"SEPARATOR")))?b["$start_with?"](q(K,"SEPARATOR")):e)&&(a=a.$sub(new RegExp(""+q(K,"SEPARATOR")+"+$"),""));return g=J(J(e=a["$end_with?"](q(K,"SEPARATOR")))?e:b["$start_with?"](q(K,"SEPARATOR")))?""+g+a:""+g+a+q(K,"SEPARATOR")},e.$$s=this,e.$$arity=2,e));return g},E.$$arity=-1);return(b.def(g,"$split",O=function(a){return a.$split(q(K,"SEPARATOR"))},O.$$arity=1),
u)&&"split"}(b.get_singleton_class(y),A)}(A[0],q(A,"IO"),A)};
Opal.modules["corelib/process"]=function(b){var t=[],B=b.nil,A=b.const_get_qualified,u=b.const_get_relative,q=b.klass,g=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(t,$super,G){t=q(t,$super,"Process");var y=[t].concat(G),m,J,P,M;G=B;t.__clocks__=[];b.defs(t,"$__register_clock__",m=function(b,g){null==this.__clocks__&&(this.__clocks__=B);this.$const_set(b,this.__clocks__.$size());return this.__clocks__["$<<"](g)},m.$$arity=2);t.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});G=!1;if(b.global.performance)G=function(){return performance.now()};else if(b.global.process&&process.hrtime){var K=process.hrtime();G=function(){var b=process.hrtime(K);return 1E3*b[0]+(b[1]/1E3|0)/1E3}}g(G)&&t.$__register_clock__("CLOCK_MONOTONIC",G);b.defs(t,"$pid",J=function(){return 0},J.$$arity=0);b.defs(t,"$times",P=function(){var b=u(y,"Time").$now().$to_f();return A(u(y,"Benchmark"),"Tms").$new(b,b,b,b,b)},P.$$arity=0);return(b.defs(t,"$clock_gettime",M=function(b,
m){var k,q;null==this.__clocks__&&(this.__clocks__=B);null==m&&(m="float_second");g(k=q=this.__clocks__["$[]"](b))?k:this.$raise(A(u(y,"Errno"),"EINVAL"),"clock_gettime("+b+") "+this.__clocks__["$[]"](b));b=q();switch(m){case "float_second":return b/1E3;case "float_millisecond":return b/1;case "float_microsecond":return 1E3*b;case "second":return b/1E3|0;case "millisecond":return b/1|0;case "microsecond":return 1E3*b|0;case "nanosecond":return 1E6*b|0;default:this.$raise(u(y,"ArgumentError"),"unexpected unit: "+
m)}},M.$$arity=-2),B)&&"clock_gettime"})(t[0],null,t);(function(g,$super,t){g=q(g,$super,"Signal");[g].concat(t);var u;return(b.defs(g,"$trap",u=function(g){b.slice.call(arguments,0,arguments.length);return B},u.$$arity=-1),B)&&"trap"})(t[0],null,t);return function(g,$super,t){g=q(g,$super,"GC");[g].concat(t);var u;return(b.defs(g,"$start",u=function(){return B},u.$$arity=0),B)&&"start"}(t[0],null,t)};
Opal.modules["corelib/unsupported"]=function(b){function t(g){switch(b.config.unsupported_features_severity){case "error":J(q,"Kernel").$raise(J(q,"NotImplementedError"),g);break;case "warning":y[g]||(y[g]=!0,u.$warn(g))}}var B,A,u=b.top,q=[],g=b.nil,J=b.const_get_relative,l=b.klass,G=b.module;b.add_stubs(["$raise","$warn","$%"]);var y={};(function(m,$super,q){m=l(m,$super,"String");var t=[m].concat(q),u,k,y,B,D,A,G,P,a,d,v,E,O,p,h,e,z,r,U,F,n,c,f;b.def(m,"$<<",u=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},u.$$arity=-1);b.def(m,"$capitalize!",k=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},k.$$arity=-1);b.def(m,"$chomp!",y=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},y.$$arity=-1);b.def(m,"$chop!",B=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},B.$$arity=-1);b.def(m,"$downcase!",D=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
D.$$arity=-1);b.def(m,"$gsub!",A=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},A.$$arity=-1);b.def(m,"$lstrip!",G=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},G.$$arity=-1);b.def(m,"$next!",P=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},P.$$arity=-1);b.def(m,"$reverse!",a=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},a.$$arity=-1);b.def(m,"$slice!",d=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},d.$$arity=-1);b.def(m,"$squeeze!",v=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},v.$$arity=-1);b.def(m,"$strip!",E=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
E.$$arity=-1);b.def(m,"$sub!",O=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},O.$$arity=-1);b.def(m,"$succ!",p=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},p.$$arity=-1);b.def(m,"$swapcase!",h=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},h.$$arity=-1);b.def(m,"$tr!",e=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},e.$$arity=-1);b.def(m,"$tr_s!",z=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},z.$$arity=-1);b.def(m,"$upcase!",r=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},r.$$arity=-1);b.def(m,"$prepend",U=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
U.$$arity=-1);b.def(m,"$[]=",F=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},F.$$arity=-1);b.def(m,"$clear",n=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},n.$$arity=-1);b.def(m,"$encode!",c=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},c.$$arity=-1);return(b.def(m,"$unicode_normalize!",f=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(J(t,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},f.$$arity=-1),g)&&"unicode_normalize!"})(q[0],null,q);(function(g,l){g=G(g,"Kernel");
[g].concat(l);var m,q;b.def(g,"$freeze",m=function(){t("Object freezing is not supported by Opal");return this},m.$$arity=0);b.def(g,"$frozen?",q=function(){t("Object freezing is not supported by Opal");return!1},q.$$arity=0)})(q[0],q);(function(g,l){g=G(g,"Kernel");[g].concat(l);var m,q,u;b.def(g,"$taint",m=function(){t("Object tainting is not supported by Opal");return this},m.$$arity=0);b.def(g,"$untaint",q=function(){t("Object tainting is not supported by Opal");return this},q.$$arity=0);b.def(g,
"$tainted?",u=function(){t("Object tainting is not supported by Opal");return!1},u.$$arity=0)})(q[0],q);(function(m,$super,q){m=l(m,$super,"Module");[m].concat(q);var t,u,k,y;b.def(m,"$public",t=function(k){0===b.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return g},t.$$arity=-1);b.alias(m,"private","public");b.alias(m,"protected","public");b.alias(m,"nesting","public");b.def(m,"$private_class_method",u=function(g){b.slice.call(arguments,0,arguments.length);return this},
u.$$arity=-1);b.alias(m,"public_class_method","private_class_method");b.def(m,"$private_method_defined?",k=function(b){return!1},k.$$arity=1);b.def(m,"$private_constant",y=function(k){b.slice.call(arguments,0,arguments.length);return g},y.$$arity=-1);b.alias(m,"protected_method_defined?","private_method_defined?");b.alias(m,"public_instance_methods","instance_methods");b.alias(m,"public_instance_method","instance_method");return b.alias(m,"public_method_defined?","method_defined?")})(q[0],null,q);
(function(g,l){g=G(g,"Kernel");[g].concat(l);var m;b.def(g,"$private_methods",m=function(g){b.slice.call(arguments,0,arguments.length);return[]},m.$$arity=-1);b.alias(g,"private_instance_methods","private_methods")})(q[0],q);(function(g,l){g=G(g,"Kernel");var m=[g].concat(l),q;b.def(g,"$eval",q=function(g){b.slice.call(arguments,0,arguments.length);return this.$raise(J(m,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+J(m,
"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},q.$$arity=-1)})(q[0],q);b.defs(u,"$public",B=function(l){b.slice.call(arguments,0,arguments.length);return g},B.$$arity=-1);return(b.defs(u,"$private",A=function(l){b.slice.call(arguments,0,arguments.length);return g},A.$$arity=-1),g)&&"private"};
(function(b){var t=b.top;b.add_stubs(["$require"]);t.$require("opal/base");t.$require("opal/mini");t.$require("corelib/string/encoding");t.$require("corelib/struct");t.$require("corelib/io");t.$require("corelib/main");t.$require("corelib/dir");t.$require("corelib/file");t.$require("corelib/process");return t.$require("corelib/unsupported")})(Opal);
(function(b,t){"object"===typeof module&&module.exports?module.exports=t:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return t(b.config())}):b.Asciidoctor=t})(this,function(b){function t(a,b,v,k,l){var d=Opal.klass(Opal.Object,a,b,function(){}),h,e,z,r={},m;for(m in v)Object.prototype.hasOwnProperty.call(v,m)&&function(a){var b=v[a];"postConstruct"===a?h=b:"initialize"===a?e=b:"constructor"===a?z=b:(k&&Object.prototype.hasOwnProperty.call(k,a)&&(r[a]=!0),Opal.def(d,
"$"+a,function(){var e=l&&Object.prototype.hasOwnProperty.call(l,a)?l[a](arguments):arguments;return b.apply(this,e)}))}(m);var F="function"===typeof z?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));a.unshift(null);a=new (Function.prototype.bind.apply(z,a));Object.assign(this,a);"function"===typeof h&&h.bind(this)()}:"function"===typeof e?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in
a[b]&&(a[b]=g(a[b]));e.apply(this,a);"function"===typeof h&&h.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",F));"function"===typeof h&&h.bind(this)()};Opal.def(d,"$initialize",F);Opal.def(d,"super",function(a){if("function"===typeof a)Opal.send(this,Opal.find_super_dispatcher(this,a.name,a));else{for(var b=Array.from(arguments),e=0;e<b.length;e++)"object"===typeof b[e]&&(b[e]=q(b[e]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",F),b)}});if(k)for(var n in k)Object.prototype.hasOwnProperty.call(k,
n)&&!Object.prototype.hasOwnProperty.call(r,n)&&function(a){var b=k[a];Opal.def(d,"$"+a,function(){return b.apply(this,arguments)})}(n);return d}function B(a,b){var d=Opal.const_get_qualified(Opal.Logger,"Formatter");return t(d,a,b,{},{call:function(a){for(var b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));return a}})}function A(a,b){var d=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return t(d,a,b,{},{add:function(a){if(2<=a.length&&"object"===typeof a[2]&&"$$smap"in
a[2]){var b=g(a[2]);b.getText=function(){return this.text};b.getSourceLocation=function(){return this.source_location};b.$inspect=function(){var a=this.getSourceLocation();return a?a.getPath()+": line "+a.getLineNumber()+": "+this.getText():this.getText()};a[2]=b}1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a}})}function u(a,b,g){a=Opal.const_get_qualified(D,a);return t(a,b,g,{"handles?":function(){return!0}})}Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(a){var b=[],g=a.nil,
k=a.const_get_relative,l=a.klass;a.add_stubs(["$new"]);return function(b,$super,e){b=l(b,$super,"File");var d=[b].concat(e),r;return(a.defs(b,"$read",r=function(a){var b="",e=-1;try{var c=new XMLHttpRequest;c.open("GET",a,!1);c.addEventListener("load",function(){e=this.status;if(0===e||200===e)b=this.responseText});c.overrideMimeType("text/plain");c.send()}catch(f){throw k(d,"IOError").$new("Error reading file or directory: "+a+"; reason: "+f.message);}if(404===e||0===e&&!b)throw k(d,"IOError").$new("No such file or directory: "+
a);return b},r.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/browser"]=function(a){var d=a.top,g=[];a.add_stubs(["$require"]);if("object"===typeof b&&"object"===typeof b.runtime){var k=b.runtime;var l=k.platform;var p=k.engine;var h=k.framework;k=k.ioModule}l=l||"browser";p=p||"";h=h||"";a.const_set(g[0],"JAVASCRIPT_IO_MODULE",k||"xmlhttprequest");a.const_set(g[0],"JAVASCRIPT_PLATFORM",l);a.const_set(g[0],"JAVASCRIPT_ENGINE",p);a.const_set(g[0],"JAVASCRIPT_FRAMEWORK",
h);return d.$require("asciidoctor/js/opal_ext/browser/file")};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.const_get_relative,p=a.module,h=a.klass,e=a.hash2,z=a.truthy;a.add_stubs("$uriish? $[] $web_path $path_resolver $descends_from? $base_dir $start_with? $attr? $join $prepare_source_string $read $fetch $warn $logger $normalize_system_path $read_asset".split(" "));return function(b,d){b=[p(b,"Asciidoctor")].concat(d);
(function(b,$super,c){b=h(b,$super,"AbstractNode");var f=[b].concat(c),d,r;b.$$prototype.document=g;a.def(b,"$read_contents",d=function(b,c){var d,h,r,p=g;null==c&&(c=e([],{}));var v=this.document;if(z(z(d=l(f,"Helpers")["$uriish?"](b))?d:z(h=z(r=p=c["$[]"]("start"))?l(f,"Helpers")["$uriish?"](p):r)?b=v.$path_resolver().$web_path(b,p):h))if(z(z(d=z(h=v.$path_resolver()["$descends_from?"](b,v.$base_dir()))?h:b["$start_with?"]("chrome://"))?d:v["$attr?"]("allow-uri-read")))try{return z(c["$[]"]("normalize"))?
l(f,"Helpers").$prepare_source_string(k("::","File").$read(b)).$join(l(f,"LF")):k("::","File").$read(b)}catch(ya){if(a.rescue(ya,[l(f,"StandardError")]))try{return z(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(z(d=c["$[]"]("label"))?d:"asset")+" at URI: "+b),g}finally{a.pop_exception()}else throw ya;}else return z(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(z(d=c["$[]"]("label"))?d:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),
g;else return b=this.$normalize_system_path(b,c["$[]"]("start"),g,e(["target_name"],{target_name:z(d=c["$[]"]("label"))?d:"asset"})),this.$read_asset(b,e(["normalize","warn_on_failure","label"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0),label:c["$[]"]("label")}))},d.$$arity=-2);return(a.def(b,"$generate_data_uri_from_uri",r=function(a,b){null==b&&(b=!1);var e="",c="",f=-1;try{var d=new XMLHttpRequest;d.open("GET",a,!1);d.overrideMimeType("text/plain; charset=x-user-defined");
d.addEventListener("load",function(){f=this.status;if(0===f||200===f){for(var a="",b=this.responseText,d=0,g=b.length;d<g;++d){var h=b.charCodeAt(d)&255;a+=String.fromCharCode(h)}c=btoa(a);e=this.getResponseHeader("content-type")}});d.send(null);if(!e)if(a.endsWith(".jpeg")||a.endsWith(".jpg")||a.endsWith(".jpe"))e="image/jpg";else if(a.endsWith(".png"))e="image/png";else if(a.endsWith(".svg"))e="image/svg+xml";else if(a.endsWith(".bmp"))e="image/bmp";else if(a.endsWith(".tif")||a.endsWith(".tiff"))e=
"image/tiff"}catch(da){f=0}return 404!==f&&(0!==f||c&&e)?"data:"+e+";base64,"+c:(this.$logger().$warn("could not retrieve image data from URI: "+a),a)},r.$$arity=-2),g)&&"generate_data_uri_from_uri"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,p=a.send;a.add_stubs(["$new","$path"]);return function(b,e){var d=[l(b,"OpenURI")].concat(e),h;a.defs(k(d,"OpenURI"),"$open_uri",h=function(b,e){var n,
c=(n=h.$$p)||g;n&&(h.$$p=null);n=a.slice.call(arguments,1,arguments.length);n=p(k(d,"File"),"new",[this.$path()].concat(a.to_a(n)));return c!==g?a.yield1(c,n):n},h.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(a){var b=[],g=a.nil,k=a.module,l=a.klass,p=a.truthy;a.add_stubs(["$absolute_path?","$start_with?"]);return function(b,e){b=[k(b,"Asciidoctor")].concat(e);(function(b,$super,e){b=l(b,$super,"PathResolver");[b].concat(e);var d;return(a.def(b,
"$root?",d=function(a){var b;return p(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://","chrome://")},d.$$arity=1),g)&&"root?"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,p=a.klass,h=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));
return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,e){b=p(b,$super,"PreprocessorReader");var d=[b].concat(e),c;b.$$prototype.path_resolver=b.$$prototype.document=b.$$prototype.include_stack=b.$$prototype.dir=g;return(a.def(b,"$resolve_include_path",c=function(a,b,e){var c,f,n;e=g;var r=(this.path_resolver=h(c=this.path_resolver)?c:k(d,"PathResolver").$new("\\")).$posixify(a);c=["file",this.document.$base_dir()];var p=c[1];c;if(h(r["$start_with?"]("file://")))a=b=r;else if(h(k(d,
"Helpers")["$uriish?"](r))){if(!h(h(c=this.path_resolver["$descends_from?"](r,p))?c:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");a=b=r}else if(h(this.path_resolver["$absolute_path?"](r)))a=b="file://"+(h(r["$start_with?"]("/"))?"":"/")+r;else if((f=h(n=this.include_stack["$empty?"]())?p:this.dir)["$=="]("."))a=b=r;else if(h(h(c=f["$start_with?"]("file://"))?c:k(d,"Helpers")["$uriish?"](f)["$!"]()))a=""+f+"/"+r,b=h(n)?r:h(h(c=p["$=="]("."))?
c:(e=this.path_resolver["$descends_from?"](a,p))["$!"]())?a:a.$slice(e,a.$length());else if(h(n))a=""+f+"/"+(b=r);else if(h(h(c=e=this.path_resolver["$descends_from?"](f,p))?c:this.document.$attributes()["$key?"]("allow-uri-read")))a=""+f+"/"+r,b=h(e)?a.$slice(e,a.$length()):r;else return this.$replace_next_line("link:"+a+"["+b+"]");return[a,"file",b]},c.$$arity=3),g)&&"resolve_include_path"})(b[0],k(b,"Reader"),b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(a){var b=
a.top,g=a.nil,k=a.const_get_relative;a.add_stubs(["$==","$require"]);return k([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(b.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),b.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),b.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),b.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):g};Opal.modules.set=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,
b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var l=[],p=a.nil,h=a.const_get_relative,e=a.klass,z=a.hash2,r=a.truthy,m=a.send,F=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(d,$super,f){d=e(d,$super,"Set");var n=[d].concat(f),v,l,F,R,q,x,O,E,t,U,u,y,T,fa,B,D,A,ja,wa,ra,I,G,ka,J,K,H,na,qa;d.$$prototype.hash=p;d.$include(h(n,"Enumerable"));a.defs(d,"$[]",v=function(b){var e=a.slice.call(arguments,0,arguments.length);return this.$new(e)},v.$$arity=-1);a.def(d,"$initialize",l=function(b){var e=l.$$p,f=e||p,d;e&&(l.$$p=null);e&&(l.$$p=null);null==b&&(b=p);this.hash=z([],{});if(r(b["$nil?"]()))return p;r(h(n,"Enumerable")["$==="](b))||this.$raise(h(n,"ArgumentError"),
"value must be enumerable");return r(f)?m(b,"each",[],(d=function(b){var e=d.$$s||this;null==b&&(b=p);return e.$add(a.yield1(f,b))},d.$$s=this,d.$$arity=1,d)):this.$merge(b)},l.$$arity=-1);a.def(d,"$dup",F=function(){return this.$class().$new().$merge(this)},F.$$arity=0);a.def(d,"$-",R=function(a){r(a["$respond_to?"]("each"))||this.$raise(h(n,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},R.$$arity=1);a.alias(d,"difference","-");a.def(d,"$inspect",q=function(){return"#<Set: {"+
this.$to_a().$join(",")+"}>"},q.$$arity=0);a.def(d,"$==",x=function(a){var b,e;return r(this["$equal?"](a))?!0:r(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):r(r(b=a["$is_a?"](h(n,"Set")))?this.$size()["$=="](a.$size()):b)?m(a,"all?",[],(e=function(a){var b=e.$$s||this;null==b.hash&&(b.hash=p);null==a&&(a=p);return b.hash["$include?"](a)},e.$$s=this,e.$$arity=1,e)):!1},x.$$arity=1);a.def(d,"$add",O=function(e){e=[e,!0];m(this.hash,"[]=",a.to_a(e));e[b(e.length,
1)];return this},O.$$arity=1);a.alias(d,"<<","add");a.def(d,"$classify",E=function(){var e=E.$$p,f=e||p,d,g,r=p;e&&(E.$$p=null);e&&(E.$$p=null);if(f===p)return this.$enum_for("classify");r=m(h(n,"Hash"),"new",[],(d=function(e,f){var n=d.$$s||this;null==e&&(e=p);null==f&&(f=p);f=[f,n.$class().$new()];m(e,"[]=",a.to_a(f));return f[b(f.length,1)]},d.$$s=this,d.$$arity=2,d));m(this,"each",[],(g=function(b){null==b&&(b=p);return r["$[]"](a.yield1(f,b)).$add(b)},g.$$s=this,g.$$arity=1,g));return r},E.$$arity=
0);a.def(d,"$collect!",t=function(){var b=t.$$p,e=b||p,f,d=p;b&&(t.$$p=null);b&&(t.$$p=null);if(e===p)return this.$enum_for("collect!");d=this.$class().$new();m(this,"each",[],(f=function(b){null==b&&(b=p);return d["$<<"](a.yield1(e,b))},f.$$s=this,f.$$arity=1,f));return this.$replace(d)},t.$$arity=0);a.alias(d,"map!","collect!");a.def(d,"$delete",U=function(a){this.hash.$delete(a);return this},U.$$arity=1);a.def(d,"$delete?",u=function(a){return r(this["$include?"](a))?(this.$delete(a),this):p},
u.$$arity=1);a.def(d,"$delete_if",y=function(){var b,e,f=y.$$p,d=f||p;f&&(y.$$p=null);if(d===p)return this.$enum_for("delete_if");m(m(this,"select",[],(b=function(b){null==b&&(b=p);return a.yield1(d,b)},b.$$s=this,b.$$arity=1,b)),"each",[],(e=function(a){var b=e.$$s||this;null==b.hash&&(b.hash=p);null==a&&(a=p);return b.hash.$delete(a)},e.$$s=this,e.$$arity=1,e));return this},y.$$arity=0);a.def(d,"$add?",T=function(a){return r(this["$include?"](a))?p:this.$add(a)},T.$$arity=1);a.def(d,"$each",fa=
function(){var a=fa.$$p,b=a||p;a&&(fa.$$p=null);a&&(fa.$$p=null);if(b===p)return this.$enum_for("each");m(this.hash,"each_key",[],b.$to_proc());return this},fa.$$arity=0);a.def(d,"$empty?",B=function(){return this.hash["$empty?"]()},B.$$arity=0);a.def(d,"$eql?",D=function(a){var b;return this.hash["$eql?"](m(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=p);return a.hash},b.$$s=this,b.$$arity=0,b)))},D.$$arity=1);a.def(d,"$clear",A=function(){this.hash.$clear();return this},
A.$$arity=0);a.def(d,"$include?",ja=function(a){return this.hash["$include?"](a)},ja.$$arity=1);a.alias(d,"member?","include?");a.def(d,"$merge",wa=function(a){var b;m(a,"each",[],(b=function(a){var e=b.$$s||this;null==a&&(a=p);return e.$add(a)},b.$$s=this,b.$$arity=1,b));return this},wa.$$arity=1);a.def(d,"$replace",ra=function(a){this.$clear();this.$merge(a);return this},ra.$$arity=1);a.def(d,"$size",I=function(){return this.hash.$size()},I.$$arity=0);a.alias(d,"length","size");a.def(d,"$subtract",
G=function(a){var b;m(a,"each",[],(b=function(a){var e=b.$$s||this;null==a&&(a=p);return e.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},G.$$arity=1);a.def(d,"$|",ka=function(a){r(a["$respond_to?"]("each"))||this.$raise(h(n,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},ka.$$arity=1);a.def(d,"$superset?",J=function(a){var b,e;r(b=a["$is_a?"](h(n,"Set")))?b:this.$raise(h(n,"ArgumentError"),"value must be a set");return r(g(this.$size(),a.$size()))?!1:m(a,"all?",[],
(e=function(a){var b=e.$$s||this;null==a&&(a=p);return b["$include?"](a)},e.$$s=this,e.$$arity=1,e))},J.$$arity=1);a.alias(d,">=","superset?");a.def(d,"$proper_superset?",K=function(a){var b,e;r(b=a["$is_a?"](h(n,"Set")))?b:this.$raise(h(n,"ArgumentError"),"value must be a set");return r(k(this.$size(),a.$size()))?!1:m(a,"all?",[],(e=function(a){var b=e.$$s||this;null==a&&(a=p);return b["$include?"](a)},e.$$s=this,e.$$arity=1,e))},K.$$arity=1);a.alias(d,">","proper_superset?");a.def(d,"$subset?",
H=function(a){var b,e;r(b=a["$is_a?"](h(n,"Set")))?b:this.$raise(h(n,"ArgumentError"),"value must be a set");return r(g(a.$size(),this.$size()))?!1:m(this,"all?",[],(e=function(b){null==b&&(b=p);return a["$include?"](b)},e.$$s=this,e.$$arity=1,e))},H.$$arity=1);a.alias(d,"<=","subset?");a.def(d,"$proper_subset?",na=function(a){var b,e;r(b=a["$is_a?"](h(n,"Set")))?b:this.$raise(h(n,"ArgumentError"),"value must be a set");return r(k(a.$size(),this.$size()))?!1:m(this,"all?",[],(e=function(b){null==
b&&(b=p);return a["$include?"](b)},e.$$s=this,e.$$arity=1,e))},na.$$arity=1);a.alias(d,"<","proper_subset?");a.alias(d,"+","|");a.alias(d,"union","|");return(a.def(d,"$to_a",qa=function(){return this.hash.$keys()},qa.$$arity=0),p)&&"to_a"})(l[0],null,l);return function(b,e){b=F(b,"Enumerable");var c=[b].concat(e),d;a.def(b,"$to_set",d=function(b,e){var f=d.$$p,n=f||p;f&&(d.$$p=null);f&&(d.$$p=null);f=a.slice.call(arguments,0,arguments.length);if(0<f.length){var g=f[0];f.splice(0,1)}null==g&&(g=h(c,
"Set"));return m(g,"new",[this].concat(a.to_a(f)),n.$to_proc())},d.$$arity=-1)}(l[0],l)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,p=a.send;a.add_stubs(["$new"]);return function(b,e){b=l(b,"Kernel");var d=[b].concat(e),h,v;a.def(b,"$open",h=function(b,e){var c,f=(c=h.$$p)||g;c&&(h.$$p=null);c=a.slice.call(arguments,1,arguments.length);c=p(k(d,"File"),"new",[b].concat(a.to_a(c)));return f!==g?a.yield1(f,c):c},h.$$arity=-2);a.def(b,
"$__dir__",v=function(){return""},v.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.klass,p=a.truthy,h=a.gvars;a.add_stubs("$attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(b,$super,d){b=l(b,$super,"File");var e=[b].concat(d),r,n,c,f;b.$$prototype.eof=b.$$prototype.path=g;b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.def(b,"$initialize",r=function(a,
b){null==b&&(b="r");this.path=a;this.contents=g;this.eof=!1;this.lineno=0;b=b.$delete("b");return this.flags=b=b.$gsub(/:(.*)/,"")},r.$$arity=-2);a.def(b,"$read",n=function(){if(p(this.eof))return"";var a=k(e,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();return a},n.$$arity=0);a.def(b,"$each_line",c=function(b){var f=c.$$p,d=f||g;null==h["/"]&&(h["/"]=g);f&&(c.$$p=null);f&&(c.$$p=null);null==b&&(b=h["/"]);if(p(this.eof))return d!==g?this:[].$to_enum();if(d!==g){f=k(e,"File").$read(this.path);
this.eof=!1;this.lineno=0;var n=f.$chomp();f=f.length!=n.length;n=n.split(b);for(var r=0,v=n.length;r<v;r++)this.lineno+=1,r<v-1||f?a.yield1(d,n[r]+b):a.yield1(d,n[r]);this.eof=!0;return this}return this.$read().$each_line()},c.$$arity=-1);a.def(b,"$readlines",f=function(){return k(e,"File").$readlines(this.path)},f.$$arity=0);return function(b,e){var c=[b].concat(e),f,d,n,r;a.def(b,"$readlines",f=function(a,b){null==h["/"]&&(h["/"]=g);null==b&&(b=h["/"]);return k(c,"File").$read(a).$split(b)},f.$$arity=
-2);a.def(b,"$file?",d=function(a){return!0},d.$$arity=1);a.def(b,"$readable?",n=function(a){return!0},n.$$arity=1);return(a.def(b,"$read",r=function(a){return""},r.$$arity=1),g)&&"read"}(a.get_singleton_class(b),e)})(b[0],null,b);return function(b,$super,d){b=l(b,$super,"IO");var e=[b].concat(d),h;return(a.defs(b,"$read",h=function(a){return k(e,"File").$read(a)},h.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],g=a.nil,k=a.klass,l=a.send;
a.add_stubs(["$[]=","$-"]);return function(b,$super,e){b=k(b,$super,"MatchData");[b].concat(e);var d;b.$$prototype.matches=g;return(a.def(b,"$[]=",d=function(b,e){b=[b,e];l(this.matches,"[]=",a.to_a(b));e=b.length;e="number"===typeof e?e-1:e["$-"](1);return b[e]},d.$$arity=2),g)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],g=a.nil,k=a.klass,l=a.truthy;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $>= $- $_original_byteslice $_original_unpack".split(" "));
return function(b,$super,e){b=k(b,$super,"String");[b].concat(e);var d,r,p;l(b["$method_defined?"]("limit_bytesize"))||a.def(b,"$limit_bytesize",d=function(a){var b=this.$bytes().$length();b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);return l(b)?this.$byteslice(0,a).$to_s():this.$to_s()},d.$$arity=1);l(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_byteslice","byteslice");a.def(b,"$byteslice",r=function(a,b){var e;null==b&&(b=1);return l(l(e=
a["$=="](3)?"number"===typeof b&&"number"===typeof a?b>=a:b["$>="](a):a["$=="](3))?65279===this.charCodeAt():e)?this.substr(1).$byteslice(0,"number"===typeof b?b-3:b["$-"](3)):this.$_original_byteslice(a,b)},r.$$arity=-2);a.alias(b,"_original_unpack","unpack");return(a.def(b,"$unpack",p=function(a){if(a["$=="]("C3")){if(l(65279===this.charCodeAt()))return[239,187,191];a=[];for(var b=0;3>b;b++)b<this.length?a.push(this.charCodeAt(b)):a.push(g);return a}return this.$_original_unpack(a)},p.$$arity=1),
g)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var b=[],g=a.const_get_relative,k=a.module;a.add_stubs(["$extend"]);return function(b,d){b=k(b,"URI");var h=[b].concat(d),e,p;a.defs(b,"$parse",e=function(a){return a.$extend(g(h,"URI"))},e.$$arity=1);a.def(b,"$path",p=function(){return this},p.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/base64"]=function(a){var b=[],g=a.module,k=a.hash2,l=a.truthy;a.add_stubs(["$delete"]);return function(b,d){b=g(b,
"Base64");[b].concat(d);var e,h,r,p,v,n;var c=a.global.btoa||function(a){return(a instanceof Buffer?a:Buffer.from(a.toString(),"binary")).toString("base64")};var f=a.global.atob||function(a){return Buffer.from(a,"base64").toString("binary")};a.defs(b,"$decode64",e=function(a){return f(a.replace(/\r?\n/g,""))},e.$$arity=1);a.defs(b,"$encode64",h=function(a){return c(a).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},h.$$arity=1);a.defs(b,"$strict_decode64",r=function(a){return f(a)},r.$$arity=
1);a.defs(b,"$strict_encode64",p=function(a){return c(a)},p.$$arity=1);a.defs(b,"$urlsafe_decode64",v=function(a){return f(a.replace(/\-/g,"+").replace(/_/g,"/"))},v.$$arity=1);a.defs(b,"$urlsafe_encode64",n=function(b,e){if(null==e)e=k([],{});else if(!e.$$is_hash)throw a.ArgumentError.$new("expected kwargs");e=e.$$smap.padding;null==e&&(e=!0);b=c(b).replace(/\+/g,"-").replace(/\//g,"_");l(e)||(b=b.$delete("="));return b},n.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/number"]=function(a){var b=
[],g=a.nil,k=a.const_get_relative,l=a.klass,p=a.truthy;a.add_stubs(["$coerce_to!","$>"]);return function(b,$super,d){b=l(b,$super,"Number");var h=[b].concat(d),v;return(a.def(b,"$round",v=function(a){a=k(h,"Opal")["$coerce_to!"](a,k(h,"Integer"),"to_int");return p("number"===typeof a?0<a:a["$>"](0))?Number(this.toFixed(a)):Math.round(this)},v.$$arity=-1),g)&&"round"}(b[0],k(b,"Numeric"),b)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext/kernel");
b.$require("asciidoctor/js/opal_ext/file");b.$require("asciidoctor/js/opal_ext/match_data");b.$require("asciidoctor/js/opal_ext/string");b.$require("asciidoctor/js/opal_ext/uri");b.$require("asciidoctor/js/opal_ext/base64");b.$require("asciidoctor/js/opal_ext/number");a.config.unsupported_features_severity="ignore";b.$require("asciidoctor/js/opal_ext/browser")};Opal.modules["asciidoctor/js/rx"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,
l=a.const_get_relative,p=a.module,h=a.send,e=a.gvars,m=a.truthy;a.add_stubs(["$gsub","$+","$unpack_hex_range"]);return function(d,g){d=p(d,"Asciidoctor");var r=[d].concat(g),n;a.const_set(r[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(d,"$unpack_hex_range",n=function(a){var b;return h(a,"gsub",[l(r,"HEX_RANGE_RX")],(b=function(){var a,b;return"\\u"+((a=e["~"])===k?k:a["$[]"](1))+(m(a=(b=e["~"])===k?k:b["$[]"](2))?"-\\u"+((b=e["~"])===k?k:b["$[]"](2)):a)},b.$$s=this,b.$$arity=0,b))},
n.$$arity=1);a.const_set(r[0],"P_L",b("A-Za-z",d.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(r[0],"P_Nl",d.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(r[0],"P_Nd",b("0-9",d.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(r[0],
"P_Pc",d.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(r[0],"CC_ALPHA",""+l(r,"P_L")+l(r,"P_Nl"));a.const_set(r[0],"CG_ALPHA","["+l(r,"CC_ALPHA")+"]");a.const_set(r[0],"CC_ALNUM",""+l(r,"CC_ALPHA")+l(r,"P_Nd"));a.const_set(r[0],"CG_ALNUM","["+l(r,"CC_ALNUM")+"]");a.const_set(r[0],"CC_WORD",""+l(r,"CC_ALNUM")+l(r,"P_Pc"));a.const_set(r[0],"CG_WORD","["+l(r,"CC_WORD")+"]");a.const_set(r[0],"CG_BLANK","[ \\t]");a.const_set(r[0],"CC_EOL","(?=\\n|$)");a.const_set(r[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(r[0],"CC_ALL","[\\s\\S]");a.const_set(r[0],"CC_ANY","[^\\n]")}(g[0],g)};Opal.modules.strscan=function(a){var b=[],g=a.nil,k=a.klass,l=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,e){b=k(b,$super,"StringScanner");[b].concat(e);var d,r,p,v,n,c,f,m,q,t,L,R,E,x,O,u,y,ea,xa,B,T,fa,D,A,G;b.$$prototype.pos=b.$$prototype.string=b.$$prototype.working=b.$$prototype.matched=b.$$prototype.prev_pos=
b.$$prototype.match=g;b.$attr_reader("pos");b.$attr_reader("matched");a.def(b,"$initialize",d=function(a){this.string=a;this.pos=0;this.matched=g;this.working=a;return this.match=[]},d.$$arity=1);b.$attr_reader("string");a.def(b,"$beginning_of_line?",r=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},r.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.def(b,"$scan",p=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:"object"===typeof a?(this.prev_pos=
this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):g},p.$$arity=1);a.def(b,"$scan_until",v=function(a){a=this.$anchor(a);for(var b=this.pos,e=this.working,c;;)if(c=a.exec(e),b+=1,e=e.substr(1),null==c){if(0===e.length)return this.matched=g}else return this.matched=this.string.substr(this.pos,b-this.pos-1+c[0].length),this.prev_pos=b-1,this.pos=
b,this.working=e.substr(c[0].length),this.matched},v.$$arity=1);a.def(b,"$[]",n=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?g:b[a]},n.$$arity=1);a.def(b,"$check",c=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:this.matched=a[0]},c.$$arity=1);a.def(b,"$check_until",f=function(a){var b=this.prev_pos,e=this.pos;a=this.$scan_until(a);a!==g&&(this.matched=a.substr(-1),this.working=this.string.substr(e));this.prev_pos=b;this.pos=
e;return a},f.$$arity=1);a.def(b,"$peek",m=function(a){return this.working.substring(0,a)},m.$$arity=1);a.def(b,"$eos?",q=function(){return 0===this.working.length},q.$$arity=0);a.def(b,"$exist?",t=function(a){a=a.exec(this.working);return null==a?g:0==a.index?0:a.index+1},t.$$arity=1);a.def(b,"$skip",L=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=g;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);
return b},L.$$arity=1);a.def(b,"$skip_until",R=function(a){a=this.$scan_until(a);if(a===g)return g;this.matched=a.substr(-1);return a.length},R.$$arity=1);a.def(b,"$get_byte",E=function(){var a=g;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=g;return a},E.$$arity=0);a.alias(b,"getch","get_byte");a.def(b,"$match?",x=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return g;
this.prev_pos=this.pos;return a[0].length},x.$$arity=1);a.def(b,"$pos=",O=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},O.$$arity=1);a.def(b,"$matched_size",u=function(){return this.matched===g?g:this.matched.length},u.$$arity=0);a.def(b,"$post_match",y=function(){return this.matched===g?g:this.string.substr(this.pos)},y.$$arity=0);a.def(b,"$pre_match",ea=function(){return this.matched===g?g:this.string.substr(0,this.prev_pos)},ea.$$arity=0);a.def(b,
"$reset",xa=function(){this.working=this.string;this.matched=g;return this.pos=0},xa.$$arity=0);a.def(b,"$rest",B=function(){return this.working},B.$$arity=0);a.def(b,"$rest?",T=function(){return 0!==this.working.length},T.$$arity=0);a.def(b,"$rest_size",fa=function(){return this.$rest().$size()},fa.$$arity=0);a.def(b,"$terminate",D=function(){this.match=g;var b=[this.string.$length()];l(this,"pos=",a.to_a(b));var e=b.length;e="number"===typeof e?e-1:e["$-"](1);return b[e]},D.$$arity=0);a.def(b,"$unscan",
A=function(){this.pos=this.prev_pos;this.match=this.prev_pos=g;return this},A.$$arity=0);b.$private();return(a.def(b,"$anchor",G=function(a){var b=a.toString().match(/\/([^\/]+)$/);b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},G.$$arity=1),g)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");return b.$require("strscan")};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=
function(a){var b=[],g=a.nil,k=a.klass,l=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,e){b=k(b,$super,"NilClass");[b].concat(e);return l(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,e){b=k(b,$super,"String");[b].concat(e);return l(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,e){b=k(b,$super,"Array");[b].concat(e);return l(b["$method_defined?"]("nil_or_empty?"))?
g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,e){b=k(b,$super,"Hash");[b].concat(e);return l(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,e){b=k(b,$super,"Numeric");[b].concat(e);return l(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/hash/merge"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}var g,k=a.top,l=[],p=a.nil,h=a.const_get_relative,e=a.send,m=a.truthy;a.add_stubs("$== $arity $instance_method $send $new $< $length $dup $> $inject $merge $[]".split(" "));return h(l,"Hash").$instance_method("merge").$arity()["$=="](1)?h(l,"Hash").$send("prepend",e(h(l,"Module"),"new",[],(g=function(){var d;return(a.def(g.$$s||this,"$merge",d=function(g){var h,n=p;d.$$p&&(d.$$p=null);var c=a.slice.call(arguments,0,arguments.length);return m(b(n=c.$length(),1))?this.$dup():m("number"===
typeof n?1<n:n["$>"](1))?e(c,"inject",[this],(h=function(a,b){null==a&&(a=p);null==b&&(b=p);return a.$merge(b)},h.$$s=this,h.$$arity=2,h)):e(this,a.find_super_dispatcher(this,"merge",d,!1),[c["$[]"](0)],null)},d.$$arity=-1),p)&&"merge"},g.$$s=k,g.$$arity=0,g))):p};Opal.modules["asciidoctor/core_ext/match_data/names"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.truthy,p=a.klass;a.add_stubs(["$method_defined?"]);return l(k(b,"MatchData")["$method_defined?"]("names"))?g:function(b,$super,
d){b=p(b,$super,"MatchData");[b].concat(d);var h;return(a.def(b,"$names",h=function(){return[]},h.$$arity=0),g)&&"names"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,g=a.nil,k=a.const_get_relative;a.add_stubs(["$=="]);b.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty");b.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge");return k([],"RUBY_ENGINE")["$=="]("opal")?b.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):g};Opal.modules["asciidoctor/helpers"]=
function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,p=a.const_get_qualified,h=a.const_get_relative,e=a.module,m=a.truthy,r=a.gvars,q=a.send,F=a.hash2;a.add_stubs("$module_function $require $include? $include $== $=== $path $message $raise $warn $logger $chomp $empty? $slice $unpack $[] $byteslice $bytesize $[]= $- $map $rstrip $encode $encoding $nil_or_empty? $!= $tap $each_line $<< $match? $gsub $rindex $index $basename $extname $! $length $directory? $dirname $mkdir_p $mkdir $private_constant $join $divmod $* $+ $to_s $to_i $succ $class_for_name $const_get".split(" "));
return function(d,c){d=[e(d,"Asciidoctor")].concat(c);(function(c,d){c=e(c,"Helpers");var f=[c].concat(d),n,k,v,z,x,t,E,O,U,W,u,y,fa,B,D,A;c.$module_function();a.def(c,"$require_library",n=function(b,e,c){var d=l,n=l;null==r["!"]&&(r["!"]=l);null==e&&(e=!0);null==c&&(c="abort");try{return this.$require(b)}catch(ka){if(a.rescue(ka,[p("::","LoadError")]))try{return m(this["$include?"](h(f,"Logging")))||this.$include(h(f,"Logging")),m(e)?(e["$=="](!0)&&(e=b),d=c,"abort"["$==="](d)?(n=r["!"].$path()["$=="](e)?
"":" (reason: "+(m(r["!"].$path())?"cannot load '"+r["!"].$path()+"'":r["!"].$message())+")",this.$raise(p("::","LoadError"),"asciidoctor: FAILED: required gem '"+e+"' is not available"+n+". Processing aborted.")):"warn"["$==="](d)&&(n=r["!"].$path()["$=="](e)?"":" (reason: "+(m(r["!"].$path())?"cannot load '"+r["!"].$path()+"'":r["!"].$message())+")",this.$logger().$warn("optional gem '"+e+"' is not available"+n+". Functionality disabled."))):(d=c,"abort"["$==="](d)?this.$raise(p("::","LoadError"),
"asciidoctor: FAILED: "+r["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](d)&&this.$logger().$warn(""+r["!"].$message().$chomp(".")+". Functionality disabled.")),l}finally{a.pop_exception()}else throw ka;}},n.$$arity=-2);a.def(c,"$prepare_source_array",k=function(e,c){var d,n,g,r,k,x,v,R,z=this,F=l,t=l,L=l;F=l;null==c&&(c=!0);if(m(e["$empty?"]()))return[];if((F=(t=(L=e["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="](h(f,"BOM_BYTES_UTF_16LE")))return F=[0,L.$byteslice(2,L.$bytesize())],
q(e,"[]=",a.to_a(F)),F[b(F.length,1)],function(){return m(c)?q(e,"map",[],(d=function(a){null==a&&(a=l);return a.$encode(h(f,"UTF_8"),p(p("::","Encoding"),"UTF_16LE")).$rstrip()},d.$$s=z,d.$$arity=1,d)):q(e,"map",[],(n=function(a){null==a&&(a=l);return a.$encode(h(f,"UTF_8"),p(p("::","Encoding"),"UTF_16LE")).$chomp()},n.$$s=z,n.$$arity=1,n))}();if(F["$=="](h(f,"BOM_BYTES_UTF_16BE")))return F=[0,L.$byteslice(2,L.$bytesize())],q(e,"[]=",a.to_a(F)),F[b(F.length,1)],function(){return m(c)?q(e,"map",[],
(g=function(a){null==a&&(a=l);return a.$encode(h(f,"UTF_8"),p(p("::","Encoding"),"UTF_16BE")).$rstrip()},g.$$s=z,g.$$arity=1,g)):q(e,"map",[],(r=function(a){null==a&&(a=l);return a.$encode(h(f,"UTF_8"),p(p("::","Encoding"),"UTF_16BE")).$chomp()},r.$$s=z,r.$$arity=1,r))}();t["$=="](h(f,"BOM_BYTES_UTF_8"))&&(F=[0,L.$byteslice(3,L.$bytesize())],q(e,"[]=",a.to_a(F)),F[b(F.length,1)]);return L.$encoding()["$=="](h(f,"UTF_8"))?m(c)?q(e,"map",[],(k=function(a){null==a&&(a=l);return a.$rstrip()},k.$$s=z,
k.$$arity=1,k)):q(e,"map",[],(x=function(a){null==a&&(a=l);return a.$chomp()},x.$$s=z,x.$$arity=1,x)):m(c)?q(e,"map",[],(v=function(a){null==a&&(a=l);return a.$encode(h(f,"UTF_8")).$rstrip()},v.$$s=z,v.$$arity=1,v)):q(e,"map",[],(R=function(a){null==a&&(a=l);return a.$encode(h(f,"UTF_8")).$chomp()},R.$$s=z,R.$$arity=1,R))},k.$$arity=-2);a.def(c,"$prepare_source_string",v=function(a,b){var e,c,d=l,n=l;null==b&&(b=!0);if(m(a["$nil_or_empty?"]()))return[];(d=(n=a.$unpack("C3")).$slice(0,2))["$=="](h(f,
"BOM_BYTES_UTF_16LE"))?a=a.$byteslice(2,a.$bytesize()).$encode(h(f,"UTF_8"),p(p("::","Encoding"),"UTF_16LE")):d["$=="](h(f,"BOM_BYTES_UTF_16BE"))?a=a.$byteslice(2,a.$bytesize()).$encode(h(f,"UTF_8"),p(p("::","Encoding"),"UTF_16BE")):n["$=="](h(f,"BOM_BYTES_UTF_8"))?(a=a.$byteslice(3,a.$bytesize()),a.$encoding()["$=="](h(f,"UTF_8"))||(a=a.$encode(h(f,"UTF_8")))):m(a.$encoding()["$!="](h(f,"UTF_8")))&&(a=a.$encode(h(f,"UTF_8")));return m(b)?q([],"tap",[],(e=function(b){var c=e.$$s||this,f;null==b&&
(b=l);return q(a,"each_line",[],(f=function(a){null==a&&(a=l);return b["$<<"](a.$rstrip())},f.$$s=c,f.$$arity=1,f))},e.$$s=this,e.$$arity=1,e)):q([],"tap",[],(c=function(b){var e=c.$$s||this,f;null==b&&(b=l);return q(a,"each_line",[],(f=function(a){null==a&&(a=l);return b["$<<"](a.$chomp())},f.$$s=e,f.$$arity=1,f))},c.$$s=this,c.$$arity=1,c))},v.$$arity=-2);a.def(c,"$uriish?",z=function(a){var b;return m(b=a["$include?"](":"))?h(f,"UriSniffRx")["$match?"](a):b},z.$$arity=1);h(f,"RUBY_ENGINE")["$=="]("opal")?
a.def(c,"$encode_uri_component",x=function(a){return encodeURIComponent(a).replace(/%20|[!'()*]/g,function(a){return"%20"===a?"+":"%"+a.charCodeAt(0).toString(16)})},x.$$arity=1):l;a.def(c,"$encode_spaces_in_uri",t=function(a){return m(a["$include?"](" "))?a.$gsub(" ","%20"):a},t.$$arity=1);a.def(c,"$rootname",E=function(a){var b;return m(b=a.$rindex("."))?m(a.$index("/",b))?a:a.$slice(0,b):a},E.$$arity=1);a.def(c,"$basename",O=function(a,b){null==b&&(b=l);return m(b)?p("::","File").$basename(a,b["$=="](!0)?
this.$extname(a):b):p("::","File").$basename(a)},O.$$arity=-2);a.def(c,"$extname?",U=function(a){var b,e=l;return m(b=e=a.$rindex("."))?a.$index("/",e)["$!"]():b},U.$$arity=1);m(p(p("::","File"),"ALT_SEPARATOR"))?a.def(c,"$extname",W=function(a,b){var e,c;null==b&&(b="");return m(c=a.$rindex("."))?m(m(e=a.$index("/",c))?e:a.$index(p(p("::","File"),"ALT_SEPARATOR"),c))?b:a.$slice(c,a.$length()):b},W.$$arity=-2):a.def(c,"$extname",u=function(a,b){var e;null==b&&(b="");return m(e=a.$rindex("."))?m(a.$index("/",
e))?b:a.$slice(e,a.$length()):b},u.$$arity=-2);a.def(c,"$mkdir_p",y=function(b){var e;if(m(p("::","File")["$directory?"](b)))return l;(e=p("::","File").$dirname(b))["$=="](".")||this.$mkdir_p(e);try{return p("::","Dir").$mkdir(b)}catch(ra){if(a.rescue(ra,[p("::","SystemCallError")]))try{return m(p("::","File")["$directory?"](b))?l:this.$raise()}finally{a.pop_exception()}else throw ra;}},y.$$arity=1);a.const_set(f[0],"ROMAN_NUMERALS",F("M CM D CD C XC L XL X IX V IV I".split(" "),{M:1E3,CM:900,D:500,
CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));c.$private_constant("ROMAN_NUMERALS");a.def(c,"$int_to_roman",fa=function(b){var e;return q(h(f,"ROMAN_NUMERALS"),"map",[],(e=function(e,c){null==e&&(e=l);null==c&&(c=l);var f=b.$divmod(c);c=a.to_ary(f);var d=null==c[0]?l:c[0];b=null==c[1]?l:c[1];f;return"number"===typeof e&&"number"===typeof d?e*d:e["$*"](d)},e.$$s=this,e.$$arity=2,e)).$join()},fa.$$arity=1);a.def(c,"$nextval",B=function(a){var b;return m(p("::","Integer")["$==="](a))?g(a,1):
(b=a.$to_i()).$to_s()["$=="](a.$to_s())?g(b,1):a.$succ()},B.$$arity=1);a.def(c,"$resolve_class",D=function(a){return m(p("::","Class")["$==="](a))?a:m(p("::","String")["$==="](a))?this.$class_for_name(a):l},D.$$arity=1);a.def(c,"$class_for_name",A=function(b){var e=l;try{return m(p("::","Class")["$==="](e=p("::","Object").$const_get(b,!1)))||this.$raise(),e}catch(ra){if(a.rescue(ra,[h(f,"StandardError")]))try{return this.$raise(p("::","NameError"),"Could not resolve class for name: "+b)}finally{a.pop_exception()}else throw ra;
}},A.$$arity=1)})(d[0],d)}(k[0],k)};Opal.modules.logger=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var g=[],k=a.nil,l=a.const_get_qualified,p=a.const_get_relative,h=a.klass,e=a.module,m=a.send,r=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));
return function(d,$super,n){d=h(d,$super,"Logger");var c=[d].concat(n),f,g,v,q,z,R,t,x,E,O,u,U,y,B,T;d.$$prototype.level=d.$$prototype.progname=d.$$prototype.pipe=d.$$prototype.formatter=k;(function(b,c){b=[e(b,"Severity")].concat(c);a.const_set(b[0],"DEBUG",0);a.const_set(b[0],"INFO",1);a.const_set(b[0],"WARN",2);a.const_set(b[0],"ERROR",3);a.const_set(b[0],"FATAL",4);a.const_set(b[0],"UNKNOWN",5)})(c[0],c);d.$include(p(c,"Severity"));a.const_set(c[0],"SEVERITY_LABELS",m(p(c,"Severity").$constants(),
"map",[],(f=function(a){null==a&&(a=k);return[p(c,"Severity").$const_get(a),a.$to_s()]},f.$$s=d,f.$$arity=1,f)).$to_h());(function(b,$super,e){b=h(b,$super,"Formatter");var c=[b].concat(e),f,d;a.const_set(c[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(c[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(b,"$call",f=function(a,b,e,f){return this.$format(p(c,"MESSAGE_FORMAT"),a.$chr(),b.$strftime(p(c,"DATE_TIME_FORMAT")),a,e,this.$message_as_string(f))},f.$$arity=4);return(a.def(b,
"$message_as_string",d=function(a){var b,e=k;return function(){e=a;if(l("::","String")["$==="](e))return a;if(l("::","Exception")["$==="](e)){var c=""+a.$message()+" ("+a.$class()+")\n",f=(r(b=a.$backtrace())?b:[]).$join("\n");return"number"===typeof c&&"number"===typeof f?c+f:c["$+"](f)}return a.$inspect()}()},d.$$arity=1),k)&&"message_as_string"})(c[0],null,c);d.$attr_reader("level");d.$attr_accessor("progname");d.$attr_accessor("formatter");a.def(d,"$initialize",g=function(a){this.pipe=a;this.level=
p(c,"DEBUG");return this.formatter=p(c,"Formatter").$new()},g.$$arity=1);a.def(d,"$level=",v=function(a){var b;return r(l("::","Integer")["$==="](a))?this.level=a:r(b=p(c,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?this.level=b:this.$raise(p(c,"ArgumentError"),"invalid log level: "+a)},v.$$arity=1);a.def(d,"$info",q=function(a){var b=q.$$p,e=b||k;b&&(q.$$p=null);b&&(q.$$p=null);null==a&&(a=k);return m(this,"add",[p(c,"INFO"),k,a],e.$to_proc())},q.$$arity=-1);a.def(d,"$debug",z=function(a){var b=
z.$$p,e=b||k;b&&(z.$$p=null);b&&(z.$$p=null);null==a&&(a=k);return m(this,"add",[p(c,"DEBUG"),k,a],e.$to_proc())},z.$$arity=-1);a.def(d,"$warn",R=function(a){var b=R.$$p,e=b||k;b&&(R.$$p=null);b&&(R.$$p=null);null==a&&(a=k);return m(this,"add",[p(c,"WARN"),k,a],e.$to_proc())},R.$$arity=-1);a.def(d,"$error",t=function(a){var b=t.$$p,e=b||k;b&&(t.$$p=null);b&&(t.$$p=null);null==a&&(a=k);return m(this,"add",[p(c,"ERROR"),k,a],e.$to_proc())},t.$$arity=-1);a.def(d,"$fatal",x=function(a){var b=x.$$p,e=
b||k;b&&(x.$$p=null);b&&(x.$$p=null);null==a&&(a=k);return m(this,"add",[p(c,"FATAL"),k,a],e.$to_proc())},x.$$arity=-1);a.def(d,"$unknown",E=function(a){var b=E.$$p,e=b||k;b&&(E.$$p=null);b&&(E.$$p=null);null==a&&(a=k);return m(this,"add",[p(c,"UNKNOWN"),k,a],e.$to_proc())},E.$$arity=-1);a.def(d,"$info?",O=function(){return b(this.level,p(c,"INFO"))},O.$$arity=0);a.def(d,"$debug?",u=function(){return b(this.level,p(c,"DEBUG"))},u.$$arity=0);a.def(d,"$warn?",U=function(){return b(this.level,p(c,"WARN"))},
U.$$arity=0);a.def(d,"$error?",y=function(){return b(this.level,p(c,"ERROR"))},y.$$arity=0);a.def(d,"$fatal?",B=function(){return b(this.level,p(c,"FATAL"))},B.$$arity=0);return(a.def(d,"$add",T=function(b,e,f){var d=T.$$p,n=d||k,g;d&&(T.$$p=null);d&&(T.$$p=null);null==e&&(e=k);null==f&&(f=k);d=b=r(g=b)?g:p(c,"UNKNOWN");var h=this.level;d="number"===typeof d&&"number"===typeof h?d<h:d["$<"](h);if(r(d))return!0;f=r(g=f)?g:this.progname;r(e)||(n!==k?e=a.yieldX(n,[]):(e=f,f=this.progname));this.pipe.$write(this.formatter.$call(r(g=
p(c,"SEVERITY_LABELS")["$[]"](b))?g:"ANY",l("::","Time").$now(),f,e));return!0},T.$$arity=-2),k)&&"add"}(g[0],null,g)};Opal.modules["asciidoctor/logging"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var k=a.top,l=[],p=a.nil,h=a.const_get_qualified,e=a.const_get_relative,m=a.module,r=a.klass,q=a.send,F=a.truthy,n=a.hash2,c=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $to_h $map $constants $const_get $<< $clear $empty? $max $attr_accessor $memoize_logger $private $extend $private_class_method $logger $merge".split(" "));
k.$require("logger");return function(f,d){f=[m(f,"Asciidoctor")].concat(d);(function(c,$super,f){c=r(c,$super,"Logger");var d=[c].concat(f),k,l;c.$$prototype.max_severity=p;c.$attr_reader("max_severity");a.def(c,"$initialize",k=function(c){var f=k.$$p,n;f&&(k.$$p=null);var g=0;var h=arguments.length;for(n=Array(h);g<h;g++)n[g]=arguments[g];a.slice.call(arguments,0,arguments.length);q(this,a.find_super_dispatcher(this,"initialize",k,!1),n,f);f=["asciidoctor"];q(this,"progname=",a.to_a(f));f[b(f.length,
1)];f=[e(d,"BasicFormatter").$new()];q(this,"formatter=",a.to_a(f));f[b(f.length,1)];f=[e(d,"WARN")];q(this,"level=",a.to_a(f));return f[b(f.length,1)]},k.$$arity=-1);a.def(c,"$add",l=function(b,c,f){var n,h=l.$$p,r;h&&(l.$$p=null);var k=0;var x=arguments.length;for(r=Array(x);k<x;k++)r[k]=arguments[k];null==c&&(c=p);null==f&&(f=p);F(g(b=F(n=b)?n:e(d,"UNKNOWN"),this.max_severity=F(n=this.max_severity)?n:b))&&(this.max_severity=b);return q(this,a.find_super_dispatcher(this,"add",l,!1),r,h)},l.$$arity=
-2);(function(b,$super,c){b=r(b,$super,"BasicFormatter");var f=[b].concat(c),d;a.const_set(f[0],"SEVERITY_LABEL_SUBSTITUTES",n(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(b,"$call",d=function(a,b,c,d){var n;return""+c+": "+(F(n=e(f,"SEVERITY_LABEL_SUBSTITUTES")["$[]"](a))?n:a)+": "+(F(h("::","String")["$==="](d))?d:d.$inspect())+e(f,"LF")},d.$$arity=4),p)&&"call"})(d[0],e(d,"Formatter"),d);return function(b,e){b=m(b,"AutoFormattingMessage");[b].concat(e);var c;a.def(b,"$inspect",
c=function(){var a;return F(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},c.$$arity=0)}(d[0],d)})(f[0],h("::","Logger"),f);(function(c,$super,f){c=r(c,$super,"MemoryLogger");var d=[c].concat(f),g,h,k,l,v,m;c.$$prototype.messages=p;a.const_set(d[0],"SEVERITY_SYMBOL_BY_VALUE",q(e(d,"Severity").$constants(!1),"map",[],(g=function(a){null==a&&(a=p);return[e(d,"Severity").$const_get(a),a]},g.$$s=c,g.$$arity=1,g)).$to_h());c.$attr_reader("messages");a.def(c,"$initialize",
h=function(){var c=[e(d,"WARN")];q(this,"level=",a.to_a(c));c[b(c.length,1)];return this.messages=[]},h.$$arity=0);a.def(c,"$add",k=function(b,c,f){var g,h=k.$$p,r=h||p;h&&(k.$$p=null);null==c&&(c=p);null==f&&(f=p);c=F(g=c)?g:r!==p?a.yieldX(r,[]):f;this.messages["$<<"](n(["severity","message"],{severity:e(d,"SEVERITY_SYMBOL_BY_VALUE")["$[]"](F(g=b)?g:e(d,"UNKNOWN")),message:c}));return!0},k.$$arity=-2);a.def(c,"$clear",l=function(){return this.messages.$clear()},l.$$arity=0);a.def(c,"$empty?",v=function(){return this.messages["$empty?"]()},
v.$$arity=0);return(a.def(c,"$max_severity",m=function(){var a;return F(this["$empty?"]())?p:q(this.messages,"map",[],(a=function(a){null==a&&(a=p);return e(d,"Severity").$const_get(a["$[]"]("severity"))},a.$$s=this,a.$$arity=1,a)).$max()},m.$$arity=0),p)&&"max_severity"})(f[0],h("::","Logger"),f);(function(c,$super,f){c=r(c,$super,"NullLogger");var d=[c].concat(f),n,h;c.$$prototype.max_severity=p;c.$attr_reader("max_severity");a.def(c,"$initialize",n=function(){var c=[e(d,"WARN")];q(this,"level=",
a.to_a(c));return c[b(c.length,1)]},n.$$arity=0);return(a.def(c,"$add",h=function(a,b,c){var f;F(g(a=F(f=a)?f:e(d,"UNKNOWN"),this.max_severity=F(f=this.max_severity)?f:a))&&(this.max_severity=a);return!0},h.$$arity=-2),p)&&"add"})(f[0],h("::","Logger"),f);(function(b,f){b=m(b,"LoggerManager");f=[b].concat(f);b.logger_class=e(f,"Logger");(function(b,e){var f=[b].concat(e),d,n,g;b.$attr_accessor("logger_class");a.def(b,"$logger",d=function(a){var b;null==this.logger&&(this.logger=p);null==this.logger_class&&
(this.logger_class=p);null==c.stderr&&(c.stderr=p);null==a&&(a=c.stderr);this.$memoize_logger();return this.logger=F(b=this.logger)?b:this.logger_class.$new(a)},d.$$arity=-1);a.def(b,"$logger=",n=function(a){null==this.logger_class&&(this.logger_class=p);null==c.stderr&&(c.stderr=p);return this.logger=F(a)?a:this.logger_class.$new(c.stderr)},n.$$arity=1);b.$private();return(a.def(b,"$memoize_logger",g=function(){var b=a.get_singleton_class(this);[b].concat(f);a.alias(b,"logger","logger");return b.$attr_reader("logger")},
g.$$arity=0),p)&&"memoize_logger"})(a.get_singleton_class(b),f)})(f[0],f);(function(b,c){b=m(b,"Logging");var f=[b].concat(c),d,g,r;a.defs(b,"$included",d=function(a){return a.$extend(e(f,"Logging"))},d.$$arity=1);b.$private_class_method("included");a.def(b,"$logger",g=function(){return e(f,"LoggerManager").$logger()},g.$$arity=0);a.def(b,"$message_with_context",r=function(a,b){null==b&&(b=n([],{}));return n(["text"],{text:a}).$merge(b).$extend(h(e(f,"Logger"),"AutoFormattingMessage"))},r.$$arity=
-2)})(f[0],f)}(l[0],l)};Opal.modules["asciidoctor/rx"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],k=a.nil,l=a.const_get_qualified,p=a.const_get_relative,h=a.module,e=a.hash2,m=a.send,r=a.truthy,q=a.hash;a.add_stubs("$== $join $to_a $new $empty? $escape $[]= $-".split(" "));return function(d,g){d=h(d,"Asciidoctor");var c=[d].concat(g),f,n;(function(a,b){[h(a,"Rx")].concat(b);k})(c[0],c);a.const_set(c[0],"AuthorInfoLineRx",new RegExp("^("+p(c,
"CG_WORD")+"["+p(c,"CC_WORD")+"\\-'.]*)(?: +("+p(c,"CG_WORD")+"["+p(c,"CC_WORD")+"\\-'.]*))?(?: +("+p(c,"CG_WORD")+"["+p(c,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(c[0],"AuthorDelimiterRx",/;(?: |$)/);a.const_set(c[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+p(c,"CC_ANY")+"*?),)? *(?!:)("+p(c,"CC_ANY")+"*?)(?: *(?!^),?: *("+p(c,"CC_ANY")+"*))?$"));a.const_set(c[0],"ManpageTitleVolnumRx",new RegExp("^("+p(c,"CC_ANY")+"+?) *\\( *("+p(c,"CC_ANY")+"+?) *\\)$"));a.const_set(c[0],"ManpageNamePurposeRx",
new RegExp("^("+p(c,"CC_ANY")+"+?) +- +("+p(c,"CC_ANY")+"+)$"));a.const_set(c[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+p(c,"CC_ANY")+"+)?\\]$"));a.const_set(c[0],"EvalExpressionRx",new RegExp("^("+p(c,"CC_ANY")+"+?) *([=!><]=|[><]) *("+p(c,"CC_ANY")+"+)$"));a.const_set(c[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+p(c,"CC_ANY")+"+)?\\]$"));a.const_set(c[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m);
a.const_set(c[0],"AttributeEntryRx",new RegExp("^:(!?"+p(c,"CG_WORD")+"[^:]*):(?:[ \\t]+("+p(c,"CC_ANY")+"*))?$"));a.const_set(c[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+p(c,"CC_WORD")+"-]"));p(c,"RUBY_ENGINE")["$=="]("opal")?a.const_set(c[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+p(c,"CC_ALL")+"*)\\]$")):k;a.const_set(c[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+p(c,"CG_WORD")+"["+p(c,"CC_WORD")+"-]*|(set|counter2?):"+p(c,"CC_ANY")+"+?)(\\\\)?\\}"));
a.const_set(c[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+p(c,"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*)(?:, *("+p(c,"CC_ANY")+"+))?)\\]\\]$"));a.const_set(c[0],"BlockAttributeListRx",new RegExp("^\\[(|["+p(c,"CC_WORD")+".#%{,\"']"+p(c,"CC_ANY")+"*)\\]$"));a.const_set(c[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+p(c,"CC_WORD")+".#%{,\"']"+p(c,"CC_ANY")+"*|\\[(?:|["+p(c,"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*(?:, *"+p(c,"CC_ANY")+"+)?)\\])\\]$"));a.const_set(c[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+
p(c,"CC_ANY")+"*)$"));a.const_set(c[0],"AdmonitionParagraphRx",new RegExp("^("+p(c,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+"));a.const_set(c[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+p(c,"CC_ANY")+"*)$"));a.const_set(c[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+p(c,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$"));a.const_set(c[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+p(c,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$"));a.const_set(c[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+
p(c,"CC_ANY")+"*?"+p(c,"CG_ALNUM")+p(c,"CC_ANY")+"*)$"));a.const_set(c[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+p(c,"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*)(?:, *("+p(c,"CC_ANY")+"+))?\\]\\]$"));a.const_set(c[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+p(c,"CC_WORD")+"\\-.]+?"));a.const_set(c[0],"SectionLevelStyleRx",/^sect\d$/);a.const_set(c[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+
p(c,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"));a.const_set(c[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+p(c,"CC_ANY")+"*)$"));a.const_set(c[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+p(c,"CC_ANY")+"*)$"));a.const_set(c[0],"OrderedListMarkerRxMap",e(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.const_set(c[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+p(c,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+p(c,"CC_ANY")+"*)$)"));a.const_set(c[0],"DescriptionListSiblingRx",e(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+p(c,"CC_ANY")+"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+p(c,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+p(c,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+p(c,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+
p(c,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+p(c,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+p(c,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+p(c,"CC_ANY")+"*)$)")}));a.const_set(c[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+p(c,"CC_ANY")+"*)$"));a.const_set(c[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/);a.const_set(c[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)");a.const_set(c[0],"CalloutExtractRxMap",
m(l("::","Hash"),"new",[],(f=function(e,f){null==e&&(e=k);null==f&&(f=k);f=[f,new RegExp("("+(r(f["$empty?"]())?"":""+l("::","Regexp").$escape(f)+" ?")+")?"+p(c,"CalloutExtractRxt"))];m(e,"[]=",a.to_a(f));return f[b(f.length,1)]},f.$$s=d,f.$$arity=2,f)));a.const_set(c[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+p(c,"CC_EOL")+")"));a.const_set(c[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+
p(c,"CC_EOL")+")"));a.const_set(c[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+p(c,"CC_EOL")+")");a.const_set(c[0],"CalloutSourceRxMap",m(l("::","Hash"),"new",[],(n=function(e,f){null==e&&(e=k);null==f&&(f=k);f=[f,new RegExp("("+(r(f["$empty?"]())?"":""+l("::","Regexp").$escape(f)+" ?")+")?"+p(c,"CalloutSourceRxt"))];m(e,"[]=",a.to_a(f));return f[b(f.length,1)]},n.$$s=d,n.$$arity=2,n)));a.const_set(c[0],"ListRxMap",e(["ulist","olist","dlist","colist"],{ulist:p(c,
"UnorderedListRx"),olist:p(c,"OrderedListRx"),dlist:p(c,"DescriptionListRx"),colist:p(c,"CalloutListRx")}));a.const_set(c[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(c[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(c[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(c[0],"CustomBlockMacroRx",
new RegExp("^("+p(c,"CG_WORD")+"["+p(c,"CC_WORD")+"-]*)::(|\\S|\\S"+p(c,"CC_ANY")+"*?\\S)\\[("+p(c,"CC_ANY")+"+)?\\]$"));a.const_set(c[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+p(c,"CC_ANY")+"*?\\S)\\[("+p(c,"CC_ANY")+"+)?\\]$"));a.const_set(c[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+p(c,"CC_ANY")+"+)?\\]$"));a.const_set(c[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+p(c,"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*)(?:, *("+p(c,"CC_ANY")+"+?))?\\]\\]|anchor:(["+p(c,
"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+p(c,"CC_ANY")+"*?[^\\\\])\\]))"));a.const_set(c[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+p(c,"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*)(?:, *("+p(c,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+p(c,"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+p(c,"CC_ANY")+"*?[^\\\\])\\])"));a.const_set(c[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+p(c,"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*)(?:, *("+p(c,"CC_ANY")+"+?))?\\]\\]"));
a.const_set(c[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+p(c,"CC_ALPHA")+"_:]["+p(c,"CC_WORD")+"\\-:.]*)(?:, *("+p(c,"CC_ANY")+"+?))?\\]\\]\\]"));a.const_set(c[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+p(c,"CG_WORD")+"(?:&amp;|["+p(c,"CC_WORD")+"\\-.%+])*@"+p(c,"CG_ALNUM")+"["+p(c,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b"));a.const_set(c[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+p(c,"CC_WORD")+"-]+)?)\\[(?:|("+p(c,"CC_ALL")+"*?[^\\\\]))\\](?!</a>)","m"));a.const_set(c[0],
"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+p(c,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(c[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+p(c,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+p(c,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(c[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+p(c,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(c[0],"InlineLinkRx",new RegExp("(^|link:|"+p(c,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|"+
p(c,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(c[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+p(c,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(c[0],"MacroNameRx",new RegExp("^"+p(c,"CG_WORD")+"["+p(c,"CC_WORD")+"-]*$"));a.const_set(c[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+p(c,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(c[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+p(c,"CG_WORD")+"|["+p(c,"CC_WORD")+
"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+p(c,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(c[0],"InlineMenuRx",new RegExp('\\\\?"(['+p(c,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));a.const_set(c[0],"InlinePassRx",q(!1,["+","`",new RegExp("(^|[^"+p(c,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+p(c,"CC_ALL")+"*?\\S)\\4)(?!"+p(c,"CG_WORD")+")","m")],!0,["`",k,new RegExp("(^|[^`"+p(c,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+p(c,"CC_ALL")+"*?\\S)\\4)(?![`"+p(c,"CC_WORD")+
"])","m")]));a.const_set(c[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+p(c,"CC_ALL")+"*?\\S)\\+$","m"));a.const_set(c[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+p(c,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+p(c,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(c[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+p(c,"CC_WORD")+"#/.:{]"+p(c,"CC_ALL")+"*?)&gt;&gt;|xref:(["+p(c,"CC_WORD")+"#/.:{]"+p(c,"CC_ALL")+"*?)\\[(?:\\]|("+
p(c,"CC_ALL")+"*?[^\\\\])\\]))","m"));p(c,"RUBY_ENGINE")["$=="]("opal")?a.const_set(c[0],"HardLineBreakRx",new RegExp("^("+p(c,"CC_ANY")+"*) \\+$","m")):k;a.const_set(c[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(c[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(c[0],"BlankLineRx",/\n{2,}/);a.const_set(c[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(c[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(c[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);
a.const_set(c[0],"SubModifierSniffRx",/[+-]/);a.const_set(c[0],"TrailingDigitsRx",/\d+$/);a.const_set(c[0],"UriSniffRx",new RegExp("^"+p(c,"CG_ALPHA")+"["+p(c,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(c[0],"XmlSanitizeRx",/<[^>]+>/)}(g[0],g)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===
typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var h=[],e=a.nil,m=a.const_get_qualified,r=a.const_get_relative,q=a.slice,F=a.module,n=a.hash2,c=a.hash,f=a.truthy,t=a.send,u=a.gvars;a.add_stubs("$freeze $+ $keys $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $clear $split $apply_subs $== $gsub $match? $compat_mode $convert_quoted_text $attributes $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $info $squeeze $delete $reject $start_with? $do_replacement $extensions $inline_macros? $inline_macros $regexp $instance $slice $length $names $config $merge $[]= $- $normalize_text $parse_attributes $process_method $expand_subs $text $text= $convert $class $strip $> $index $min $compact $end_with? $map $chop $new $pop $rstrip $register $tr $basename $parse $lstrip $split_simple_csv $partition $extract_attributes_from_text $sub $encode_uri_component $style $extname? $rindex $info? $catalog $fetch $outfilesuffix $natural_xrefs $resolve_id $find $footnotes $id $< $size $<< $attr? $attr $to_s $read_next_id $callouts $syntax_highlighter $highlight? $sub_source $extract_callouts $name $to_sym $to_i $resolve_lines_to_highlight $highlight $nil_or_empty? $restore_callouts $count $to_a $| $sort $* $parse_quoted_text_attributes $resolve_pass_subs $extract_inner_passthrough $basebackend? $error $chr $drop $& $resolve_subs $resolve_block_subs $parse_into $private $=~ $shorthand_property_syntax $each_char".split(" "));
return function(d,h){d=[F(d,"Asciidoctor")].concat(h);(function(d,h){d=F(d,"Substitutors");var x=[d].concat(h),v,R,z,L,E,O,U,y,W,B,D,pa,A,ra,I,G,J,K,H,aa,na,qa,ba,M,P,Q,la,va,ha,Aa,Ka;a.const_set(x[0],"SpecialCharsRx",/[<&>]/);a.const_set(x[0],"SpecialCharsTr",n([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(x[0],"QuotedTextSniffRx",c(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(x[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(x[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();
a.const_set(x[0],"NO_SUBS",[]).$freeze();a.const_set(x[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(x[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(x[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();a.const_set(x[0],"SUB_GROUPS",n(["none","normal","verbatim","specialchars"],{none:r(x,"NO_SUBS"),normal:r(x,"NORMAL_SUBS"),verbatim:r(x,"VERBATIM_SUBS"),specialchars:r(x,
"BASIC_SUBS")}));a.const_set(x[0],"SUB_HINTS",n("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(x[0],"SUB_OPTIONS",n(["block","inline"],{block:b(b(r(x,"SUB_GROUPS").$keys(),r(x,"NORMAL_SUBS")),["callouts"]),inline:b(r(x,"SUB_GROUPS").$keys(),r(x,"NORMAL_SUBS"))}));a.const_set(x[0],"CAN","\u0018");a.const_set(x[0],"DEL","\u007f");a.const_set(x[0],"PASS_START","\u0096");a.const_set(x[0],"PASS_END",
"\u0097");a.const_set(x[0],"PassSlotRx",new RegExp(""+r(x,"PASS_START")+"(\\d+)"+r(x,"PASS_END")));a.const_set(x[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+r(x,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+r(x,"PASS_END")+"</span>"));a.const_set(x[0],"RS","\\");a.const_set(x[0],"R_SB","]");a.const_set(x[0],"ESC_R_SB","\\]");a.const_set(x[0],"PLUS","+");a.def(d,"$apply_subs",v=function(a,b){var c,d,g=e,n=e,h=e;null==this.passthroughs&&(this.passthroughs=e);null==this.passthroughs_locked&&
(this.passthroughs_locked=e);null==b&&(b=r(x,"NORMAL_SUBS"));if(f(f(c=a["$empty?"]())?c:b["$!"]()))return a;f(g=m("::","Array")["$==="](a))&&(a=f(a["$[]"](1))?a.$join(r(x,"LF")):a["$[]"](0));f(b["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),f(this.passthroughs["$empty?"]())||(n=this.passthroughs,this.passthroughs_locked=f(c=this.passthroughs_locked)?c:h=!0));t(b,"each",[],(d=function(c){var g=d.$$s||this;null==c&&(c=e);var n=c;return"specialcharacters"["$==="](n)?a=g.$sub_specialchars(a):
"quotes"["$==="](n)?a=g.$sub_quotes(a):"attributes"["$==="](n)?f(a["$include?"](r(x,"ATTR_REF_HEAD")))?a=g.$sub_attributes(a):e:"replacements"["$==="](n)?a=g.$sub_replacements(a):"macros"["$==="](n)?a=g.$sub_macros(a):"highlight"["$==="](n)?a=g.$highlight_source(a,b["$include?"]("callouts")):"callouts"["$==="](n)?f(b["$include?"]("highlight"))?e:a=g.$sub_callouts(a):"post_replacements"["$==="](n)?a=g.$sub_post_replacements(a):g.$logger().$warn("unknown substitution type "+c)},d.$$s=this,d.$$arity=
1,d));f(n)&&(a=this.$restore_passthroughs(a),f(h)&&(n.$clear(),this.passthroughs_locked=e));return f(g)?a.$split(r(x,"LF"),-1):a},v.$$arity=-2);a.def(d,"$apply_normal_subs",R=function(a){return this.$apply_subs(a,r(x,"NORMAL_SUBS"))},R.$$arity=1);a.def(d,"$apply_header_subs",z=function(a){return this.$apply_subs(a,r(x,"HEADER_SUBS"))},z.$$arity=1);a.alias(d,"apply_title_subs","apply_subs");a.def(d,"$apply_reftext_subs",L=function(a){return this.$apply_subs(a,r(x,"REFTEXT_SUBS"))},L.$$arity=1);r(x,
"RUBY_ENGINE")["$=="]("opal")?a.def(d,"$sub_specialchars",E=function(a){var b,e;return f(f(b=f(e=a["$include?"](">"))?e:a["$include?"]("&"))?b:a["$include?"]("<"))?a.$gsub(r(x,"SpecialCharsRx"),r(x,"SpecialCharsTr")):a},E.$$arity=1):e;a.alias(d,"sub_specialcharacters","sub_specialchars");a.def(d,"$sub_quotes",O=function(a){var b,c=e;null==this.document&&(this.document=e);f(r(x,"QuotedTextSniffRx")["$[]"](c=this.document.$compat_mode())["$match?"](a))&&t(r(x,"QUOTE_SUBS")["$[]"](c),"each",[],(b=function(c,
f,d){var g=b.$$s||this,n;null==c&&(c=e);null==f&&(f=e);null==d&&(d=e);return a=t(a,"gsub",[d],(n=function(){var a=n.$$s||this;null==u["~"]&&(u["~"]=e);return a.$convert_quoted_text(u["~"],c,f)},n.$$s=g,n.$$arity=0,n))},b.$$s=this,b.$$arity=3,b));return a},O.$$arity=1);a.def(d,"$sub_attributes",U=function(b,c){var d,g,h,k,l=e,p=e,v=e,m=e,q=e,R=e,z=e,F=e;null==this.document&&(this.document=e);null==c&&(c=n([],{}));l=this.document.$attributes();p=v=m=q=R=z=e;b=t(b,"gsub",[r(x,"AttributeReferenceRx")],
(d=function(){var b=d.$$s||this,g,n,h,k,F=e,Z=e,L=e,E=e;null==b.document&&(b.document=e);return f(f(g=((n=u["~"])===e?e:n["$[]"](1))["$=="](r(x,"RS")))?g:((n=u["~"])===e?e:n["$[]"](4))["$=="](r(x,"RS")))?"{"+((g=u["~"])===e?e:g["$[]"](2))+"}":f((g=u["~"])===e?e:g["$[]"](3))?function(){F=(Z=((g=u["~"])===e?e:g["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](F)?(n=r(x,"Parser").$store_attribute(Z["$[]"](0),f(h=Z["$[]"](1))?h:"",b.document),g=a.to_ary(n),L=null==g[1]?e:g[1],n,f(f(g=L)?g:(R=f(n=
R)?n:f(h=l["$[]"]("attribute-undefined"))?h:r(x,"Compliance").$attribute_undefined())["$!="]("drop-line"))?p=q=r(x,"DEL"):p=v=r(x,"CAN")):"counter2"["$==="](F)?(t(b.document,"counter",a.to_a(Z)),p=q=r(x,"DEL")):t(b.document,"counter",a.to_a(Z))}():f(l["$key?"](E=((g=u["~"])===e?e:g["$[]"](2)).$downcase()))?l["$[]"](E):f(L=r(x,"INTRINSIC_ATTRIBUTES")["$[]"](E))?L:function(){F=z=f(g=z)?g:f(n=f(h=c["$[]"]("attribute_missing"))?h:l["$[]"]("attribute-missing"))?n:r(x,"Compliance").$attribute_missing();
if("drop"["$==="](F))return p=q=r(x,"DEL");if("drop-line"["$==="](F))return(m=f(g=m)?g:f(n=c["$[]"]("drop_line_severity"))?n:"info")["$=="]("info")&&t(b.$logger(),"info",[],(k=function(){return"dropping line containing reference to missing attribute: "+E},k.$$s=b,k.$$arity=0,k)),p=v=r(x,"CAN");"warn"["$==="](F)&&b.$logger().$warn("skipping reference to missing attribute: "+E);return(g=u["~"])===e?e:g["$[]"](0)}()},d.$$s=this,d.$$arity=0,d));return f(p)?f(q)?(F=b.$squeeze(r(x,"DEL")).$split(r(x,"LF"),
-1),f(v)?t(F,"reject",[],(g=function(a){var b,c,d;null==a&&(a=e);return f(b=f(c=f(d=a["$=="](r(x,"DEL")))?d:a["$=="](r(x,"CAN")))?c:a["$start_with?"](r(x,"CAN")))?b:a["$include?"](r(x,"CAN"))},g.$$s=this,g.$$arity=1,g)).$join(r(x,"LF")).$delete(r(x,"DEL")):t(F,"reject",[],(h=function(a){null==a&&(a=e);return a["$=="](r(x,"DEL"))},h.$$s=this,h.$$arity=1,h)).$join(r(x,"LF")).$delete(r(x,"DEL"))):f(b["$include?"](r(x,"LF")))?t(b.$split(r(x,"LF"),-1),"reject",[],(k=function(a){var b,c;null==a&&(a=e);
return f(b=f(c=a["$=="](r(x,"CAN")))?c:a["$start_with?"](r(x,"CAN")))?b:a["$include?"](r(x,"CAN"))},k.$$s=this,k.$$arity=1,k)).$join(r(x,"LF")):"":b},U.$$arity=-2);a.def(d,"$sub_replacements",y=function(a){var b;f(r(x,"ReplaceableTextRx")["$match?"](a))&&t(r(x,"REPLACEMENTS"),"each",[],(b=function(c,f,d){var g=b.$$s||this,n;null==c&&(c=e);null==f&&(f=e);null==d&&(d=e);return a=t(a,"gsub",[c],(n=function(){var a=n.$$s||this;null==u["~"]&&(u["~"]=e);return a.$do_replacement(u["~"],f,d)},n.$$s=g,n.$$arity=
0,n))},b.$$s=this,b.$$arity=3,b));return a},y.$$arity=1);a.def(d,"$sub_macros",W=function(c){var d,h,l,p,v,R,F,z,L,E,O,U,y,W,Y,w=e,C=e,ma=e,N=e,Z=e,oa=e,db=e;null==this.document&&(this.document=e);null==this.context&&(this.context=e);null==this.parent&&(this.parent=e);w=c["$include?"]("[");C=c["$include?"](":");ma=f(d=w)?C:d;N=f(d=ma)?c["$include?"](":["):d;Z=(oa=this.document).$attributes();f(f(d=db=oa.$extensions())?db["$inline_macros?"]():d)&&t(db.$inline_macros(),"each",[],(h=function(b){var d=
h.$$s||this,w;null==b&&(b=e);return c=t(c,"gsub",[b.$instance().$regexp()],(w=function(){var c=w.$$s||this,d,h,k,l=e,bb=e,p=e,v=e,C=e,m=e,cb=e,q=e,R=e;null==u["~"]&&(u["~"]=e);if(f((l=(d=u["~"])===e?e:d["$[]"](0))["$start_with?"](r(x,"RS"))))return((d=u["~"])===e?e:d["$[]"](0)).$slice(1,((d=u["~"])===e?e:d["$[]"](0)).$length());if(f(u["~"].$names()["$empty?"]()))d=[(h=u["~"])===e?e:h["$[]"](1),(h=u["~"])===e?e:h["$[]"](2)];else{a:{try{var F=u["~"]["$[]"]("target");break a}catch(eb){if(a.rescue(eb,
[r(x,"StandardError")]))try{F=e;break a}finally{a.pop_exception()}else throw eb;}F=void 0}d=F;a:{try{var z=u["~"]["$[]"]("content");break a}catch(eb){if(a.rescue(eb,[r(x,"StandardError")]))try{z=e;break a}finally{a.pop_exception()}else throw eb;}z=void 0}d=[d,z]}bb=d[0];p=d[1];d;v=f(C=(m=b.$config())["$[]"]("default_attrs"))?C.$merge():n([],{});f(p)&&(f(p["$empty?"]())?m["$[]"]("content_model")["$=="]("attributes")||(cb=["text",p],t(v,"[]=",a.to_a(cb)),cb[g(cb.length,1)]):(p=c.$normalize_text(p,!0,
!0),m["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(p,f(d=f(h=m["$[]"]("positional_attrs"))?h:m["$[]"]("pos_attrs"))?d:[],n(["into"],{into:v})):(cb=["text",p],t(v,"[]=",a.to_a(cb)),cb[g(cb.length,1)])),bb=f(d=bb)?d:m["$[]"]("format")["$=="]("short")?p:bb);return f(r(x,"Inline")["$==="](q=b.$process_method()["$[]"](c,bb,v)))?(f(f(d=R=q.$attributes().$delete("subs"))?R=c.$expand_subs(R,"custom inline macro"):d)&&(cb=[c.$apply_subs(q.$text(),R)],t(q,"text=",a.to_a(cb)),cb[g(cb.length,
1)]),q.$convert()):f(q)?(t(c.$logger(),"info",[],(k=function(){return"expected substitution value for custom inline macro to be of type Inline; got "+q.$class()+": "+l},k.$$s=c,k.$$arity=0,k)),q):""},w.$$s=d,w.$$arity=0,w))},h.$$s=this,h.$$arity=1,h));f(Z["$key?"]("experimental"))&&(f(f(d=N)?f(l=c["$include?"]("kbd:"))?l:c["$include?"]("btn:"):d)&&(c=t(c,"gsub",[r(x,"InlineKbdBtnMacroRx")],(p=function(){var c=p.$$s||this,d,h,w,l=e,v=e,C=e;C=e;return f((d=u["~"])===e?e:d["$[]"](1))?((d=u["~"])===e?
e:d["$[]"](0)).$slice(1,((d=u["~"])===e?e:d["$[]"](0)).$length()):((d=u["~"])===e?e:d["$[]"](2))["$=="]("kbd")?(f((l=((d=u["~"])===e?e:d["$[]"](3)).$strip())["$include?"](r(x,"R_SB")))&&(l=l.$gsub(r(x,"ESC_R_SB"),r(x,"R_SB"))),f(f(d=k(l.$length(),1))?v=f(v=l.$index(",",1))?[v,l.$index("+",1)].$compact().$min():l.$index("+",1):d)?(C=l.$slice(v,1),f(l["$end_with?"](C))?(l=t(l.$chop().$split(C,-1),"map",[],(h=function(a){null==a&&(a=e);return a.$strip()},h.$$s=c,h.$$arity=1,h)),C=[-1,b(l["$[]"](-1),
C)],t(l,"[]=",a.to_a(C)),C[g(C.length,1)]):l=t(l.$split(C),"map",[],(w=function(a){null==a&&(a=e);return a.$strip()},w.$$s=c,w.$$arity=1,w))):l=[l],r(x,"Inline").$new(c,"kbd",e,n(["attributes"],{attributes:n(["keys"],{keys:l})})).$convert()):r(x,"Inline").$new(c,"button",c.$normalize_text((d=u["~"])===e?e:d["$[]"](3),!0,!0)).$convert()},p.$$s=this,p.$$arity=0,p))),f(f(d=ma)?c["$include?"]("menu:"):d)&&(c=t(c,"gsub",[r(x,"InlineMenuMacroRx")],(v=function(){var a=v.$$s||this,b,c,d=e,g=e,h=e;h=g=e;if(f(((b=
u["~"])===e?e:b["$[]"](0))["$start_with?"](r(x,"RS"))))return((b=u["~"])===e?e:b["$[]"](0)).$slice(1,((b=u["~"])===e?e:b["$[]"](0)).$length());d=(b=u["~"])===e?e:b["$[]"](1);f(g=(b=u["~"])===e?e:b["$[]"](2))?(f(g["$include?"](r(x,"R_SB")))&&(g=g.$gsub(r(x,"ESC_R_SB"),r(x,"R_SB"))),f(h=f(g["$include?"]("&gt;"))?"&gt;":f(g["$include?"](","))?",":e)?(g=t(g.$split(h),"map",[],(c=function(a){null==a&&(a=e);return a.$strip()},c.$$s=a,c.$$arity=1,c)),h=g.$pop()):(b=[[],g.$rstrip()],g=b[0],h=b[1],b)):(b=
[[],e],g=b[0],h=b[1],b);return r(x,"Inline").$new(a,"menu",e,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],{menu:d,submenus:g,menuitem:h})})).$convert()},v.$$s=this,v.$$arity=0,v))),f(f(d=c["$include?"]('"'))?c["$include?"]("&gt;"):d)&&(c=t(c,"gsub",[r(x,"InlineMenuRx")],(R=function(){var b=R.$$s||this,c,d,g,h=e,w=e;var k=e;if(f(((c=u["~"])===e?e:c["$[]"](0))["$start_with?"](r(x,"RS"))))return((c=u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length());k=t(((d=
u["~"])===e?e:d["$[]"](1)).$split("&gt;"),"map",[],(g=function(a){null==a&&(a=e);return a.$strip()},g.$$s=b,g.$$arity=1,g));c=a.to_ary(k);h=null==c[0]?e:c[0];w=q.call(c,1);k;k=w.$pop();return r(x,"Inline").$new(b,"menu",e,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],{menu:h,submenus:w,menuitem:k})})).$convert()},R.$$s=this,R.$$arity=0,R))));f(f(d=ma)?f(l=c["$include?"]("image:"))?l:c["$include?"]("icon:"):d)&&(c=t(c,"gsub",[r(x,"InlineImageMacroRx")],(F=function(){var b=F.$$s||this,
c,d,h,w=e;if(f(((c=u["~"])===e?e:c["$[]"](0))["$start_with?"](r(x,"RS"))))return((c=u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length());f(((c=u["~"])===e?e:c["$[]"](0))["$start_with?"]("icon:"))?(c=["icon",["size"]],d=c[0],h=c[1]):(c=["image",["alt","width","height"]],d=c[0],h=c[1]);c;var k=(c=u["~"])===e?e:c["$[]"](1);h=b.$parse_attributes((c=u["~"])===e?e:c["$[]"](2),h,n(["unescape_input"],{unescape_input:!0}));d["$=="]("icon")||(oa.$register("images",k),w=["imagesdir",
Z["$[]"]("imagesdir")],t(h,"[]=",a.to_a(w)),w[g(w.length,1)]);f(c=h["$[]"]("alt"))?c:(w=["alt",(w=["default-alt",r(x,"Helpers").$basename(k,!0).$tr("_-"," ")],t(h,"[]=",a.to_a(w)),w[g(w.length,1)])],t(h,"[]=",a.to_a(w)),w[g(w.length,1)]);return r(x,"Inline").$new(b,"image",e,n(["type","target","attributes"],{type:d,target:k,attributes:h})).$convert()},F.$$s=this,F.$$arity=0,F)));f(f(d=f(l=c["$include?"]("(("))?c["$include?"]("))"):l)?d:f(l=N)?c["$include?"]("dexterm"):l)&&(c=t(c,"gsub",[r(x,"InlineIndextermMacroRx")],
(z=function(){var b=z.$$s||this,c,d,h,w,k=e,l=e,p=e,v=e,C=e,m=e,R=e,F=e,Z=e,N=e,ma=e,L=e,E=e,O=e;return function(){k=(c=u["~"])===e?e:c["$[]"](1);if("indexterm"["$==="](k)){if(f(((c=u["~"])===e?e:c["$[]"](0))["$start_with?"](r(x,"RS"))))return((c=u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length());f((l=b.$normalize_text((c=u["~"])===e?e:c["$[]"](2),!0,!0))["$include?"]("="))?f(p=(v=r(x,"AttributeList").$new(l,b).$parse())["$[]"](1))?(C=["terms",[p]],t(v,"[]=",a.to_a(C)),
C[g(C.length,1)],f(m=v["$[]"]("see-also"))&&(C=["see-also",function(){return f(m["$include?"](","))?t(m.$split(","),"map",[],(d=function(a){null==a&&(a=e);return a.$lstrip()},d.$$s=b,d.$$arity=1,d)):[m]}()],t(v,"[]=",a.to_a(C)),C[g(C.length,1)])):v=n(["terms"],{terms:l}):v=n(["terms"],{terms:b.$split_simple_csv(l)});return r(x,"Inline").$new(b,"indexterm",e,n(["attributes"],{attributes:v})).$convert()}if("indexterm2"["$==="](k)){if(f(((c=u["~"])===e?e:c["$[]"](0))["$start_with?"](r(x,"RS"))))return((c=
u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length());f((R=b.$normalize_text((c=u["~"])===e?e:c["$[]"](2),!0,!0))["$include?"]("="))&&(R=f(c=f(h=(v=r(x,"AttributeList").$new(R,b).$parse())["$[]"](1))?h:v=e)?c:R,f(f(c=v)?m=v["$[]"]("see-also"):c)&&(C=["see-also",function(){return f(m["$include?"](","))?t(m.$split(","),"map",[],(w=function(a){null==a&&(a=e);return a.$lstrip()},w.$$s=b,w.$$arity=1,w)):[m]}()],t(v,"[]=",a.to_a(C)),C[g(C.length,1)]));return r(x,"Inline").$new(b,
"indexterm",R,n(["attributes","type"],{attributes:v,type:"visible"})).$convert()}F=(c=u["~"])===e?e:c["$[]"](3);if(f(((c=u["~"])===e?e:c["$[]"](0))["$start_with?"](r(x,"RS"))))if(f(f(c=F["$start_with?"]("("))?F["$end_with?"](")"):c))F=F.$slice(1,g(F.$length(),2)),c=[!0,"(",")"],Z=c[0],N=c[1],ma=c[2],c;else return((c=u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length());else Z=!0,f(F["$start_with?"]("("))?(f(F["$end_with?"](")"))?(c=[F.$slice(1,g(F.$length(),2)),!1],F=c[0],
Z=c[1]):(c=[F.$slice(1,F.$length()),"(",""],F=c[0],N=c[1],ma=c[2]),c):f(F["$end_with?"](")"))&&(c=[F.$chop(),"",")"],F=c[0],N=c[1],ma=c[2],c);f(Z)?(f((R=b.$normalize_text(F,!0))["$include?"](";&"))&&(f(R["$include?"](" &gt;&gt; "))?(h=R.$partition(" &gt;&gt; "),c=a.to_ary(h),R=null==c[0]?e:c[0],L=null==c[2]?e:c[2],h,v=n(["see"],{see:L})):f(R["$include?"](" &amp;&gt; "))&&(h=R.$split(" &amp;&gt; "),c=a.to_ary(h),R=null==c[0]?e:c[0],m=q.call(c,1),h,v=n(["see-also"],{"see-also":m}))),E=r(x,"Inline").$new(b,
"indexterm",R,n(["attributes","type"],{attributes:v,type:"visible"})).$convert()):(v=n([],{}),f((O=b.$normalize_text(F,!0))["$include?"](";&"))&&(f(O["$include?"](" &gt;&gt; "))?(h=O.$partition(" &gt;&gt; "),c=a.to_ary(h),O=null==c[0]?e:c[0],L=null==c[2]?e:c[2],h,C=["see",L],t(v,"[]=",a.to_a(C)),C[g(C.length,1)]):f(O["$include?"](" &amp;&gt; "))&&(h=O.$split(" &amp;&gt; "),c=a.to_ary(h),O=null==c[0]?e:c[0],m=q.call(c,1),h,C=["see-also",m],t(v,"[]=",a.to_a(C)),C[g(C.length,1)])),C=["terms",b.$split_simple_csv(O)],
t(v,"[]=",a.to_a(C)),C[g(C.length,1)],E=r(x,"Inline").$new(b,"indexterm",e,n(["attributes"],{attributes:v})).$convert());return f(N)?""+N+E+ma:E}()},z.$$s=this,z.$$arity=0,z)));f(f(d=C)?c["$include?"]("://"):d)&&(c=t(c,"gsub",[r(x,"InlineLinkRx")],(L=function(){var c=L.$$s||this,d,h,w,k=e,l=e,p=e,v=e;if(f((w=(d=u["~"])===e?e:d["$[]"](2))["$start_with?"](r(x,"RS"))))return""+((d=u["~"])===e?e:d["$[]"](1))+w.$slice(1,w.$length())+((d=u["~"])===e?e:d["$[]"](4));d=[(h=u["~"])===e?e:h["$[]"](1),""];var C=
d[0];var m=d[1];d;if(f((d=u["~"])===e?e:d["$[]"](4)))C["$=="]("link:")&&(C=""),f((k=(d=u["~"])===e?e:d["$[]"](4))["$empty?"]())&&(k=e);else{var q=C;if("link:"["$==="](q)||'"'["$==="](q)||"'"["$==="](q))return(d=u["~"])===e?e:d["$[]"](0);q=(d=u["~"])===e?e:d["$[]"](3);if(")"["$==="](q)||"?"["$==="](q)||"!"["$==="](q)){if(w=w.$chop(),f((d=(m=(h=u["~"])===e?e:h["$[]"](3))["$=="](")"))?w["$end_with?"](".","?","!"):(m=(h=u["~"])===e?e:h["$[]"](3))["$=="](")"))&&(m=b(w["$[]"](-1),m),w=w.$chop()),f(w["$end_with?"]("://")))return(d=
u["~"])===e?e:d["$[]"](0)}else if(";"["$==="](q)){if(f(f(d=C["$start_with?"]("&lt;"))?w["$end_with?"]("&gt;"):d)?(C=C.$slice(4,C.$length()),w=w.$slice(0,g(w.$length(),4))):f((w=w.$chop())["$end_with?"](")"))?(w=w.$chop(),m=");"):m=";",f(w["$end_with?"]("://")))return(d=u["~"])===e?e:d["$[]"](0)}else if(":"["$==="](q)&&(f((w=w.$chop())["$end_with?"](")"))?(w=w.$chop(),m="):"):m=":",f(w["$end_with?"]("://"))))return(d=u["~"])===e?e:d["$[]"](0)}d=[e,n(["type"],{type:"link"})];q=d[0];var R=d[1];d;f(k)?
(f(k["$include?"](r(x,"R_SB")))&&(l=k=k.$gsub(r(x,"ESC_R_SB"),r(x,"R_SB"))),f(f(d=oa.$compat_mode()["$!"]())?k["$include?"]("="):d)&&(h=c.$extract_attributes_from_text(k,""),d=a.to_ary(h),k=null==d[0]?e:d[0],q=null==d[1]?e:d[1],h,l=k,p=["id",q["$[]"]("id")],t(R,"[]=",a.to_a(p)),p[g(p.length,1)]),f(k["$end_with?"]("^"))&&(l=k=k.$chop(),f(q)?f(d=q["$[]"]("window"))?d:(p=["window","_blank"],t(q,"[]=",a.to_a(p)),p[g(p.length,1)]):q=n(["window"],{window:"_blank"})),f(f(d=l)?l["$empty?"]():d)&&(k=f(Z["$key?"]("hide-uri-scheme"))?
w.$sub(r(x,"UriSniffRx"),""):w,v=!0)):(k=f(Z["$key?"]("hide-uri-scheme"))?w.$sub(r(x,"UriSniffRx"),""):w,v=!0);f(v)&&(f(q)?(p=["role",f(q["$key?"]("role"))?"bare "+q["$[]"]("role"):"bare"],t(q,"[]=",a.to_a(p)),p[g(p.length,1)]):q=n(["role"],{role:"bare"}));oa.$register("links",(p=["target",w],t(R,"[]=",a.to_a(p)),p[g(p.length,1)]));f(q)&&(p=["attributes",q],t(R,"[]=",a.to_a(p)),p[g(p.length,1)]);return""+C+r(x,"Inline").$new(c,"anchor",k,R).$convert()+m},L.$$s=this,L.$$arity=0,L)));f(f(d=ma)?f(l=
c["$include?"]("link:"))?l:c["$include?"]("ilto:"):d)&&(c=t(c,"gsub",[r(x,"InlineLinkMacroRx")],(E=function(){var c=E.$$s||this,d,h,w=e,k;var l=e;if(f(((d=u["~"])===e?e:d["$[]"](0))["$start_with?"](r(x,"RS"))))return((d=u["~"])===e?e:d["$[]"](0)).$slice(1,((d=u["~"])===e?e:d["$[]"](0)).$length());var p=f(h=(d=u["~"])===e?e:d["$[]"](1))?b("mailto:",w=(d=u["~"])===e?e:d["$[]"](2)):(d=u["~"])===e?e:d["$[]"](2);d=[e,n(["type"],{type:"link"})];var v=d[0];var C=d[1];d;f((k=(d=u["~"])===e?e:d["$[]"](3))["$empty?"]())||
(f(k["$include?"](r(x,"R_SB")))&&(k=k.$gsub(r(x,"ESC_R_SB"),r(x,"R_SB"))),f(h)?f(f(d=oa.$compat_mode()["$!"]())?k["$include?"](","):d)&&(l=c.$extract_attributes_from_text(k,""),d=a.to_ary(l),k=null==d[0]?e:d[0],v=null==d[1]?e:d[1],l,l=["id",v["$[]"]("id")],t(C,"[]=",a.to_a(l)),l[g(l.length,1)],f(v["$key?"](2))&&(p=f(v["$key?"](3))?""+p+"?subject="+r(x,"Helpers").$encode_uri_component(v["$[]"](2))+"&amp;body="+r(x,"Helpers").$encode_uri_component(v["$[]"](3)):""+p+"?subject="+r(x,"Helpers").$encode_uri_component(v["$[]"](2)))):
f(f(d=oa.$compat_mode()["$!"]())?k["$include?"]("="):d)&&(l=c.$extract_attributes_from_text(k,""),d=a.to_ary(l),k=null==d[0]?e:d[0],v=null==d[1]?e:d[1],l,l=["id",v["$[]"]("id")],t(C,"[]=",a.to_a(l)),l[g(l.length,1)]),f(k["$end_with?"]("^"))&&(k=k.$chop(),f(v)?f(d=v["$[]"]("window"))?d:(l=["window","_blank"],t(v,"[]=",a.to_a(l)),l[g(l.length,1)]):v=n(["window"],{window:"_blank"})));f(k["$empty?"]())&&(f(h)?k=w:(f(Z["$key?"]("hide-uri-scheme"))?f((k=p.$sub(r(x,"UriSniffRx"),""))["$empty?"]())&&(k=p):
k=p,f(v)?(l=["role",f(v["$key?"]("role"))?"bare "+v["$[]"]("role"):"bare"],t(v,"[]=",a.to_a(l)),l[g(l.length,1)]):v=n(["role"],{role:"bare"})));oa.$register("links",(l=["target",p],t(C,"[]=",a.to_a(l)),l[g(l.length,1)]));f(v)&&(l=["attributes",v],t(C,"[]=",a.to_a(l)),l[g(l.length,1)]);return r(x,"Inline").$new(c,"anchor",k,C).$convert()},E.$$s=this,E.$$arity=0,E)));f(c["$include?"]("@"))&&(c=t(c,"gsub",[r(x,"InlineEmailRx")],(O=function(){var a=O.$$s||this,c,d;if(f((c=u["~"])===e?e:c["$[]"](1)))return((c=
u["~"])===e?e:c["$[]"](1))["$=="](r(x,"RS"))?((c=u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length()):(c=u["~"])===e?e:c["$[]"](0);var g=b("mailto:",d=(c=u["~"])===e?e:c["$[]"](0));oa.$register("links",g);return r(x,"Inline").$new(a,"anchor",d,n(["type","target"],{type:"link",target:g})).$convert()},O.$$s=this,O.$$arity=0,O)));f(f(d=f(l=w)?this.context["$=="]("list_item"):l)?this.parent.$style()["$=="]("bibliography"):d)&&(c=t(c,"sub",[r(x,"InlineBiblioAnchorRx")],(U=function(){var a=
U.$$s||this,b;return r(x,"Inline").$new(a,"anchor",(b=u["~"])===e?e:b["$[]"](2),n(["type","id"],{type:"bibref",id:(b=u["~"])===e?e:b["$[]"](1)})).$convert()},U.$$s=this,U.$$arity=0,U)));f(f(d=f(l=w)?c["$include?"]("[["):l)?d:f(l=ma)?c["$include?"]("or:"):l)&&(c=t(c,"gsub",[r(x,"InlineAnchorRx")],(y=function(){var a=y.$$s||this,b,c,d,g=e;if(f((b=u["~"])===e?e:b["$[]"](1)))return((b=u["~"])===e?e:b["$[]"](0)).$slice(1,((b=u["~"])===e?e:b["$[]"](0)).$length());f(d=(b=u["~"])===e?e:b["$[]"](2))?g=(b=
u["~"])===e?e:b["$[]"](3):(d=(b=u["~"])===e?e:b["$[]"](4),f(f(b=g=(c=u["~"])===e?e:c["$[]"](5))?g["$include?"](r(x,"R_SB")):b)&&(g=g.$gsub(r(x,"ESC_R_SB"),r(x,"R_SB"))));return r(x,"Inline").$new(a,"anchor",g,n(["type","id"],{type:"ref",id:d})).$convert()},y.$$s=this,y.$$arity=0,y)));f(f(d=f(l=c["$include?"]("&"))?c["$include?"](";&l"):l)?d:f(l=ma)?c["$include?"]("xref:"):l)&&(c=t(c,"gsub",[r(x,"InlineXrefMacroRx")],(W=function(){var c=W.$$s||this,d,h,w=e,l=e,p=e,v,C,m=C=e,q=e;if(f(((d=u["~"])===
e?e:d["$[]"](0))["$start_with?"](r(x,"RS"))))return((d=u["~"])===e?e:d["$[]"](0)).$slice(1,((d=u["~"])===e?e:d["$[]"](0)).$length());var R=n([],{});if(f(h=(d=u["~"])===e?e:d["$[]"](1))){if(f(h["$include?"](","))){var F=h.$partition(",");d=a.to_ary(F);h=null==d[0]?e:d[0];w=null==d[2]?e:d[2];F;f((w=w.$lstrip())["$empty?"]())&&(w=e)}}else l=!0,h=(d=u["~"])===e?e:d["$[]"](2),f(w=(d=u["~"])===e?e:d["$[]"](3))&&(f(w["$include?"](r(x,"R_SB")))&&(w=w.$gsub(r(x,"ESC_R_SB"),r(x,"R_SB"))),f(f(d=oa.$compat_mode()["$!"]())?
w["$include?"]("="):d)&&(F=c.$extract_attributes_from_text(w),d=a.to_ary(F),w=null==d[0]?e:d[0],R=null==d[1]?e:d[1],F));f(oa.$compat_mode())?p=h:f(v=h.$index("#"))?f(k(v,0))?(f(k(C=g(g(h.$length(),1),v),0))?(d=[h.$slice(0,v),h.$slice(b(v,1),C)],C=d[0],p=d[1],d):C=h.$chop(),f(l)?f(C["$end_with?"](".adoc"))?m=C=C.$slice(0,g(C.$length(),5)):f(r(x,"Helpers")["$extname?"](C)["$!"]())&&(m=C):m=f(t(C,"end_with?",a.to_a(r(x,"ASCIIDOC_EXTENSIONS").$keys())))?C=C.$slice(0,C.$rindex(".")):C):(d=[h,h.$slice(1,
h.$length())],q=d[0],p=d[1],d):f(l)?f(h["$end_with?"](".adoc"))?m=C=h.$slice(0,g(h.$length(),5)):f(r(x,"Helpers")["$extname?"](h))?C=h:p=h:p=h;f(q)?(h=p,f(f(d=c.$logger()["$info?"]())?oa.$catalog()["$[]"]("refs")["$[]"](h)["$!"]():d)&&c.$logger().$info("possible invalid reference: "+h)):f(C)?f(f(d=m)?f(F=oa.$attributes()["$[]"]("docname")["$=="](C))?F:oa.$catalog()["$[]"]("includes")["$[]"](C):d)?f(p)?(d=[p,e,"#"+p],h=d[0],C=d[1],q=d[2],d,f(f(d=c.$logger()["$info?"]())?oa.$catalog()["$[]"]("refs")["$[]"](h)["$!"]():
d)&&c.$logger().$info("possible invalid reference: "+h)):(d=[e,e,"#"],h=d[0],C=d[1],q=d[2],d):(d=[C,""+(f(F=oa.$attributes()["$[]"]("relfileprefix"))?F:"")+C+(f(m)?oa.$attributes().$fetch("relfilesuffix",oa.$outfilesuffix()):"")],h=d[0],C=d[1],d,f(p)?(d=[""+h+"#"+p,""+C+"#"+p],h=d[0],q=d[1],d):q=C):f(f(d=oa.$compat_mode())?d:r(x,"Compliance").$natural_xrefs()["$!"]())?(d=[p,"#"+p],h=d[0],q=d[1],d,f(f(d=c.$logger()["$info?"]())?oa.$catalog()["$[]"]("refs")["$[]"](h)["$!"]():d)&&c.$logger().$info("possible invalid reference: "+
h)):f(oa.$catalog()["$[]"]("refs")["$[]"](p))?(d=[p,"#"+p],h=d[0],q=d[1],d):f(f(d=f(F=p["$include?"](" "))?F:p.$downcase()["$!="](p))?h=oa.$resolve_id(p):d)?(d=[h,"#"+h],p=d[0],q=d[1],d):(d=[p,"#"+p],h=d[0],q=d[1],d,f(c.$logger()["$info?"]())&&c.$logger().$info("possible invalid reference: "+h));d=["path",C];t(R,"[]=",a.to_a(d));d[g(d.length,1)];d=["fragment",p];t(R,"[]=",a.to_a(d));d[g(d.length,1)];d=["refid",h];t(R,"[]=",a.to_a(d));d[g(d.length,1)];return r(x,"Inline").$new(c,"anchor",w,n(["type",
"target","attributes"],{type:"xref",target:q,attributes:R})).$convert()},W.$$s=this,W.$$arity=0,W)));f(f(d=ma)?c["$include?"]("tnote"):d)&&(c=t(c,"gsub",[r(x,"InlineFootnoteMacroRx")],(Y=function(){var b=Y.$$s||this,c,d,g,h,w=e,k=e,l=d=e,p=d=e;if(f(((c=u["~"])===e?e:c["$[]"](0))["$start_with?"](r(x,"RS"))))return((c=u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length());if(f((c=u["~"])===e?e:c["$[]"](1)))if(f((c=u["~"])===e?e:c["$[]"](3)))d=((g=u["~"])===e?e:g["$[]"](3)).$split(",",
2),c=a.to_ary(d),w=null==c[0]?e:c[0],k=null==c[1]?e:c[1],d,f(oa.$compat_mode())||b.$logger().$warn("found deprecated footnoteref macro: "+((c=u["~"])===e?e:c["$[]"](0))+"; use footnote macro with target instead");else return(c=u["~"])===e?e:c["$[]"](0);else w=(c=u["~"])===e?e:c["$[]"](2),k=(c=u["~"])===e?e:c["$[]"](3);if(f(w))f(d=t(oa.$footnotes(),"find",[],(h=function(a){null==a&&(a=e);return a.$id()["$=="](w)},h.$$s=b,h.$$arity=1,h)))?(c=[d.$index(),d.$text()],l=c[0],k=c[1],c,c=["xref",w,e],d=c[0],
p=c[1],w=c[2]):f(k)?(k=b.$restore_passthroughs(b.$normalize_text(k,!0,!0)),l=oa.$counter("footnote-number"),oa.$register("footnotes",m(r(x,"Document"),"Footnote").$new(l,w,k)),c=["ref",e],d=c[0],p=c[1]):(b.$logger().$warn("invalid footnote reference: "+w),c=["xref",w,w,e],d=c[0],p=c[1],k=c[2],w=c[3]),c;else if(f(k))k=b.$restore_passthroughs(b.$normalize_text(k,!0,!0)),l=oa.$counter("footnote-number"),oa.$register("footnotes",m(r(x,"Document"),"Footnote").$new(l,w,k)),d=p=e;else return(c=u["~"])===
e?e:c["$[]"](0);return r(x,"Inline").$new(b,"footnote",k,n(["attributes","id","target","type"],{attributes:n(["index"],{index:l}),id:w,target:p,type:d})).$convert()},Y.$$s=this,Y.$$arity=0,Y)));return c},W.$$arity=1);a.def(d,"$sub_post_replacements",B=function(a){var b,c,d,h=e,k=e;null==this.attributes&&(this.attributes=e);null==this.document&&(this.document=e);if(f(f(b=this.attributes["$[]"]("hardbreaks-option"))?b:this.document.$attributes()["$[]"]("hardbreaks-option"))){h=a.$split(r(x,"LF"),-1);
if(f(l(h.$size(),2)))return a;k=h.$pop();return t(h,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=e);return r(x,"Inline").$new(b,"break",f(a["$end_with?"](r(x,"HARD_LINE_BREAK")))?a.$slice(0,g(a.$length(),2)):a,n(["type"],{type:"line"})).$convert()},c.$$s=this,c.$$arity=1,c))["$<<"](k).$join(r(x,"LF"))}return f(f(b=a["$include?"](r(x,"PLUS")))?a["$include?"](r(x,"HARD_LINE_BREAK")):b)?t(a,"gsub",[r(x,"HardLineBreakRx")],(d=function(){var a=d.$$s||this,b;return r(x,"Inline").$new(a,"break",
(b=u["~"])===e?e:b["$[]"](1),n(["type"],{type:"line"})).$convert()},d.$$s=this,d.$$arity=0,d)):a},B.$$arity=1);a.def(d,"$sub_source",D=function(a,b){return f(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},D.$$arity=2);a.def(d,"$sub_callouts",pa=function(a){var c,d=e,g=e;d=f(this["$attr?"]("line-comment"))?r(x,"CalloutSourceRxMap")["$[]"](this.$attr("line-comment")):r(x,"CalloutSourceRx");g=0;return t(a,"gsub",[d],(c=function(){var a=c.$$s||this,d,h;null==a.document&&(a.document=
e);return f((d=u["~"])===e?e:d["$[]"](2))?((d=u["~"])===e?e:d["$[]"](0)).$sub(r(x,"RS"),""):r(x,"Inline").$new(a,"callout",((d=u["~"])===e?e:d["$[]"](4))["$=="](".")?(g=b(g,1)).$to_s():(d=u["~"])===e?e:d["$[]"](4),n(["id","attributes"],{id:a.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:f(d=(h=u["~"])===e?e:h["$[]"](1))?d:((h=u["~"])===e?e:h["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:e})})).$convert()},c.$$s=this,c.$$arity=0,c))},pa.$$arity=1);a.def(d,"$highlight_source",A=
function(b,c){var d,g,h=e,k=e,p,v=e,m=e;null==this.document&&(this.document=e);null==this.passthroughs&&(this.passthroughs=e);if(!f(f(d=h=this.document.$syntax_highlighter())?h["$highlight?"]():d))return this.$sub_source(b,c);if(f(c)){var q=this.$extract_callouts(b);d=a.to_ary(q);b=null==d[0]?e:d[0];k=null==d[1]?e:d[1];q}c=this.document.$attributes();var t=h.$name();f(f(d=p=f(this["$attr?"]("linenums"))?(f(q=c["$[]"](""+t+"-linenums-mode"))?q:"table").$to_sym():e)?l(v=this.$attr("start",1).$to_i(),
1):d)&&(v=1);f(this["$attr?"]("highlight"))&&(m=this.$resolve_lines_to_highlight(b,this.$attr("highlight"),v));q=h.$highlight(this,b,this.$attr("language"),n("callouts css_mode highlight_lines number_lines start_line_number style".split(" "),{callouts:k,css_mode:(f(g=c["$[]"](""+t+"-css"))?g:"class").$to_sym(),highlight_lines:m,number_lines:p,start_line_number:v,style:c["$[]"](""+t+"-style")}));d=a.to_ary(q);b=null==d[0]?e:d[0];d=null==d[1]?e:d[1];q;f(this.passthroughs["$empty?"]())||(b=b.$gsub(r(x,
"HighlightedPassSlotRx"),""+r(x,"PASS_START")+"\\1"+r(x,"PASS_END")));return f(k["$nil_or_empty?"]())?b:this.$restore_callouts(b,k,d)},A.$$arity=2);a.def(d,"$resolve_lines_to_highlight",ra=function(c,d,n){var h,k,p=e,v=e;null==n&&(n=e);p=[];f(d["$include?"](" "))&&(d=d.$delete(" "));t(f(d["$include?"](","))?d.$split(","):d.$split(";"),"map",[],(h=function(d){var n,h=e;var k=e;null==d&&(d=e);f(d["$start_with?"]("!"))&&(d=d.$slice(1,d.$length()),h=!0);if(f(n=f(d["$include?"](".."))?"..":f(d["$include?"]("-"))?
"-":e)){n=d.$partition(n);d=a.to_ary(n);k=null==d[0]?e:d[0];var v=null==d[2]?e:d[2];n;f(f(d=v["$empty?"]())?d:l(v=v.$to_i(),0))&&(v=b(c.$count(r(x,"LF")),1));return f(h)?p=g(p,a.Range.$new(k.$to_i(),v,!1).$to_a()):p=p["$|"](a.Range.$new(k.$to_i(),v,!1).$to_a())}return f(h)?p.$delete(d.$to_i()):f(p["$include?"](k=d.$to_i())["$!"]())?p["$<<"](k):e},h.$$s=this,h.$$arity=1,h));(v=f(n)?g(n,1):0)["$=="](0)||(p=t(p,"map",[],(k=function(a){null==a&&(a=e);return g(a,v)},k.$$s=this,k.$$arity=1,k)));return p.$sort()},
ra.$$arity=-3);a.def(d,"$extract_passthroughs",I=function(b){var c,d,h,l,v,m=e,q=e,R=e,F=e,z=e;null==this.document&&(this.document=e);null==this.passthroughs&&(this.passthroughs=e);m=this.document.$compat_mode();q=this.passthroughs;f(f(c=f(d=b["$include?"]("++"))?d:b["$include?"]("$$"))?c:b["$include?"]("ss:"))&&(b=t(b,"gsub",[r(x,"InlinePassMacroRx")],(h=function(){var b=h.$$s||this,c,d,l,v,w=e,C=e,R=e,F=l=e;if(f(d=(c=u["~"])===e?e:c["$[]"](4))){if(f(f(c=m)?d["$=="]("++"):c))return(f((c=u["~"])===
e?e:c["$[]"](2))?""+((c=u["~"])===e?e:c["$[]"](1))+"["+((c=u["~"])===e?e:c["$[]"](2))+"]"+((c=u["~"])===e?e:c["$[]"](3)):""+((c=u["~"])===e?e:c["$[]"](1))+((c=u["~"])===e?e:c["$[]"](3)))+"++"+b.$extract_passthroughs((c=u["~"])===e?e:c["$[]"](5))+"++";if(f(l=(c=u["~"])===e?e:c["$[]"](2))){if(f(k(v=((c=u["~"])===e?e:c["$[]"](3)).$length(),0)))return""+((c=u["~"])===e?e:c["$[]"](1))+"["+l+"]"+p(r(x,"RS"),g(v,1))+d+((c=u["~"])===e?e:c["$[]"](5))+d;((c=u["~"])===e?e:c["$[]"](1))["$=="](r(x,"RS"))?w="["+
l+"]":(f((c=d["$=="]("++"))?l["$end_with?"]("x-"):d["$=="]("++"))&&(C=!0,l=l.$slice(0,g(l.$length(),2))),R=b.$parse_quoted_text_attributes(l))}else if(f(k(v=((c=u["~"])===e?e:c["$[]"](3)).$length(),0)))return""+p(r(x,"RS"),g(v,1))+d+((c=u["~"])===e?e:c["$[]"](5))+d;l=d["$=="]("+++")?[]:r(x,"BASIC_SUBS");b=f(R)?f(C)?[F=q.$size(),n(["text","subs","type","attributes"],{text:(c=u["~"])===e?e:c["$[]"](5),subs:r(x,"NORMAL_SUBS"),type:"monospaced",attributes:R})]:[F=q.$size(),n(["text","subs","type","attributes"],
{text:(c=u["~"])===e?e:c["$[]"](5),subs:l,type:"unquoted",attributes:R})]:[F=q.$size(),n(["text","subs"],{text:(c=u["~"])===e?e:c["$[]"](5),subs:l})]}else{if(((c=u["~"])===e?e:c["$[]"](6))["$=="](r(x,"RS")))return((c=u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length());b=f(l=(c=u["~"])===e?e:c["$[]"](7))?[F=q.$size(),n(["text","subs"],{text:b.$normalize_text((c=u["~"])===e?e:c["$[]"](8),e,!0),subs:b.$resolve_pass_subs(l)})]:[F=q.$size(),n(["text"],{text:b.$normalize_text((c=
u["~"])===e?e:c["$[]"](8),e,!0)})]}t(q,"[]=",a.to_a(b));b[g(b.length,1)];return""+(f(c=w)?c:"")+r(x,"PASS_START")+F+r(x,"PASS_END")},h.$$s=this,h.$$arity=0,h)));d=r(x,"InlinePassRx")["$[]"](m);c=a.to_ary(d);R=null==c[0]?e:c[0];F=null==c[1]?e:c[1];z=null==c[2]?e:c[2];d;f(f(c=b["$include?"](R))?c:f(d=F)?b["$include?"](F):d)&&(b=t(b,"gsub",[z],(l=function(){var b=l.$$s||this,c,d,h=e,k=e,w=e;var p=(c=u["~"])===e?e:c["$[]"](1);var v=(c=u["~"])===e?e:c["$[]"](2);f((d=(c=u["~"])===e?e:c["$[]"](3))["$start_with?"](r(x,
"RS")))&&(h=r(x,"RS"));var R=(c=u["~"])===e?e:c["$[]"](4);var F=(c=u["~"])===e?e:c["$[]"](5);f(m)?k=!0:f(k=f(c=v)?v["$end_with?"]("x-"):c)&&(v=v.$slice(0,g(v.$length(),2)));if(f(v)){if(f(R["$=="]("`")?k["$!"]():R["$=="]("`")))return b.$extract_inner_passthrough(F,""+p+"["+v+"]"+h);if(f(h))return""+p+"["+v+"]"+d.$slice(1,d.$length());p["$=="](r(x,"RS"))?p="["+v+"]":w=b.$parse_quoted_text_attributes(v)}else{if(f(R["$=="]("`")?k["$!"]():R["$=="]("`")))return b.$extract_inner_passthrough(F,""+p+h);if(f(h))return""+
p+d.$slice(1,d.$length())}f(m)?F=[b=q.$size(),n(["text","subs","attributes","type"],{text:F,subs:r(x,"BASIC_SUBS"),attributes:w,type:"monospaced"})]:f(w)?f(k)?(c=R["$=="]("`")?r(x,"BASIC_SUBS"):r(x,"NORMAL_SUBS"),F=[b=q.$size(),n(["text","subs","attributes","type"],{text:F,subs:c,attributes:w,type:"monospaced"})]):F=[b=q.$size(),n(["text","subs","attributes","type"],{text:F,subs:r(x,"BASIC_SUBS"),attributes:w,type:"unquoted"})]:F=[b=q.$size(),n(["text","subs"],{text:F,subs:r(x,"BASIC_SUBS")})];t(q,
"[]=",a.to_a(F));F[g(F.length,1)];return""+p+r(x,"PASS_START")+b+r(x,"PASS_END")},l.$$s=this,l.$$arity=0,l)));f(f(c=b["$include?"](":"))?f(d=b["$include?"]("stem:"))?d:b["$include?"]("math:"):c)&&(b=t(b,"gsub",[r(x,"InlineStemMacroRx")],(v=function(){var b=v.$$s||this,c,d;null==b.document&&(b.document=e);if(f(((c=u["~"])===e?e:c["$[]"](0))["$start_with?"](r(x,"RS"))))return((c=u["~"])===e?e:c["$[]"](0)).$slice(1,((c=u["~"])===e?e:c["$[]"](0)).$length());(d=((c=u["~"])===e?e:c["$[]"](1)).$to_sym())["$=="]("stem")&&
(d=r(x,"STEM_TYPE_ALIASES")["$[]"](b.document.$attributes()["$[]"]("stem")).$to_sym());var h=(c=u["~"])===e?e:c["$[]"](2);var k=b.$normalize_text((c=u["~"])===e?e:c["$[]"](3),e,!0);f(f(c=d["$=="]("latexmath")?k["$start_with?"]("$"):d["$=="]("latexmath"))?k["$end_with?"]("$"):c)&&(k=k.$slice(1,g(k.$length(),2)));h=f(h)?b.$resolve_pass_subs(h):f(b.document["$basebackend?"]("html"))?r(x,"BASIC_SUBS"):e;d=[b=q.$size(),n(["text","subs","type"],{text:k,subs:h,type:d})];t(q,"[]=",a.to_a(d));d[g(d.length,
1)];return""+r(x,"PASS_START")+b+r(x,"PASS_END")},v.$$s=this,v.$$arity=0,v)));return b},I.$$arity=1);a.def(d,"$restore_passthroughs",G=function(a){var b,c=e;null==this.passthroughs&&(this.passthroughs=e);c=this.passthroughs;return t(a,"gsub",[r(x,"PassSlotRx")],(b=function(){var d=b.$$s||this,g,h,k,l,p=e;if(f(h=c["$[]"](((g=u["~"])===e?e:g["$[]"](1)).$to_i())))return g=d.$apply_subs(h["$[]"]("text"),h["$[]"]("subs")),f(k=h["$[]"]("type"))&&(f(l=h["$[]"]("attributes"))&&(p=l["$[]"]("id")),g=r(x,"Inline").$new(d,
"quoted",g,n(["type","id","attributes"],{type:k,id:p,attributes:l})).$convert()),f(g["$include?"](r(x,"PASS_START")))?d.$restore_passthroughs(g):g;d.$logger().$error("unresolved passthrough detected: "+a);return"??pass??"},b.$$s=this,b.$$arity=0,b))},G.$$arity=1);a.def(d,"$resolve_subs",J=function(a,c,d,n){var h,l=e,p=e,v=e,m=e;null==c&&(c="block");null==d&&(d=e);null==n&&(n=e);if(f(a["$nil_or_empty?"]()))return e;l=e;f(a["$include?"](" "))&&(a=a.$delete(" "));p=r(x,"SubModifierSniffRx")["$match?"](a);
t(a.$split(","),"each",[],(h=function(a){var n,h,k=e;null==a&&(a=e);var v=e;f(p)&&((n=a.$chr())["$=="]("+")?(v="append",a=a.$slice(1,a.$length())):n["$=="]("-")?(v="remove",a=a.$slice(1,a.$length())):f(a["$end_with?"]("+"))&&(v="prepend",a=a.$chop()));a=a.$to_sym();f((n=c["$=="]("inline"))?f(h=a["$=="]("verbatim"))?h:a["$=="]("v"):c["$=="]("inline"))?a=r(x,"BASIC_SUBS"):f(r(x,"SUB_GROUPS")["$key?"](a))?a=r(x,"SUB_GROUPS")["$[]"](a):f(f(n=c["$=="]("inline")?a.$length()["$=="](1):c["$=="]("inline"))?
r(x,"SUB_HINTS")["$key?"](a):n)?(a=r(x,"SUB_HINTS")["$[]"](a),a=f(k=r(x,"SUB_GROUPS")["$[]"](a))?k:[a]):a=[a];if(f(v))return l=f(n=l)?n:f(d)?d.$drop(0):[],"append"["$==="](v)?l=b(l,a):"prepend"["$==="](v)?l=b(a,l):"remove"["$==="](v)?l=g(l,a):e;l=f(n=l)?n:[];return l=b(l,a)},h.$$s=this,h.$$arity=1,h));if(!f(l))return e;v=l["$&"](r(x,"SUB_OPTIONS")["$[]"](c));f(g(l,v)["$empty?"]())||(m=g(l,v),this.$logger().$warn("invalid substitution type"+(f(k(m.$size(),1))?"s":"")+(f(n)?" for ":"")+n+": "+m.$join(", ")));
return v},J.$$arity=-2);a.def(d,"$resolve_block_subs",K=function(a,b,e){return this.$resolve_subs(a,"block",b,e)},K.$$arity=3);a.def(d,"$resolve_pass_subs",H=function(a){return this.$resolve_subs(a,"inline",e,"passthrough macro")},H.$$arity=1);a.def(d,"$expand_subs",aa=function(a,c){var d,g,n=this,h=e,k=e;null==c&&(c=e);return function(){h=a;return m("::","Symbol")["$==="](h)?a["$=="]("none")?e:f(d=r(x,"SUB_GROUPS")["$[]"](a))?d:[a]:m("::","Array")["$==="](h)?(k=[],t(a,"each",[],(g=function(a){var c;
null==a&&(a=e);return a["$=="]("none")?e:f(c=r(x,"SUB_GROUPS")["$[]"](a))?k=b(k,c):k["$<<"](a)},g.$$s=n,g.$$arity=1,g)),f(k["$empty?"]())?e:k):n.$resolve_subs(a,"inline",e,c)}()},aa.$$arity=-2);a.def(d,"$commit_subs",na=function(){var b,c,d,n,h=e,k=e,l=e;null==this.default_subs&&(this.default_subs=e);null==this.content_model&&(this.content_model=e);null==this.context&&(this.context=e);null==this.subs&&(this.subs=e);null==this.attributes&&(this.attributes=e);null==this.style&&(this.style=e);null==
this.document&&(this.document=e);if(!f(n=this.default_subs))if(n=this.content_model,"simple"["$==="](n))n=r(x,"NORMAL_SUBS");else if("verbatim"["$==="](n))n=this.context["$=="]("verse")?r(x,"NORMAL_SUBS"):r(x,"VERBATIM_SUBS");else if("raw"["$==="](n))n=this.context["$=="]("stem")?r(x,"BASIC_SUBS"):r(x,"NO_SUBS");else return this.subs;f(h=this.attributes["$[]"]("subs"))?this.subs=f(b=this.$resolve_block_subs(h,n,this.context))?b:[]:this.subs=n.$drop(0);f(f(b=f(c=f(d=this.context["$=="]("listing")?
this.style["$=="]("source"):this.context["$=="]("listing"))?k=this.document.$syntax_highlighter():d)?k["$highlight?"]():c)?l=this.subs.$index("specialcharacters"):b)&&(b=[l,"highlight"],t(this.subs,"[]=",a.to_a(b)),b[g(b.length,1)]);return e},na.$$arity=0);a.def(d,"$parse_attributes",qa=function(a,b,c){var d,g=e,h=e;null==this.document&&(this.document=e);null==b&&(b=[]);null==c&&(c=n([],{}));if(f(f(a)?a["$empty?"]():!0))return n([],{});f(c["$[]"]("unescape_input"))&&(a=this.$normalize_text(a,!0,!0));
f(f(d=c["$[]"]("sub_input"))?a["$include?"](r(x,"ATTR_REF_HEAD")):d)&&(a=this.document.$sub_attributes(a));f(c["$[]"]("sub_result"))&&(g=this);return f(h=c["$[]"]("into"))?r(x,"AttributeList").$new(a,g).$parse_into(h,b):r(x,"AttributeList").$new(a,g).$parse(b)},qa.$$arity=-2);d.$private();a.def(d,"$extract_attributes_from_text",ba=function(a,b){var c=e,d=e;null==b&&(b=e);var g=f(a["$include?"](r(x,"LF")))?a.$tr(r(x,"LF")," "):a;return f(c=(d=r(x,"AttributeList").$new(g,this).$parse())["$[]"](1))?
c["$=="](g)?[a,d.$clear()]:[c,d]:[b,d]},ba.$$arity=-2);a.def(d,"$extract_callouts",M=function(c){var d,h=e,k=e,l=e,p=e,v=e;h=n([],{});k=l=0;p=e;v=f(this["$attr?"]("line-comment"))?r(x,"CalloutExtractRxMap")["$[]"](this.$attr("line-comment")):r(x,"CalloutExtractRx");c=t(c.$split(r(x,"LF"),-1),"map",[],(d=function(c){var n=d.$$s||this,m;null==c&&(c=e);l=b(l,1);return t(c,"gsub",[v],(m=function(){var c,d,n=e;if(f((c=u["~"])===e?e:c["$[]"](2)))return((c=u["~"])===e?e:c["$[]"](0)).$sub(r(x,"RS"),"");(f(c=
h["$[]"](l))?c:(n=[l,[]],t(h,"[]=",a.to_a(n)),n[g(n.length,1)]))["$<<"]([f(c=(d=u["~"])===e?e:d["$[]"](1))?c:((d=u["~"])===e?e:d["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:e,((c=u["~"])===e?e:c["$[]"](4))["$=="](".")?(k=b(k,1)).$to_s():(c=u["~"])===e?e:c["$[]"](4)]);p=l;return""},m.$$s=n,m.$$arity=0,m))},d.$$s=this,d.$$arity=1,d)).$join(r(x,"LF"));f(p)?p["$=="](l)&&(c=""+c+r(x,"LF")):h=e;return[c,h]},M.$$arity=1);a.def(d,"$restore_callouts",P=function(c,d,g){var h,k=e,l=e;null==g&&(g=e);f(g)?(k=
c.$slice(0,g),c=c.$slice(g,c.$length())):k="";l=0;return b(k,t(c.$split(r(x,"LF"),-1),"map",[],(h=function(c){var g=h.$$s||this,k,p,v=k=e;var m=e;null==g.document&&(g.document=e);null==c&&(c=e);return f(k=d.$delete(l=b(l,1)))?k.$size()["$=="](1)?(k=k["$[]"](0),m=a.to_ary(k),v=null==m[0]?e:m[0],m=null==m[1]?e:m[1],k,""+c+r(x,"Inline").$new(g,"callout",m,n(["id","attributes"],{id:g.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:v})})).$convert()):""+c+t(k,"map",[],(p=function(a,
b){var c=p.$$s||this;null==c.document&&(c.document=e);null==a&&(a=e);null==b&&(b=e);return r(x,"Inline").$new(c,"callout",b,n(["id","attributes"],{id:c.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:a})})).$convert()},p.$$s=g,p.$$arity=2,p)).$join(" "):c},h.$$s=this,h.$$arity=1,h)).$join(r(x,"LF")))},P.$$arity=-3);a.def(d,"$extract_inner_passthrough",Q=function(b,c){var d,h;null==this.passthroughs&&(this.passthroughs=e);if(f(f(d=f(h=b["$end_with?"]("+"))?b["$start_with?"]("+",
"\\+"):h)?r(x,"SinglePlusInlinePassRx")["$=~"](b):d)){if(f((d=u["~"])===e?e:d["$[]"](1)))return""+c+"`+"+((d=u["~"])===e?e:d["$[]"](2))+"+`";b=[h=this.passthroughs.$size(),n(["text","subs"],{text:(d=u["~"])===e?e:d["$[]"](2),subs:r(x,"BASIC_SUBS")})];t(this.passthroughs,"[]=",a.to_a(b));b[g(b.length,1)];return""+c+"`"+r(x,"PASS_START")+h+r(x,"PASS_END")+"`"}return""+c+"`"+b+"`"},Q.$$arity=2);a.def(d,"$convert_quoted_text",la=function(a,b,c){var d=e,g=e,h=e,k=e;if(f(a["$[]"](0)["$start_with?"](r(x,
"RS"))))if(f(c["$=="]("constrained")?d=a["$[]"](2):c["$=="]("constrained")))g="["+d+"]";else return a["$[]"](0).$slice(1,a["$[]"](0).$length());if(c["$=="]("constrained")){if(f(g))return""+g+r(x,"Inline").$new(this,"quoted",a["$[]"](3),n(["type"],{type:b})).$convert();f(c=a["$[]"](2))&&(h=(k=this.$parse_quoted_text_attributes(c))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+r(x,"Inline").$new(this,"quoted",a["$[]"](3),n(["type","id","attributes"],{type:b,id:h,attributes:k})).$convert()}f(c=
a["$[]"](1))&&(h=(k=this.$parse_quoted_text_attributes(c))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return r(x,"Inline").$new(this,"quoted",a["$[]"](2),n(["type","id","attributes"],{type:b,id:h,attributes:k})).$convert()},la.$$arity=3);a.def(d,"$do_replacement",va=function(a,e,c){var d;return f((d=a["$[]"](0))["$include?"](r(x,"RS")))?d.$sub(r(x,"RS"),""):"none"["$==="](c)?e:"bounding"["$==="](c)?b(b(a["$[]"](1),e),a["$[]"](2)):b(a["$[]"](1),e)},va.$$arity=3);r(x,"RUBY_ENGINE")["$=="]("opal")||
e;a.def(d,"$parse_quoted_text_attributes",ha=function(c){var d;f(c["$include?"](r(x,"ATTR_REF_HEAD")))&&(c=this.$sub_attributes(c));f(c["$include?"](","))&&(c=c.$slice(0,c.$index(",")));if(f((c=c.$strip())["$empty?"]()))return n([],{});if(f(f(d=c["$start_with?"](".","#"))?r(x,"Compliance").$shorthand_property_syntax():d)){var h=c.$partition("#");d=a.to_ary(h);c=null==d[0]?e:d[0];d=null==d[2]?e:d[2];h;var l=n([],{});if(f(d["$empty?"]()))f(k(c.$length(),1))&&(h=["role",c.$tr("."," ").$lstrip()],t(l,
"[]=",a.to_a(h)),h[g(h.length,1)]);else{h=d.$partition(".");d=a.to_ary(h);var p=null==d[0]?e:d[0];d=null==d[2]?e:d[2];h;f(p["$empty?"]())||(h=["id",p],t(l,"[]=",a.to_a(h)),h[g(h.length,1)]);f(d["$empty?"]())?f(k(c.$length(),1))&&(h=["role",c.$tr("."," ").$lstrip()],t(l,"[]=",a.to_a(h)),h[g(h.length,1)]):(h=f(k(c.$length(),1))?["role",b(b(c,"."),d).$tr("."," ").$lstrip()]:["role",d.$tr("."," ")],t(l,"[]=",a.to_a(h)),h[g(h.length,1)])}return l}return n(["role"],{role:c})},ha.$$arity=1);a.def(d,"$normalize_text",
Aa=function(a,b,c){var d;null==b&&(b=e);null==c&&(c=e);f(a["$empty?"]())||(f(b)&&(a=a.$strip().$tr(r(x,"LF")," ")),f(f(d=c)?a["$include?"](r(x,"R_SB")):d)&&(a=a.$gsub(r(x,"ESC_R_SB"),r(x,"R_SB"))));return a},Aa.$$arity=-2);a.def(d,"$split_simple_csv",Ka=function(a){var c,d,g=e,h=e,n=e;return f(a["$empty?"]())?[]:f(a["$include?"]('"'))?(g=[],h="",n=e,t(a,"each_char",[],(c=function(a){var c=e;null==a&&(a=e);return function(){c=a;if(","["$==="](c)){if(f(n))return h=b(h,a);g["$<<"](h.$strip());return h=
""}return'"'["$==="](c)?n=n["$!"]():h=b(h,a)}()},c.$$s=this,c.$$arity=1,c)),g["$<<"](h.$strip())):t(a.$split(","),"map",[],(d=function(a){null==a&&(a=e);return a.$strip()},d.$$s=this,d.$$arity=1,d))},Ka.$$arity=1)})(d[0],d)}(h[0],h)};Opal.modules["asciidoctor/version"]=function(a){var b=[],g=a.module;b=[g(b[0],"Asciidoctor")].concat(b);a.const_set(b[0],"VERSION","2.0.17")};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}
function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var k=[],l=a.nil,p=a.const_get_qualified,h=a.const_get_relative,e=a.module,m=a.klass,r=a.hash2,q=a.truthy,t=a.send;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $[] $merge $raise $converter $attributes $key? $[]= $- $delete $tap $new $each_key $end_with? $<< $slice $length $update $split $include? $=== $join $empty? $apply_reftext_subs $attr? $attr $extname? $image_uri $< $safe $uriish? $encode_spaces_in_uri $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $extname $normalize_system_path $readable? $strict_encode64 $binread $warn $logger $require_library $! $open_uri $content_type $read $base_dir $root? $path_resolver $system_path $web_path $!= $prepare_source_string $fetch $read_asset".split(" "));
return function(d,c){d=[e(d,"Asciidoctor")].concat(c);(function(c,$super,e){c=m(c,$super,"AbstractNode");var d=[c].concat(e),f,n,k,v,F,u,z,E,O,y,U,B,D,A,G,ja,J,ra,I,K,ka,H,Ca,aa,na,qa,M,P,Q,S,la,va,ha;c.$$prototype.document=c.$$prototype.attributes=c.$$prototype.parent=l;c.$include(h(d,"Logging"));c.$include(h(d,"Substitutors"));c.$attr_reader("attributes");c.$attr_reader("context");c.$attr_reader("document");c.$attr_accessor("id");c.$attr_reader("node_name");c.$attr_reader("parent");a.def(c,"$initialize",
f=function(a,b,c){var e=l;null==c&&(c=r([],{}));b["$=="]("document")?this.document=this:q(a)&&(this.document=(this.parent=a).$document());this.node_name=(this.context=b).$to_s();this.attributes=q(e=c["$[]"]("attributes"))?e.$merge():r([],{});return this.passthroughs=[]},f.$$arity=-3);a.def(c,"$block?",n=function(){return this.$raise(p("::","NotImplementedError"))},n.$$arity=0);a.def(c,"$inline?",k=function(){return this.$raise(p("::","NotImplementedError"))},k.$$arity=0);a.def(c,"$converter",v=function(){return this.document.$converter()},
v.$$arity=0);a.def(c,"$parent=",F=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},F.$$arity=1);a.def(c,"$attr",u=function(a,b,c){var e,d,f,g;null==b&&(b=l);null==c&&(c=l);return q(e=this.attributes["$[]"](a.$to_s()))?e:q(d=q(f=q(g=c)?this.parent:g)?this.document.$attributes()["$[]"]((c["$=="](!0)?a:c).$to_s()):f)?d:b},u.$$arity=-2);a.def(c,"$attr?",z=function(a,b,c){var e,d;null==b&&(b=l);null==c&&(c=l);return q(b)?b["$=="](q(e=this.attributes["$[]"](a.$to_s()))?
e:q(q(d=c)?this.parent:d)?this.document.$attributes()["$[]"]((c["$=="](!0)?a:c).$to_s()):l):q(e=this.attributes["$key?"](a.$to_s()))?e:q(q(d=c)?this.parent:d)?this.document.$attributes()["$key?"]((c["$=="](!0)?a:c).$to_s()):!1},z.$$arity=-2);a.def(c,"$set_attr",E=function(c,e,d){null==e&&(e="");null==d&&(d=!0);if(q(d["$=="](!1)?this.attributes["$key?"](c):d["$=="](!1)))return!1;c=[c,e];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0},E.$$arity=-2);a.def(c,"$remove_attr",O=function(a){return this.attributes.$delete(a)},
O.$$arity=1);a.def(c,"$option?",y=function(a){return q(this.attributes["$[]"](""+a+"-option"))?!0:!1},y.$$arity=1);a.def(c,"$set_option",U=function(c){c=[""+c+"-option",""];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return l},U.$$arity=1);a.def(c,"$enabled_options",B=function(){var a;return t(p("::","Set").$new(),"tap",[],(a=function(c){var e=a.$$s||this,d;null==e.attributes&&(e.attributes=l);null==c&&(c=l);return t(e.attributes,"each_key",[],(d=function(a){null==a&&(a=l);return q(a.$to_s()["$end_with?"]("-option"))?
c["$<<"](a.$slice(0,b(a.$length(),7))):l},d.$$s=e,d.$$arity=1,d))},a.$$s=this,a.$$arity=1,a))},B.$$arity=0);a.def(c,"$update_attributes",D=function(a){return this.attributes.$update(a)},D.$$arity=1);a.def(c,"$role",A=function(){return this.attributes["$[]"]("role")},A.$$arity=0);a.def(c,"$roles",G=function(){var a;return q(a=this.attributes["$[]"]("role"))?a.$split():[]},G.$$arity=0);a.def(c,"$role?",ja=function(a){null==a&&(a=l);return q(a)?a["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},
ja.$$arity=-1);a.def(c,"$has_role?",J=function(a){var b;return q(b=this.attributes["$[]"]("role"))?(" "+b+" ")["$include?"](" "+a+" "):!1},J.$$arity=1);a.def(c,"$role=",ra=function(c){c=["role",q(p("::","Array")["$==="](c))?c.$join(" "):c];t(this.attributes,"[]=",a.to_a(c));return c[b(c.length,1)]},ra.$$arity=1);a.def(c,"$add_role",I=function(c){var e;if(q(e=this.attributes["$[]"]("role"))){if(q((" "+e+" ")["$include?"](" "+c+" ")))return!1;c=["role",""+e+" "+c];t(this.attributes,"[]=",a.to_a(c));
c[b(c.length,1)];return!0}c=["role",c];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0},I.$$arity=1);a.def(c,"$remove_role",K=function(c){var e,d=l;return q(q(e=d=this.attributes["$[]"]("role"))?(d=d.$split()).$delete(c):e)?(q(d["$empty?"]())?this.attributes.$delete("role"):(c=["role",d.$join(" ")],t(this.attributes,"[]=",a.to_a(c)),c[b(c.length,1)]),!0):!1},K.$$arity=1);a.def(c,"$reftext",ka=function(){var a;return q(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):l},
ka.$$arity=0);a.def(c,"$reftext?",H=function(){return this.attributes["$key?"]("reftext")},H.$$arity=0);a.def(c,"$icon_uri",Ca=function(a){q(this["$attr?"]("icon"))?(a=this.$attr("icon"),q(h(d,"Helpers")["$extname?"](a))||(a=""+a+"."+this.document.$attr("icontype","png"))):a=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(a,"iconsdir")},Ca.$$arity=1);a.def(c,"$image_uri",aa=function(a,b){var c,e,f,n,r=l,k=l;null==b&&(b="imagesdir");return q(q(c=g((r=this.document).$safe(),p(h(d,
"SafeMode"),"SECURE")))?r["$attr?"]("data-uri"):c)?q(q(c=q(e=h(d,"Helpers")["$uriish?"](a))?a=h(d,"Helpers").$encode_spaces_in_uri(a):e)?c:q(e=q(f=q(n=b)?k=r.$attr(b):n)?h(d,"Helpers")["$uriish?"](k):f)?a=this.$normalize_web_path(a,k,!1):e)?q(r["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,r["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,q(b)?r.$attr(b):l)},aa.$$arity=-2);a.def(c,"$media_uri",na=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,
q(b)?this.document.$attr(b):l)},na.$$arity=-2);a.def(c,"$generate_data_uri",qa=function(a,b){var c=l;null==b&&(b=l);var e=q(c=h(d,"Helpers").$extname(a,l))?c["$=="](".svg")?"image/svg+xml":"image/"+c.$slice(1,c.$length()):"application/octet-stream";a=q(b)?this.$normalize_system_path(a,this.document.$attr(b),l,r(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(q(p("::","File")["$readable?"](a)))return"data:"+e+";base64,"+p("::","Base64").$strict_encode64(p("::","File").$binread(a));
this.$logger().$warn("image to embed not found or not readable: "+a);return"data:"+e+";base64,"},qa.$$arity=-2);a.def(c,"$generate_data_uri_from_uri",M=function(b,c){var e,f=l,g=l;null==c&&(c=!1);q(c)?h(d,"Helpers").$require_library("open-uri/cached","open-uri-cached"):q(h(d,"RUBY_ENGINE_OPAL")["$!"]())&&p("::","OpenURI");try{var n=t(p("::","OpenURI"),"open_uri",[b,h(d,"URI_READ_MODE")],(e=function(a){null==a&&(a=l);return[a.$content_type(),a.$read()]},e.$$s=this,e.$$arity=1,e));var r=a.to_ary(n);
f=null==r[0]?l:r[0];g=null==r[1]?l:r[1];n;return"data:"+f+";base64,"+p("::","Base64").$strict_encode64(g)}catch(Qa){if(a.rescue(Qa,[h(d,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw Qa;}},M.$$arity=-2);a.def(c,"$normalize_asset_path",P=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),l,r(["target_name","recover"],{target_name:b,recover:c}))},P.$$arity=
-2);a.def(c,"$normalize_system_path",Q=function(a,b,c,e){var f,n;null==b&&(b=l);null==c&&(c=l);null==e&&(e=r([],{}));q(g((n=this.document).$safe(),p(h(d,"SafeMode"),"SAFE")))?q(b)?q(n.$path_resolver()["$root?"](b))||(b=p("::","File").$join(n.$base_dir(),b)):b=n.$base_dir():(b=q(f=b)?f:n.$base_dir(),c=q(f=c)?f:n.$base_dir());return n.$path_resolver().$system_path(a,b,c,e)},Q.$$arity=-2);a.def(c,"$normalize_web_path",S=function(a,b,c){var e;null==b&&(b=l);null==c&&(c=!0);return q(q(e=c)?h(d,"Helpers")["$uriish?"](a):
e)?h(d,"Helpers").$encode_spaces_in_uri(a):this.document.$path_resolver().$web_path(a,b)},S.$$arity=-2);a.def(c,"$read_asset",la=function(a,b){var c;null==b&&(b=r([],{}));q(p("::","Hash")["$==="](b))||(b=r(["warn_on_failure"],{warn_on_failure:b["$!="](!1)}));if(q(p("::","File")["$readable?"](a)))return q(b["$[]"]("normalize"))?h(d,"Helpers").$prepare_source_string(p("::","File").$read(a,r(["mode"],{mode:h(d,"FILE_READ_MODE")}))).$join(h(d,"LF")):p("::","File").$read(a,r(["mode"],{mode:h(d,"FILE_READ_MODE")}));
q(b["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(q(c=this.$attr("docfile"))?c:"<stdin>")+": "+(q(c=b["$[]"]("label"))?c:"file")+" does not exist or cannot be read: "+a);return l},la.$$arity=-2);a.def(c,"$read_contents",va=function(b,c){var e,f,g,n,k,v=l,x=l,m=l;null==c&&(c=r([],{}));v=this.document;if(q(q(e=h(d,"Helpers")["$uriish?"](b))?e:q(f=q(g=x=c["$[]"]("start"))?h(d,"Helpers")["$uriish?"](x):g)?b=v.$path_resolver().$web_path(b,x):f))if(q(v["$attr?"]("allow-uri-read"))){q(v["$attr?"]("cache-uri"))&&
h(d,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{m=q(c["$[]"]("normalize"))?h(d,"Helpers").$prepare_source_string(t(p("::","OpenURI"),"open_uri",[b,h(d,"URI_READ_MODE")],(n=function(a){null==a&&(a=l);return a.$read()},n.$$s=this,n.$$arity=1,n))).$join(h(d,"LF")):t(p("::","OpenURI"),"open_uri",[b,h(d,"URI_READ_MODE")],(k=function(a){null==a&&(a=l);return a.$read()},k.$$s=this,k.$$arity=1,k))}catch(za){if(a.rescue(za,[h(d,"StandardError")]))try{q(c.$fetch("warn_on_failure",!0))&&
this.$logger().$warn("could not retrieve contents of "+(q(e=c["$[]"]("label"))?e:"asset")+" at URI: "+b)}finally{a.pop_exception()}else throw za;}}else q(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(q(e=c["$[]"]("label"))?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)");else b=this.$normalize_system_path(b,c["$[]"]("start"),l,r(["target_name"],{target_name:q(e=c["$[]"]("label"))?e:"asset"})),m=this.$read_asset(b,r(["normalize","warn_on_failure",
"label"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0),label:c["$[]"]("label")}));q(q(e=q(f=m)?c["$[]"]("warn_if_empty"):f)?m["$empty?"]():e)&&this.$logger().$warn("contents of "+(q(e=c["$[]"]("label"))?e:"asset")+" is empty: "+b);return m},va.$$arity=-2);return(a.def(c,"$is_uri?",ha=function(a){return h(d,"Helpers")["$uriish?"](a)},ha.$$arity=1),l)&&"is_uri?"})(d[0],null,d)}(k[0],k)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,p=a.const_get_qualified,h=a.const_get_relative,e=a.module,q=a.klass,r=a.hash2,m=a.send,t=a.truthy;a.add_stubs("$attr_reader $attr_writer $attr_accessor $== $=== $level $file $lineno $playback_attributes $convert $converter $join $map $to_s $parent $parent= $- $<< $empty? $Integer $find_by_internal $to_proc $context $[] $items $+ $find_index $include? $next_adjacent_block $blocks $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $delete $reftext $! $nil_or_empty? $sub_placeholder $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $numeral= $numeral $caption= $int_to_roman $each $assign_numeral $reindex_sections $protected $has_role? $raise $header? $!= $flatten $head $rows $merge $body $foot $style $inner_document".split(" "));
return function(d,c){d=[e(d,"Asciidoctor")].concat(c);(function(c,$super,e){c=q(c,$super,"AbstractBlock");var d=[c].concat(e),f,n,k,v,u,z,F,E,y,O,T,B,D,U,A,ja,G,ra,I,J,K,H,aa,M,na,qa,P,Q,S,Ra;c.$$prototype.source_location=c.$$prototype.document=c.$$prototype.attributes=c.$$prototype.blocks=c.$$prototype.numeral=c.$$prototype.context=c.$$prototype.parent=c.$$prototype.caption=c.$$prototype.style=c.$$prototype.converted_title=c.$$prototype.title=c.$$prototype.subs=c.$$prototype.next_section_index=c.$$prototype.next_section_ordinal=
c.$$prototype.id=c.$$prototype.header=l;c.$attr_reader("blocks");c.$attr_writer("caption");c.$attr_accessor("content_model");c.$attr_accessor("level");c.$attr_accessor("numeral");c.$attr_accessor("source_location");c.$attr_accessor("style");c.$attr_reader("subs");a.def(c,"$initialize",f=function(b,c,e){var g,n=f.$$p,k;n&&(f.$$p=null);var p=0;var v=arguments.length;for(k=Array(v);p<v;p++)k[p]=arguments[p];null==e&&(e=r([],{}));m(this,a.find_super_dispatcher(this,"initialize",f,!1),k,n);this.content_model=
"compound";this.blocks=[];this.subs=[];this.id=this.title=this.caption=this.numeral=this.style=this.default_subs=this.source_location=l;return t(t(g=c["$=="]("document"))?g:c["$=="]("section"))?(this.level=this.next_section_index=0,this.next_section_ordinal=1):t(h(d,"AbstractBlock")["$==="](b))?this.level=b.$level():this.level=l},f.$$arity=-3);a.def(c,"$block?",n=function(){return!0},n.$$arity=0);a.def(c,"$inline?",k=function(){return!1},k.$$arity=0);a.def(c,"$file",v=function(){var a;return t(a=
this.source_location)?this.source_location.$file():a},v.$$arity=0);a.def(c,"$lineno",u=function(){var a;return t(a=this.source_location)?this.source_location.$lineno():a},u.$$arity=0);a.def(c,"$convert",z=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},z.$$arity=0);a.alias(c,"render","convert");a.def(c,"$content",F=function(){var a;return m(this.blocks,"map",[],(a=function(a){null==a&&(a=l);return a.$convert()},a.$$s=this,a.$$arity=1,a)).$join(h(d,
"LF"))},F.$$arity=0);a.def(c,"$context=",E=function(a){return this.node_name=(this.context=a).$to_s()},E.$$arity=1);a.def(c,"$<<",y=function(c){if(!c.$parent()["$=="](this)){var e=[this];m(c,"parent=",a.to_a(e));e[b(e.length,1)]}this.blocks["$<<"](c);return this},y.$$arity=1);a.alias(c,"append","<<");a.def(c,"$blocks?",O=function(){return t(this.blocks["$empty?"]())?!1:!0},O.$$arity=0);a.def(c,"$sections?",T=function(){return!1},T.$$arity=0);a.def(c,"$number",B=function(){try{return this.$Integer(this.numeral)}catch(la){if(a.rescue(la,
[h(d,"StandardError")]))try{return this.numeral}finally{a.pop_exception()}else throw la;}},B.$$arity=0);a.def(c,"$number=",D=function(a){return this.numeral=a.$to_s()},D.$$arity=1);a.def(c,"$find_by",U=function(b){var c=U.$$p,e=c||l,d=l;c&&(U.$$p=null);c&&(U.$$p=null);null==b&&(b=r([],{}));try{return m(this,"find_by_internal",[b,d=[]],e.$to_proc())}catch(Ka){if(a.rescue(Ka,[p("::","StopIteration")]))try{return d}finally{a.pop_exception()}else throw Ka;}},U.$$arity=-1);a.alias(c,"query","find_by");
a.def(c,"$next_adjacent_block",A=function(){var a,b=l,c=l;return this.context["$=="]("document")?l:t((b=this.parent).$context()["$=="]("dlist")?this.context["$=="]("list_item"):(b=this.parent).$context()["$=="]("dlist"))?t(c=b.$items()["$[]"](g(m(b.$items(),"find_index",[],(a=function(b,c){var e=a.$$s||this,d;null==b&&(b=l);null==c&&(c=l);return t(d=b["$include?"](e))?d:c["$=="](e)},a.$$s=this,a.$$arity=2,a)),1)))?c:b.$next_adjacent_block():t(c=b.$blocks()["$[]"](g(b.$blocks().$find_index(this),1)))?
c:b.$next_adjacent_block()},A.$$arity=0);a.def(c,"$sections",ja=function(){var a;return m(this.blocks,"select",[],(a=function(a){null==a&&(a=l);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},ja.$$arity=0);a.def(c,"$alt",G=function(){var a;if(t(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);a=this.$sub_specialchars(a);return t(h(d,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return""},G.$$arity=
0);a.def(c,"$caption",ra=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},ra.$$arity=0);a.def(c,"$captioned_title",I=function(){return""+this.caption+this.$title()},I.$$arity=0);a.def(c,"$list_marker_keyword",J=function(a){var b;null==a&&(a=l);return h(d,"ORDERED_LIST_KEYWORDS")["$[]"](t(b=a)?b:this.style)},J.$$arity=-1);a.def(c,"$title",K=function(){var a,b;return this.converted_title=t(a=this.converted_title)?a:t(b=this.title)?this.$apply_title_subs(this.title):
b},K.$$arity=0);a.def(c,"$title?",H=function(){return t(this.title)?!0:!1},H.$$arity=0);a.def(c,"$title=",aa=function(a){this.converted_title=l;return this.title=a},aa.$$arity=1);a.def(c,"$sub?",M=function(a){return this.subs["$include?"](a)},M.$$arity=1);a.def(c,"$remove_sub",na=function(a){this.subs.$delete(a);return l},na.$$arity=1);a.def(c,"$xreftext",qa=function(a){var b,c,e=l,f=l,g=l;null==a&&(a=l);t(t(b=e=this.$reftext())?e["$empty?"]()["$!"]():b)?b=e:(t(t(b=t(c=a)?this.title:c)?this.caption["$nil_or_empty?"]()["$!"]():
b)?"full"["$==="](a)?(a=this.$sub_placeholder(this.$sub_quotes(t(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=t(t(b=t(c=this.numeral)?f=h(d,"CAPTION_ATTRIBUTE_NAMES")["$[]"](this.context):c)?g=this.document.$attributes()["$[]"](f):b)?""+g+" "+this.numeral+", "+a:""+this.caption.$chomp(". ")+", "+a):a="short"["$==="](a)?t(t(b=t(c=this.numeral)?f=h(d,"CAPTION_ATTRIBUTE_NAMES")["$[]"](this.context):c)?g=this.document.$attributes()["$[]"](f):b)?""+g+" "+this.numeral:this.caption.$chomp(". "):
this.$title():a=this.$title(),b=a);return b},qa.$$arity=-1);a.def(c,"$assign_caption",P=function(a,b){var c,e,f=l,g=l;null==b&&(b=this.context);!t(t(c=t(e=this.caption)?e:this.title["$!"]())?c:this.caption=t(e=a)?e:this.document.$attributes()["$[]"]("caption"))&&t(t(c=f=h(d,"CAPTION_ATTRIBUTE_NAMES")["$[]"](b))?g=this.document.$attributes()["$[]"](f):c)&&(this.caption=""+g+" "+(this.numeral=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return l},P.$$arity=-2);a.def(c,"$assign_numeral",
Q=function(c){var e,f=l,n,k=l;this.next_section_index=g((f=[this.next_section_index],m(c,"index=",a.to_a(f)),f[b(f.length,1)]),1);t(f=c.$numbered())&&((n=c.$sectname())["$=="]("appendix")?(f=[this.document.$counter("appendix-number","A")],m(c,"numeral=",a.to_a(f)),f[b(f.length,1)],f=[t(k=this.document.$attributes()["$[]"]("appendix-caption"))?""+k+" "+c.$numeral()+": ":""+c.$numeral()+". "],m(c,"caption=",a.to_a(f)),f[b(f.length,1)]):t(t(e=n["$=="]("chapter"))?e:f["$=="]("chapter"))?(f=[this.document.$counter("chapter-number",
1).$to_s()],m(c,"numeral=",a.to_a(f)),f[b(f.length,1)]):(f=[n["$=="]("part")?h(d,"Helpers").$int_to_roman(this.next_section_ordinal):this.next_section_ordinal.$to_s()],m(c,"numeral=",a.to_a(f)),f[b(f.length,1)],this.next_section_ordinal=g(this.next_section_ordinal,1)));return l},Q.$$arity=1);a.def(c,"$reindex_sections",S=function(){var a;this.next_section_index=0;this.next_section_ordinal=1;return m(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=l);return b.$context()["$=="]("section")?
(c.$assign_numeral(b),b.$reindex_sections()):l},a.$$s=this,a.$$arity=1,a))},S.$$arity=0);c.$protected();return(a.def(c,"$find_by_internal",Ra=function(b,c){var e=Ra.$$p,d=e||l,f,h,n,k,v,x,q,R,u,z,F=l,L=l,E=l,y=l,O=l,T=l;T=l;e&&(Ra.$$p=null);e&&(Ra.$$p=null);null==b&&(b=r([],{}));null==c&&(c=[]);if(t(t(f=t(h=t(n=t(k=F=t(L=b["$[]"]("context"))?l:!0)?k:L["$=="](this.context))?t(k=(E=b["$[]"]("style"))["$!"]())?k:E["$=="](this.style):n)?t(n=(y=b["$[]"]("role"))["$!"]())?n:this["$has_role?"](y):h)?t(h=
(O=b["$[]"]("id"))["$!"]())?h:O["$=="](this.id):f))if(d!==l)if(t(T=a.yield1(d,this))){if("prune"["$==="](T))return c["$<<"](this),t(O)&&this.$raise(p("::","StopIteration")),c;if("reject"["$==="](T))return t(O)&&this.$raise(p("::","StopIteration")),c;"stop"["$==="](T)?this.$raise(p("::","StopIteration")):(c["$<<"](this),t(O)&&this.$raise(p("::","StopIteration")))}else t(O)&&this.$raise(p("::","StopIteration"));else c["$<<"](this),t(O)&&this.$raise(p("::","StopIteration"));T=this.context;"document"["$==="](T)?
L["$=="]("document")||(t(t(f=this["$header?"]())?t(h=F)?h:L["$=="]("section"):f)&&m(this.header,"find_by_internal",[b,c],d.$to_proc()),m(this.blocks,"each",[],(v=function(a){null==a&&(a=l);return t(L["$=="]("section")?a.$context()["$!="]("section"):L["$=="]("section"))?l:m(a,"find_by_internal",[b,c],d.$to_proc())},v.$$s=this,v.$$arity=1,v))):"dlist"["$==="](T)?t(t(f=F)?f:L["$!="]("section"))&&m(this.blocks.$flatten(),"each",[],(x=function(a){null==a&&(a=l);return t(a)?m(a,"find_by_internal",[b,c],
d.$to_proc()):l},x.$$s=this,x.$$arity=1,x)):"table"["$==="](T)?t(b["$[]"]("traverse_documents"))?(m(this.$rows().$head(),"each",[],(q=function(a){var e=q.$$s||this,f;null==a&&(a=l);return m(a,"each",[],(f=function(a){null==a&&(a=l);return m(a,"find_by_internal",[b,c],d.$to_proc())},f.$$s=e,f.$$arity=1,f))},q.$$s=this,q.$$arity=1,q)),L["$=="]("inner_document")&&(b=b.$merge(r(["context"],{context:"document"}))),m(g(this.$rows().$body(),this.$rows().$foot()),"each",[],(R=function(a){var e=R.$$s||this,
f;null==a&&(a=l);return m(a,"each",[],(f=function(a){null==a&&(a=l);m(a,"find_by_internal",[b,c],d.$to_proc());return a.$style()["$=="]("asciidoc")?m(a.$inner_document(),"find_by_internal",[b,c],d.$to_proc()):l},f.$$s=e,f.$$arity=1,f))},R.$$s=this,R.$$arity=1,R))):m(g(g(this.$rows().$head(),this.$rows().$body()),this.$rows().$foot()),"each",[],(u=function(a){var e=u.$$s||this,f;null==a&&(a=l);return m(a,"each",[],(f=function(a){null==a&&(a=l);return m(a,"find_by_internal",[b,c],d.$to_proc())},f.$$s=
e,f.$$arity=1,f))},u.$$s=this,u.$$arity=1,u)):m(this.blocks,"each",[],(z=function(a){null==a&&(a=l);return t(L["$=="]("section")?a.$context()["$!="]("section"):L["$=="]("section"))?l:m(a,"find_by_internal",[b,c],d.$to_proc())},z.$$s=this,z.$$arity=1,z));return c},Ra.$$arity=-1),l)&&"find_by_internal"})(d[0],h(d,"AbstractNode"),d)}(k[0],k)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=[],l=a.nil,p=a.const_get_qualified,h=a.const_get_relative,e=a.module,m=a.klass,r=a.hash,q=a.hash2,t=a.truthy,n=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $private $skip_blank $peek $=== $parse_attribute_value $get_byte $start_with? $scan_name $end_with? $rstrip $string $== $unscan $scan_to_delimiter $* $include? $delete $each $split $empty? $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(c,d){c=[e(c,"Asciidoctor")].concat(d);(function(c,$super,e){c=m(c,$super,"AttributeList");var d=[c].concat(e),f,k,v,u,z,F,E,y,O,T,W,B;c.$$prototype.attributes=c.$$prototype.scanner=c.$$prototype.delimiter=c.$$prototype.block=c.$$prototype.delimiter_skip_pattern=c.$$prototype.delimiter_boundary_pattern=l;a.const_set(d[0],"APOS","'");a.const_set(d[0],"BACKSLASH","\\");a.const_set(d[0],"QUOT",'"');a.const_set(d[0],"BoundaryRx",r(h(d,"QUOT"),/.*?[^\\](?=")/,h(d,"APOS"),/.*?[^\\](?=')/,
",",/.*?(?=[ \t]*(,|$))/));a.const_set(d[0],"EscapedQuotes",r(h(d,"QUOT"),'\\"',h(d,"APOS"),"\\'"));a.const_set(d[0],"NameRx",new RegExp(""+h(d,"CG_WORD")+"["+h(d,"CC_WORD")+"\\-.]*"));a.const_set(d[0],"BlankRx",/[ \t]+/);a.const_set(d[0],"SkipRx",q([","],{",":/[ \t]*(,|$)/}));a.def(c,"$initialize",f=function(a,b,c){null==b&&(b=l);null==c&&(c=",");this.scanner=p("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=h(d,"SkipRx")["$[]"](c);this.delimiter_boundary_pattern=
h(d,"BoundaryRx")["$[]"](c);return this.attributes=l},f.$$arity=-2);a.def(c,"$parse_into",k=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},k.$$arity=-2);a.def(c,"$parse",v=function(a){var c;null==a&&(a=[]);if(t(this.attributes))return this.attributes;this.attributes=q([],{});for(c=0;t(this.$parse_attribute(c,a))&&!t(this.scanner["$eos?"]());)this.$skip_delimiter(),c=b(c,1);return this.attributes},v.$$arity=-1);a.def(c,"$rekey",u=function(a){return h(d,"AttributeList").$rekey(this.attributes,
a)},u.$$arity=1);a.defs(c,"$rekey",z=function(c,e){var d;n(e,"each_with_index",[],(d=function(e,d){var f,h=l;null==e&&(e=l);null==d&&(d=l);return t(t(f=e)?h=c["$[]"](b(d,1)):f)?(e=[e,h],n(c,"[]=",a.to_a(e)),e[g(e.length,1)]):l},d.$$s=this,d.$$arity=2,d));return c},z.$$arity=2);c.$private();a.def(c,"$parse_attribute",F=function(c,e){var f,k,r,p=l,v=l,x=l,m=l,q=v=l,R=l;q=q=l;p=!0;this.$skip_blank();v=this.scanner.$peek(1);if(h(d,"QUOT")["$==="](v))x=this.$parse_attribute_value(this.scanner.$get_byte());
else if(h(d,"APOS")["$==="](v))x=this.$parse_attribute_value(this.scanner.$get_byte()),t(x["$start_with?"](h(d,"APOS")))||(m=!0);else if(v=t(f=t(k=x=this.$scan_name())?this.$skip_blank():k)?f:0,t(this.scanner["$eos?"]())){if(!t(t(f=x)?f:this.scanner.$string().$rstrip()["$end_with?"](this.delimiter)))return l;p=l}else if((q=this.scanner.$get_byte())["$=="](this.delimiter))this.scanner.$unscan();else if(t(x))if(q["$=="]("="))if(this.$skip_blank(),v=q=this.scanner.$get_byte(),h(d,"QUOT")["$==="](v))R=
this.$parse_attribute_value(q);else if(h(d,"APOS")["$==="](v))R=this.$parse_attribute_value(q),t(R["$start_with?"](h(d,"APOS")))||(m=!0);else if(this.delimiter["$==="](v))R="",this.scanner.$unscan();else if(l["$==="](v))R="";else{if(R=""+q+this.$scan_to_delimiter(),R["$=="]("None"))return!0}else x=""+x+" "["$*"](v)+q+this.$scan_to_delimiter();else x=""+q+this.$scan_to_delimiter();t(R)?(v=x,"options"["$==="](v)||"opts"["$==="](v)?t(R["$include?"](","))?(t(R["$include?"](" "))&&(R=R.$delete(" ")),n(R.$split(","),
"each",[],(r=function(b){var c=r.$$s||this;null==c.attributes&&(c.attributes=l);null==b&&(b=l);if(t(b["$empty?"]()))return l;b=[""+b+"-option",""];n(c.attributes,"[]=",a.to_a(b));return b[g(b.length,1)]},r.$$s=this,r.$$arity=1,r))):t(R["$empty?"]())||(q=[""+R+"-option",""],n(this.attributes,"[]=",a.to_a(q)),q[g(q.length,1)]):(t(t(f=m)?this.block:f)?(v=x,q="title"["$==="](v)||"reftext"["$==="](v)?[x,R]:[x,this.block.$apply_subs(R)]):q=[x,R],n(this.attributes,"[]=",a.to_a(q)),q[g(q.length,1)])):(t(t(f=
m)?this.block:f)&&(x=this.block.$apply_subs(x)),t(t(f=q=e["$[]"](c))?x:f)&&(q=[q,x],n(this.attributes,"[]=",a.to_a(q)),q[g(q.length,1)]),q=[b(c,1),x],n(this.attributes,"[]=",a.to_a(q)),q[g(q.length,1)]);return p},F.$$arity=2);a.def(c,"$parse_attribute_value",E=function(a){var b;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):t(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),t(b["$include?"](h(d,"BACKSLASH")))?b.$gsub(h(d,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},
E.$$arity=1);a.def(c,"$skip_blank",y=function(){return this.scanner.$skip(h(d,"BlankRx"))},y.$$arity=0);a.def(c,"$skip_delimiter",O=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},O.$$arity=0);a.def(c,"$scan_name",T=function(){return this.scanner.$scan(h(d,"NameRx"))},T.$$arity=0);a.def(c,"$scan_to_delimiter",W=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},W.$$arity=0);return(a.def(c,"$scan_to_quote",B=function(a){return this.scanner.$scan(h(d,"BoundaryRx")["$[]"](a))},
B.$$arity=1),l)&&"scan_to_quote"})(c[0],null,c)}(k[0],k)};Opal.modules["asciidoctor/block"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],k=a.nil,l=a.const_get_qualified,p=a.const_get_relative,h=a.module,e=a.klass,q=a.send,r=a.hash2,m=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $=== $drop $delete $to_s $[]= $commit_subs $nil_or_empty? $prepare_source_string $apply_subs $join $< $size $empty? $rstrip $shift $pop $== $warn $logger $class $object_id $inspect".split(" "));
return function(d,g){d=[h(d,"Asciidoctor")].concat(g);(function(c,$super,d){c=e(c,$super,"Block");var g=[c].concat(d),h,n,v,t;d=k;c.$$prototype.attributes=c.$$prototype.content_model=c.$$prototype.lines=c.$$prototype.subs=c.$$prototype.blocks=c.$$prototype.context=c.$$prototype.style=k;d=["simple"];q(a.const_set(g[0],"DEFAULT_CONTENT_MODEL",r("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",
open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(d));d[b(d.length,1)];a.alias(c,"blockname","context");c.$attr_accessor("lines");a.def(c,"$initialize",h=function(c,e,d){var n,v=h.$$p,x,t;v&&(h.$$p=null);var R=0;var u=arguments.length;for(t=Array(u);R<u;R++)t[R]=arguments[R];null==d&&(d=r([],{}));q(this,a.find_super_dispatcher(this,"initialize",h,!1),t,v);this.content_model=m(n=d["$[]"]("content_model"))?n:p(g,"DEFAULT_CONTENT_MODEL")["$[]"](e);
m(d["$key?"]("subs"))?m(n=d["$[]"]("subs"))?("default"["$==="](n)?this.default_subs=d["$[]"]("default_subs"):l("::","Array")["$==="](n)?(this.default_subs=n.$drop(0),this.attributes.$delete("subs")):(this.default_subs=k,n=["subs",n.$to_s()],q(this.attributes,"[]=",a.to_a(n)),n[b(n.length,1)]),this.$commit_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=k;return m((x=d["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:m(l("::","String")["$==="](x))?this.lines=p(g,
"Helpers").$prepare_source_string(x):this.lines=x.$drop(0)},h.$$arity=-3);a.def(c,"$content",n=function(){var b,c=n.$$p,e=this,d=k,h=k,l=k,r=k,v=k,t=k,R=k;c&&(n.$$p=null);t=0;R=arguments.length;for(v=Array(R);t<R;t++)v[t]=arguments[t];return function(){d=e.content_model;if("compound"["$==="](d))return q(e,a.find_super_dispatcher(e,"content",n,!1),v,c);if("simple"["$==="](d))return e.$apply_subs(e.lines.$join(p(g,"LF")),e.subs);if("verbatim"["$==="](d)||"raw"["$==="](d)){h=e.$apply_subs(e.lines,e.subs);
var x=h.$size();x="number"===typeof x?2>x:x["$<"](2);if(m(x))return h["$[]"](0);for(;m(m(b=l=h["$[]"](0))?l.$rstrip()["$empty?"]():b);)h.$shift();for(;m(m(b=r=h["$[]"](-1))?r.$rstrip()["$empty?"]():b);)h.$pop();return h.$join(p(g,"LF"))}e.content_model["$=="]("empty")||e.$logger().$warn("Unknown content model '"+e.content_model+"' for block: "+e);return k}()},n.$$arity=0);a.def(c,"$source",v=function(){return this.lines.$join(p(g,"LF"))},v.$$arity=0);return(a.def(c,"$to_s",t=function(){var a=this.content_model["$=="]("compound")?
"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},t.$$arity=0),k)&&"to_s"})(d[0],p(d,"AbstractBlock"),d)}(g[0],g)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:
a["$-"](b)}var k=[],l=a.nil,p=a.module,h=a.klass,e=a.hash2,q=a.truthy,r=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $private $generate_callout_id".split(" "));return function(d,k){d=[p(d,"Asciidoctor")].concat(k);(function(d,$super,f){d=h(d,$super,"Callouts");[d].concat(f);var n,k,p,v,m,t,x,u,z;d.$$prototype.co_index=d.$$prototype.lists=d.$$prototype.list_index=l;a.def(d,"$initialize",n=function(){this.lists=[];this.list_index=
0;return this.$next_list()},n.$$arity=0);a.def(d,"$register",k=function(a){this.$current_list()["$<<"](e(["ordinal","id"],{ordinal:a.$to_i(),id:a=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return a},k.$$arity=1);a.def(d,"$read_next_id",p=function(){var a=l;var e=this.$current_list();var d=this.co_index;var f=e.$size();d="number"===typeof d&&"number"===typeof f?d<=f:d["$<="](f);q(d)&&(a=e["$[]"](g(this.co_index,1))["$[]"]("id"));this.co_index=b(this.co_index,1);return a},
p.$$arity=0);a.def(d,"$callout_ids",v=function(a){var b;return r(this.$current_list(),"map",[],(b=function(b){null==b&&(b=l);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,b)).$join().$chop()},v.$$arity=1);a.def(d,"$current_list",m=function(){return this.lists["$[]"](g(this.list_index,1))},m.$$arity=0);a.def(d,"$next_list",t=function(){this.list_index=b(this.list_index,1);var a=this.lists.$size();var e=this.list_index;a="number"===typeof a&&"number"===typeof e?
a<e:a["$<"](e);if(q(a))this.lists["$<<"]([]);this.co_index=1;return l},t.$$arity=0);a.def(d,"$rewind",x=function(){this.co_index=this.list_index=1;return l},x.$$arity=0);d.$private();a.def(d,"$generate_next_callout_id",u=function(){return this.$generate_callout_id(this.list_index,this.co_index)},u.$$arity=0);return(a.def(d,"$generate_callout_id",z=function(a,b){return"CO"+a+"-"+b},z.$$arity=2),l)&&"generate_callout_id"})(d[0],null,d)}(k[0],k)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,
b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,p=a.const_get_qualified,h=a.const_get_relative,e=a.module,q=a.hash2,r=a.truthy,m=a.send,t=a.klass,n=a.gvars;a.add_stubs("$autoload $__dir__ $== $attr_reader $raise $class $[] $sub $slice $length $[]= $backend_traits $- $derive_backend_traits $register $map $to_s $new $create $default $each $default= $registry $for $=== $supports_templates? $merge $private $include $delete $clear $send $extend $private_class_method $node_name $+ $receiver $name $warn $logger $respond_to? $content".split(" "));
return function(c,d){c=[e(c,"Asciidoctor")].concat(d);(function(c,d){c=e(c,"Converter");var f=[c].concat(d),k,v,u,x,z;c.$autoload("CompositeConverter",""+c.$__dir__()+"/converter/composite");h(f,"RUBY_ENGINE")["$=="]("opal")||l;c.$attr_reader("backend");a.def(c,"$initialize",k=function(a,b){null==b&&q([],{});return this.backend=a},k.$$arity=-2);a.def(c,"$convert",v=function(a,b,c){null==this.backend&&(this.backend=l);return this.$raise(p("::","NotImplementedError"),""+this.$class()+" (backend: "+
this.backend+") must implement the #convert method")},v.$$arity=-2);a.def(c,"$handles?",u=function(a){return!0},u.$$arity=1);a.defs(c,"$derive_backend_traits",x=function(a,b){var c,e,d;null==b&&(b=l);if(!r(a))return q([],{});r(e=h(f,"DEFAULT_EXTENSIONS")["$[]"](b=r(c=b)?c:a.$sub(h(f,"TrailingDigitsRx"),"")))?d=e.$slice(1,e.$length()):e="."+(d=b);return d["$=="]("html")?q(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:b,filetype:d,htmlsyntax:"html",outfilesuffix:e}):q(["basebackend",
"filetype","outfilesuffix"],{basebackend:b,filetype:d,outfilesuffix:e})},x.$$arity=-2);(function(c,d){c=e(c,"BackendTraits");var f=[c].concat(d),g,n,k,p,v,x,t,R,u;a.def(c,"$basebackend",g=function(c){null==c&&(c=l);if(r(c)){var e=["basebackend",c];m(this.$backend_traits(c),"[]=",a.to_a(e));return e[b(e.length,1)]}return this.$backend_traits()["$[]"]("basebackend")},g.$$arity=-1);a.def(c,"$filetype",n=function(c){null==c&&(c=l);return r(c)?(c=["filetype",c],m(this.$backend_traits(),"[]=",a.to_a(c)),
c[b(c.length,1)]):this.$backend_traits()["$[]"]("filetype")},n.$$arity=-1);a.def(c,"$htmlsyntax",k=function(c){null==c&&(c=l);return r(c)?(c=["htmlsyntax",c],m(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},k.$$arity=-1);a.def(c,"$outfilesuffix",p=function(c){null==c&&(c=l);return r(c)?(c=["outfilesuffix",c],m(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},p.$$arity=-1);a.def(c,"$supports_templates",
v=function(c){null==c&&(c=!0);c=["supports_templates",c];m(this.$backend_traits(),"[]=",a.to_a(c));return c[b(c.length,1)]},v.$$arity=-1);a.def(c,"$supports_templates?",x=function(){return this.$backend_traits()["$[]"]("supports_templates")},x.$$arity=0);a.def(c,"$init_backend_traits",t=function(a){var b;null==a&&(a=l);return this.backend_traits=r(b=a)?b:q([],{})},t.$$arity=-1);a.def(c,"$backend_traits",R=function(a){var b;null==this.backend_traits&&(this.backend_traits=l);null==this.backend&&(this.backend=
l);null==a&&(a=l);return this.backend_traits=r(b=this.backend_traits)?b:h(f,"Converter").$derive_backend_traits(this.backend,a)},R.$$arity=-1);a.alias(c,"backend_info","backend_traits");a.defs(c,"$derive_backend_traits",u=function(a,b){null==b&&(b=l);return h(f,"Converter").$derive_backend_traits(a,b)},u.$$arity=-2)})(f[0],f);(function(b,c){b=e(b,"Config");var d=[b].concat(c),f;a.def(b,"$register_for",f=function(b){var c;var e=a.slice.call(arguments,0,arguments.length);return m(h(d,"Converter"),"register",
[this].concat(a.to_a(m(e,"map",[],(c=function(a){null==a&&(a=l);return a.$to_s()},c.$$s=this,c.$$arity=1,c)))))},f.$$arity=-1)})(f[0],f);(function(c,d){c=e(c,"Factory");var f=[c].concat(d),g,n,k,v,x,t,R,u;a.defs(c,"$new",g=function(b,c){var e=a.slice.call(arguments,0,arguments.length);var d=a.extract_kwargs(e);if(null==d)d=q([],{});else if(!d.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<e.length){var g=e[0];e.splice(0,1)}null==g&&(g=l);e=d.$$smap.proxy_default;null==e&&(e=!0);return r(e)?
h(f,"DefaultFactoryProxy").$new(g):h(f,"CustomFactory").$new(g)},g.$$arity=-1);a.defs(c,"$default",n=function(b){a.slice.call(arguments,0,arguments.length);return h(f,"Converter")},n.$$arity=-1);a.defs(c,"$create",k=function(a,b){null==b&&(b=q([],{}));return this.$default().$create(a,b)},k.$$arity=-2);a.def(c,"$register",v=function(c,e){var d;var f=a.slice.call(arguments,1,arguments.length);return m(f,"each",[],(d=function(e){var f=d.$$s||this;null==e&&(e=l);e["$=="]("*")?(e=[c],m(f.$registry(),"default=",
a.to_a(e))):(e=[e,c],m(f.$registry(),"[]=",a.to_a(e)));return e[b(e.length,1)]},d.$$s=this,d.$$arity=1,d))},v.$$arity=-2);a.def(c,"$for",x=function(a){return this.$registry()["$[]"](a)},x.$$arity=1);a.def(c,"$create",t=function(a,b){var c,e,d,g,n=l;null==b&&(b=q([],{}));return r(d=this.$for(a))?(r(p("::","Class")["$==="](d))&&(d=d.$new(a,b)),r(r(c=r(e=g=b["$[]"]("template_dirs"))?h(f,"BackendTraits")["$==="](d):e)?d["$supports_templates?"]():c)?h(f,"CompositeConverter").$new(a,h(f,"TemplateConverter").$new(a,
g,b),d,q(["backend_traits_source"],{backend_traits_source:d})):d):r(g=b["$[]"]("template_dirs"))?r(r(c=n=b["$[]"]("delegate_backend"))?d=this.$for(n):c)?(r(p("::","Class")["$==="](d))&&(d=d.$new(n,b)),h(f,"CompositeConverter").$new(a,h(f,"TemplateConverter").$new(a,g,b),d,q(["backend_traits_source"],{backend_traits_source:d}))):h(f,"TemplateConverter").$new(a,g,b):l},t.$$arity=-2);a.def(c,"$converters",R=function(){return this.$registry().$merge()},R.$$arity=0);c.$private();a.def(c,"$registry",u=
function(){return this.$raise(p("::","NotImplementedError"),""+h(f,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},u.$$arity=0)})(f[0],f);(function(c,$super,e){c=t(c,$super,"CustomFactory");e=[c].concat(e);var d,f;c.$include(h(e,"Factory"));a.def(c,"$initialize",d=function(c){null==c&&(c=l);if(r(c)){var e=[c.$delete("*")];m(c,"default=",a.to_a(e));e[b(e.length,1)];return this.registry=c}return this.registry=q([],{})},d.$$arity=-1);a.def(c,"$unregister_all",f=function(){var c=
[l];m(this.$registry().$clear(),"default=",a.to_a(c));return c[b(c.length,1)]},f.$$arity=0);c.$private();return c.$attr_reader("registry")})(f[0],null,f);(function(b,c){b=e(b,"DefaultFactory");var d=[b].concat(c),f;b.$include(h(d,"Factory"));b.$private();a.class_variable_set(d[0],"@@registry",q([],{}));a.def(b,"$registry",f=function(){var a;return null==(a=d[0].$$cvars["@@registry"])?l:a},f.$$arity=0);h(d,"RUBY_ENGINE")["$=="]("opal")||l})(f[0],f);(function(a,$super,b){a=t(a,$super,"DefaultFactoryProxy");
b=[a].concat(b);a.$include(h(b,"DefaultFactory"));h(b,"RUBY_ENGINE")["$=="]("opal");return l})(f[0],h(f,"CustomFactory"),f);a.defs(c,"$included",z=function(a){a.$send("include",h(f,"BackendTraits"));return a.$extend(h(f,"Config"))},z.$$arity=1);c.$private_class_method("included");(function(b,$super,c){b=t(b,$super,"Base");var e=[b].concat(c),d,f,k,v;b.$$prototype.backend=l;b.$include(h(e,"Logging"));b.$include(h(e,"Converter"));a.def(b,"$convert",d=function(b,c,d){var f,k,v=l;null==n["!"]&&(n["!"]=
l);null==c&&(c=b.$node_name());null==d&&(d=l);try{return r(d)?this.$send(g("convert_",c),b,d):this.$send(g("convert_",c),b)}catch(V){if(a.rescue(V,[h(e,"StandardError")]))try{return r(r(f=r(k=p("::","NoMethodError")["$==="](v=n["!"]))?v.$receiver()["$=="](this):k)?v.$name().$to_s()["$=="](c):f)||this.$raise(),this.$logger().$warn("missing convert handler for "+v.$name()+" node in "+this.backend+" backend ("+this.$class()+")"),l}finally{a.pop_exception()}else throw V;}},d.$$arity=-2);a.def(b,"$handles?",
f=function(a){return this["$respond_to?"]("convert_"+a)},f.$$arity=1);a.def(b,"$content_only",k=function(a){return a.$content()},k.$$arity=1);return(a.def(b,"$skip",v=function(a){return l},v.$$arity=1),l)&&"skip"})(f[0],null,f);c.$extend(h(f,"DefaultFactory"))})(c[0],c)}(k[0],k)};Opal.modules["asciidoctor/document"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function k(a,
b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var h=[],e=a.nil,q=a.const_get_qualified,r=a.const_get_relative,m=a.module,t=a.klass,n=a.send,c=a.truthy,f=a.hash2,u=a.hash,y=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $merge $catalog $instance_variable_get $attributes $safe $compat_mode $outfilesuffix $sourcemap $path_resolver $converter $extensions $syntax_highlighter $each $end_with? $start_with? $slice $length $chop $== $downcase $=== $extname $value_for_name $key? $freeze $attribute_undefined $attribute_missing $update $& $keys $name_for_value $expand_path $pwd $to_s $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $fetch $fill_datetime_attributes $activate $groups $create $to_proc $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $attribute_locked? $nil_or_empty? $nextval $value $save_to $register $tap $xreftext $> $source $source_lines $doctitle $sectname= $title= $first_section $title $reftext $< $find $context $assign_numeral $clear_playback_attributes $save_attributes $name $negate $rewind $replace $apply_attribute_value_subs $delete? $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $class $write_alternate_pages $map $split $resolve_docinfo_subs $normalize_system_path $read_asset $apply_subs $docinfo_processors? $join $concat $compact $docinfo_processors $object_id $inspect $size $private $=~ $resolve_pass_subs $apply_header_subs $limit_bytesize $bytesize $valid_encoding? $byteslice $resolve_subs $utc $at $Integer $now $index $strftime $year $utc_offset $partition $create_converter $basebackend $filetype $htmlsyntax $derive_backend_traits $raise".split(" "));
return function(d,h){d=[m(d,"Asciidoctor")].concat(h);(function(d,$super,h){d=t(d,$super,"Document");var v=[d].concat(h),x,m,R,z,F,E,L,O,B,D,A,W,G,U,J,K,H,pa,aa,na,qa,M,P,Q,S,la,va,ha,Aa,X,ua,Ha,Fa,Da,Sa,Qa,Oa,Ga,za,Ya,Pa,Va,Wa,ab,Xa,Y,w,C,ma,N,Z,oa,db;d.$$prototype.attributes=d.$$prototype.safe=d.$$prototype.sourcemap=d.$$prototype.reader=d.$$prototype.base_dir=d.$$prototype.parsed=d.$$prototype.parent_document=d.$$prototype.extensions=d.$$prototype.options=d.$$prototype.counters=d.$$prototype.catalog=
d.$$prototype.reftexts=d.$$prototype.next_section_index=d.$$prototype.header=d.$$prototype.blocks=d.$$prototype.header_attributes=d.$$prototype.attributes_modified=d.$$prototype.backend=d.$$prototype.attribute_overrides=d.$$prototype.timings=d.$$prototype.converter=d.$$prototype.outfilesuffix=d.$$prototype.docinfo_processor_extensions=d.$$prototype.document=d.$$prototype.max_attribute_value_size=d.$$prototype.id=d.$$prototype.doctype=e;a.const_set(v[0],"ImageReference",n(q("::","Struct"),"new",["target",
"imagesdir"],(x=function(){return a.alias(x.$$s||this,"to_s","target")},x.$$s=d,x.$$arity=0,x)));a.const_set(v[0],"Footnote",q("::","Struct").$new("index","id","text"));(function(d,$super,f){d=t(d,$super,"AttributeEntry");[d].concat(f);var g,h;d.$attr_reader("name","value","negate");a.def(d,"$initialize",g=function(a,b,d){null==d&&(d=e);this.name=a;this.value=b;return this.negate=c(d["$nil?"]())?b["$nil?"]():d},g.$$arity=-3);return(a.def(d,"$save_to",h=function(d){var f,g=e;(c(f=d["$[]"]("attribute_entries"))?
f:(g=["attribute_entries",[]],n(d,"[]=",a.to_a(g)),g[b(g.length,1)]))["$<<"](this);return this},h.$$arity=1),e)&&"save_to"})(v[0],null,v);(function(b,$super,d){b=t(b,$super,"Title");var g=[b].concat(d),h,n,w,k;b.$$prototype.sanitized=b.$$prototype.subtitle=b.$$prototype.combined=e;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",h=function(b,d){var h,n,w=e;null==d&&(d=f([],{}));c(c(h=this.sanitized=d["$[]"]("sanitize"))?b["$include?"]("<"):
h)&&(b=b.$gsub(r(g,"XmlSanitizeRx"),"").$squeeze(" ").$strip());c(c(h=(w=c(n=d["$[]"]("separator"))?n:":")["$empty?"]())?h:b["$include?"](w=""+w+" ")["$!"]())?(this.main=b,this.subtitle=e):(n=b.$rpartition(w),h=a.to_ary(n),this.main=null==h[0]?e:h[0],this.subtitle=null==h[2]?e:h[2],n);return this.combined=b},h.$$arity=-2);a.def(b,"$sanitized?",n=function(){return this.sanitized},n.$$arity=0);a.def(b,"$subtitle?",w=function(){return c(this.subtitle)?!0:!1},w.$$arity=0);return(a.def(b,"$to_s",k=function(){return this.combined},
k.$$arity=0),e)&&"to_s"})(v[0],null,v);a.const_set(v[0],"Author",q("::","Struct").$new("name","firstname","middlename","lastname","initials","email"));d.$attr_reader("safe");d.$attr_reader("compat_mode");d.$attr_reader("backend");d.$attr_reader("doctype");d.$attr_accessor("sourcemap");d.$attr_reader("catalog");a.alias(d,"references","catalog");d.$attr_reader("counters");d.$attr_reader("header");d.$attr_reader("base_dir");d.$attr_reader("options");d.$attr_reader("outfilesuffix");d.$attr_reader("parent_document");
d.$attr_reader("reader");d.$attr_reader("path_resolver");d.$attr_reader("converter");d.$attr_reader("syntax_highlighter");d.$attr_reader("extensions");a.def(d,"$initialize",m=function(d,h){var w,l,p,x,C,t,R,Z=e,N=e,z=e,F=e,bb=e,ma=e,E=ma=ma=e,Ia=e,L=E=e,oa=E=E=e;Z=Z=Z=e;m.$$p&&(m.$$p=null);null==d&&(d=e);null==h&&(h=f([],{}));n(this,a.find_super_dispatcher(this,"initialize",m,!1),[this,"document"],null);if(c(Z=h.$delete("parent")))this.parent_document=Z,c(w=h["$[]"]("base_dir"))?w:(N=["base_dir",
Z.$base_dir()],n(h,"[]=",a.to_a(N)),N[b(N.length,1)]),c(Z.$options()["$[]"]("catalog_assets"))&&(N=["catalog_assets",!0],n(h,"[]=",a.to_a(N)),N[b(N.length,1)]),this.catalog=Z.$catalog().$merge(f(["footnotes"],{footnotes:[]})),this.attribute_overrides=z=Z.$instance_variable_get("@attribute_overrides").$merge(Z.$attributes()),z.$delete("compat-mode"),F=z.$delete("doctype"),z.$delete("notitle"),z.$delete("showtitle"),z.$delete("toc"),N=["toc-placement",c(w=z.$delete("toc-placement"))?w:"auto"],n(this.attributes,
"[]=",a.to_a(N)),N[b(N.length,1)],z.$delete("toc-position"),this.safe=Z.$safe(),c(this.compat_mode=Z.$compat_mode())&&(N=["compat-mode",""],n(this.attributes,"[]=",a.to_a(N)),N[b(N.length,1)]),this.outfilesuffix=Z.$outfilesuffix(),this.sourcemap=Z.$sourcemap(),this.timings=e,this.path_resolver=Z.$path_resolver(),this.converter=Z.$converter(),bb=e,this.extensions=Z.$extensions(),this.syntax_highlighter=Z.$syntax_highlighter();else{this.parent_document=e;this.catalog=f("ids refs footnotes links images callouts includes".split(" "),
{ids:f([],{}),refs:f([],{}),footnotes:[],links:[],images:[],callouts:r(v,"Callouts").$new(),includes:f([],{})});this.attribute_overrides=z=f([],{});n(c(w=h["$[]"]("attributes"))?w:f([],{}),"each",[],(l=function(d,f){var g;null==d&&(d=e);null==f&&(f=e);c(d["$end_with?"]("@"))?(c(d["$start_with?"]("!"))?(g=[d.$slice(1,b(d.$length(),2)),!1],d=g[0],f=g[1]):c(d["$end_with?"]("!@"))?(g=[d.$slice(0,b(d.$length(),2)),!1],d=g[0],f=g[1]):(g=[d.$chop(),""+f+"@"],d=g[0],f=g[1]),g):c(d["$start_with?"]("!"))?(g=
[d.$slice(1,d.$length()),f["$=="]("@")?!1:e],d=g[0],f=g[1],g):c(d["$end_with?"]("!"))&&(g=[d.$chop(),f["$=="]("@")?!1:e],d=g[0],f=g[1],g);N=[d.$downcase(),f];n(z,"[]=",a.to_a(N));return N[b(N.length,1)]},l.$$s=this,l.$$arity=2,l));c(q("::","String")["$==="](ma=h["$[]"]("to_file")))&&(N=["outfilesuffix",r(v,"Helpers").$extname(ma)],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);if(c((ma=h["$[]"]("safe"))["$!"]()))this.safe=q(r(v,"SafeMode"),"SECURE");else if(c(q("::","Integer")["$==="](ma)))this.safe=ma;else{a:{try{var y=
r(v,"SafeMode").$value_for_name(ma);break a}catch(qb){if(a.rescue(qb,[r(v,"StandardError")]))try{y=q(r(v,"SafeMode"),"SECURE");break a}finally{a.pop_exception()}else throw qb;}y=void 0}this.safe=y}ma=h.$delete("input_mtime");this.compat_mode=z["$key?"]("compat-mode");this.sourcemap=h["$[]"]("sourcemap");this.timings=h.$delete("timings");this.path_resolver=r(v,"PathResolver").$new();bb=c(c(w=(p=q("::","Asciidoctor","skip_raise"))&&q(p,"Extensions","skip_raise")?"constant":e)?w:h["$key?"]("extensions"))?
q(q("::","Asciidoctor"),"Extensions"):e;this.extensions=e;c(c(w=h["$key?"]("header_footer"))?h["$key?"]("standalone")["$!"]():w)&&(N=["standalone",h["$[]"]("header_footer")],n(h,"[]=",a.to_a(N)),N[b(N.length,1)])}this.parsed=this.reftexts=this.header=this.header_attributes=e;this.counters=f([],{});this.attributes_modified=q("::","Set").$new();this.docinfo_processor_extensions=f([],{});E=h["$[]"]("standalone");(this.options=h).$freeze();Ia=this.attributes;c(Z)||(N=["attribute-undefined",r(v,"Compliance").$attribute_undefined()],
n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)],N=["attribute-missing",r(v,"Compliance").$attribute_missing()],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)],Ia.$update(r(v,"DEFAULT_ATTRIBUTES")));c(E)?(N=["embedded",e],n(z,"[]=",a.to_a(N)),N[b(N.length,1)],N=["copycss",""],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)],N=["iconfont-remote",""],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)],N=["stylesheet",""],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)],N=["webfonts",""],n(Ia,"[]=",a.to_a(N))):(N=["embedded",""],n(z,"[]=",a.to_a(N)),
N[b(N.length,1)],c(c(w=z["$key?"]("showtitle"))?z.$keys()["$&"](["notitle","showtitle"])["$[]"](-1)["$=="]("showtitle"):w)?(N=["notitle",u(e,"",!1,"@","@",!1)["$[]"](z["$[]"]("showtitle"))],n(z,"[]=",a.to_a(N))):c(z["$key?"]("notitle"))?(N=["showtitle",u(e,"",!1,"@","@",!1)["$[]"](z["$[]"]("notitle"))],n(z,"[]=",a.to_a(N))):(N=["notitle",""],n(Ia,"[]=",a.to_a(N))));N[b(N.length,1)];N=["asciidoctor",""];n(z,"[]=",a.to_a(N));N[b(N.length,1)];N=["asciidoctor-version",q(q("::","Asciidoctor"),"VERSION")];
n(z,"[]=",a.to_a(N));N[b(N.length,1)];N=["safe-mode-name",E=r(v,"SafeMode").$name_for_value(this.safe)];n(z,"[]=",a.to_a(N));N[b(N.length,1)];N=["safe-mode-"+E,""];n(z,"[]=",a.to_a(N));N[b(N.length,1)];N=["safe-mode-level",this.safe];n(z,"[]=",a.to_a(N));N[b(N.length,1)];c(w=z["$[]"]("max-include-depth"))?w:(N=["max-include-depth",64],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);c(w=z["$[]"]("allow-uri-read"))?w:(N=["allow-uri-read",e],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);c(z["$key?"]("numbered"))&&(N=
["sectnums",z.$delete("numbered")],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);c(z["$key?"]("hardbreaks"))&&(N=["hardbreaks-option",z.$delete("hardbreaks")],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);c(L=h["$[]"]("base_dir"))?this.base_dir=(N=["docdir",q("::","File").$expand_path(L)],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]):c(z["$[]"]("docdir"))?this.base_dir=z["$[]"]("docdir"):this.base_dir=(N=["docdir",q("::","Dir").$pwd()],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);c(E=h["$[]"]("backend"))&&(N=["backend",E.$to_s()],
n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);c(E=h["$[]"]("doctype"))&&(N=["doctype",E.$to_s()],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);c(g(this.safe,q(r(v,"SafeMode"),"SERVER")))?(c(w=z["$[]"]("copycss"))?w:(N=["copycss",e],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]),c(w=z["$[]"]("source-highlighter"))?w:(N=["source-highlighter",e],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]),c(w=z["$[]"]("backend"))?w:(N=["backend",r(v,"DEFAULT_BACKEND")],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]),c(c(w=Z["$!"]())?z["$key?"]("docfile"):
w)&&(N=["docfile",z["$[]"]("docfile")["$[]"](a.Range.$new(k(z["$[]"]("docdir").$length(),1),-1,!1))],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]),N=["docdir",""],n(z,"[]=",a.to_a(N)),N[b(N.length,1)],c(w=z["$[]"]("user-home"))?w:(N=["user-home","."],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]),c(g(this.safe,q(r(v,"SafeMode"),"SECURE")))&&(c(z["$key?"]("max-attribute-value-size"))||(N=["max-attribute-value-size",4096],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]),c(z["$key?"]("linkcss"))||(N=["linkcss",""],n(z,"[]=",
a.to_a(N)),N[b(N.length,1)]),c(w=z["$[]"]("icons"))?w:(N=["icons",e],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]))):c(w=z["$[]"]("user-home"))?w:(N=["user-home",r(v,"USER_HOME")],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]);this.max_attribute_value_size=c(oa=c(w=z["$[]"]("max-attribute-value-size"))?w:(N=["max-attribute-value-size",e],n(z,"[]=",a.to_a(N)),N[b(N.length,1)]))?oa.$to_i().$abs():e;n(z,"delete_if",[],(x=function(d,f){var g,h=e;null==d&&(d=e);null==f&&(f=e);c(f)?(c(c(g=q("::","String")["$==="](f))?
f["$end_with?"]("@"):g)&&(g=[f.$chop(),!0],f=g[0],h=g[1],g),N=[d,f],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)]):(Ia.$delete(d),h=f["$=="](!1));return h},x.$$s=this,x.$$arity=2,x));if(c(Z))return this.backend=Ia["$[]"]("backend"),(this.doctype=(N=["doctype",F],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)]))["$=="](r(v,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(r(v,"DEFAULT_DOCTYPE")),this.reader=r(v,"Reader").$new(d,h["$[]"]("cursor")),c(this.sourcemap)&&(this.source_location=this.reader.$cursor()),
r(v,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=e;(Z=c(w=Ia["$[]"]("backend"))?w:r(v,"DEFAULT_BACKEND"))["$=="]("manpage")?this.doctype=(N=["doctype",(N=["doctype","manpage"],n(z,"[]=",a.to_a(N)),N[b(N.length,1)])],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)]):this.doctype=c(w=Ia["$[]"]("doctype"))?w:(N=["doctype",r(v,"DEFAULT_DOCTYPE")],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)]);this.$update_backend_attributes(Z,!0);c(w=Ia["$[]"]("stylesdir"))?w:(N=["stylesdir",
"."],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)]);c(w=Ia["$[]"]("iconsdir"))?w:(N=["iconsdir",""+Ia.$fetch("imagesdir","./images")+"/icons"],n(Ia,"[]=",a.to_a(N)),N[b(N.length,1)]);this.$fill_datetime_attributes(Ia,ma);c(bb)&&(c(Z=h["$[]"]("extension_registry"))?c(c(w=q(r(v,"Extensions"),"Registry")["$==="](Z))?w:c(C=(R=q("::","AsciidoctorJ","skip_raise"))&&(t=q(R,"Extensions","skip_raise"))&&q(t,"ExtensionRegistry","skip_raise")?"constant":e)?q(q(q("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](Z):
C)&&(this.extensions=Z.$activate(this)):c((Z=h["$[]"]("extensions"))["$nil?"]())?c(r(v,"Extensions").$groups()["$empty?"]())||(this.extensions=q(r(v,"Extensions"),"Registry").$new().$activate(this)):c(q("::","Proc")["$==="](Z))&&(this.extensions=n(r(v,"Extensions"),"create",[],Z.$to_proc()).$activate(this)));this.reader=r(v,"PreprocessorReader").$new(this,d,q(r(v,"Reader"),"Cursor").$new(Ia["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0}));return c(this.sourcemap)?this.source_location=
this.reader.$cursor():e},m.$$arity=-1);a.def(d,"$parse",R=function(a){var b,d,g,h=e,w=e;null==a&&(a=e);if(c(this.parsed))return this;h=this;c(a)&&(this.reader=r(v,"PreprocessorReader").$new(h,a,q(r(v,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0})),c(this.sourcemap)&&(this.source_location=this.reader.$cursor()));c(c(b=w=c(this.parent_document)?e:this.extensions)?w["$preprocessors?"]():b)&&n(w.$preprocessors(),"each",[],(d=function(a){var b=
d.$$s||this,f;null==b.reader&&(b.reader=e);null==a&&(a=e);return b.reader=c(f=a.$process_method()["$[]"](h,b.reader))?f:b.reader},d.$$s=this,d.$$arity=1,d));r(v,"Parser").$parse(this.reader,h,f(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();c(c(b=w)?w["$tree_processors?"]():b)&&n(w.$tree_processors(),"each",[],(g=function(a){var b,d,f=e;null==a&&(a=e);return c(c(b=c(d=f=a.$process_method()["$[]"](h))?r(v,"Document")["$==="](f):d)?f["$!="](h):b)?
h=f:e},g.$$s=this,g.$$arity=1,g));this.parsed=!0;return h},R.$$arity=-1);a.def(d,"$parsed?",z=function(){return this.parsed},z.$$arity=0);a.def(d,"$counter",F=function(d,f){var g,h,w,l=e,k=e;null==f&&(f=e);if(c(this.parent_document))return this.parent_document.$counter(d,f);f=c(c(g=c(h=w=this["$attribute_locked?"](d))?l=this.counters["$[]"](d):h)?g:(l=this.attributes["$[]"](d))["$nil_or_empty?"]()["$!"]())?(k=[d,r(v,"Helpers").$nextval(l)],n(this.counters,"[]=",a.to_a(k)),k[b(k.length,1)]):c(f)?(k=
[d,f["$=="](f.$to_i().$to_s())?f.$to_i():f],n(this.counters,"[]=",a.to_a(k)),k[b(k.length,1)]):(k=[d,1],n(this.counters,"[]=",a.to_a(k)),k[b(k.length,1)]);c(w)||(k=[d,f],n(this.attributes,"[]=",a.to_a(k)),k[b(k.length,1)]);return f},F.$$arity=-2);a.def(d,"$increment_and_store_counter",E=function(a,b){return r(v,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},E.$$arity=2);a.alias(d,"counter_increment","increment_and_store_counter");a.def(d,"$register",L=function(d,g){var h,
w=this,k=e,l=e,p=e,q=e,x=e;return function(){k=d;return"ids"["$==="](k)?w.$register("refs",[l=g["$[]"](0),r(v,"Inline").$new(w,"anchor",g["$[]"](1),f(["type","id"],{type:"ref",id:l}))]):"refs"["$==="](k)?(p=w.catalog["$[]"]("refs"),c(h=p["$[]"](g["$[]"](0)))?h:(q=[g["$[]"](0),x=g["$[]"](1)],n(p,"[]=",a.to_a(q)),q[b(q.length,1)]),x):"footnotes"["$==="](k)?w.catalog["$[]"](d)["$<<"](g):c(w.options["$[]"]("catalog_assets"))?w.catalog["$[]"](d)["$<<"](d["$=="]("images")?r(v,"ImageReference").$new(g,w.attributes["$[]"]("imagesdir")):
g):e}()},L.$$arity=2);a.def(d,"$resolve_id",O=function(d){var g,h,w=this,k=e,l=e;if(c(w.reftexts))return w.reftexts["$[]"](d);if(c(w.parsed))return n(w.reftexts=f([],{}),"tap",[],(g=function(d){var f=g.$$s||this,h;null==f.catalog&&(f.catalog=e);null==d&&(d=e);return n(f.catalog["$[]"]("refs"),"each",[],(h=function(f,g){var h,w=e;null==f&&(f=e);null==g&&(g=e);return c(h=d["$[]"](g.$xreftext()))?h:(w=[g.$xreftext(),f],n(d,"[]=",a.to_a(w)),w[b(w.length,1)])},h.$$s=f,h.$$arity=2,h))},g.$$s=w,g.$$arity=
1,g))["$[]"](d);k=e;w.reftexts=l=f([],{});(function(){var f=a.new_brk();try{return n(w.catalog["$[]"]("refs"),"each",[],(h=function(g,h){var w,r=e;null==g&&(g=e);null==h&&(h=e);(h=h.$xreftext())["$=="](d)&&(k=g,a.brk(e,f));return c(w=l["$[]"](h))?w:(r=[h,g],n(l,"[]=",a.to_a(r)),r[b(r.length,1)])},h.$$s=w,h.$$brk=f,h.$$arity=2,h))}catch(Za){if(Za===f)return Za.$v;throw Za;}})();w.reftexts=e;return k},O.$$arity=1);a.def(d,"$sections?",B=function(){return l(this.next_section_index,0)},B.$$arity=0);a.def(d,
"$footnotes?",D=function(){return c(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},D.$$arity=0);a.def(d,"$footnotes",A=function(){return this.catalog["$[]"]("footnotes")},A.$$arity=0);a.def(d,"$callouts",W=function(){return this.catalog["$[]"]("callouts")},W.$$arity=0);a.def(d,"$nested?",G=function(){return c(this.parent_document)?!0:!1},G.$$arity=0);a.def(d,"$embedded?",U=function(){return this.attributes["$key?"]("embedded")},U.$$arity=0);a.def(d,"$extensions?",J=function(){return c(this.extensions)?
!0:!1},J.$$arity=0);a.def(d,"$source",K=function(){return c(this.reader)?this.reader.$source():e},K.$$arity=0);a.def(d,"$source_lines",H=function(){return c(this.reader)?this.reader.$source_lines():e},H.$$arity=0);a.def(d,"$basebackend?",pa=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},pa.$$arity=1);a.def(d,"$title",aa=function(){return this.$doctitle()},aa.$$arity=0);a.def(d,"$title=",na=function(e){var d;if(!c(d=this.header)){var f=["header"];n(d=this.header=r(v,"Section").$new(this,
0),"sectname=",a.to_a(f));f[b(f.length,1)]}f=[e];n(d,"title=",a.to_a(f));return f[b(f.length,1)]},na.$$arity=1);a.def(d,"$doctitle",qa=function(a){var b,d,g,h=e;null==a&&(a=f([],{}));if(!c(d=this.attributes["$[]"]("title")))if(c(g=this.$first_section()))d=g.$title();else if(c((c(b=a["$[]"]("use_fallback"))?d=this.attributes["$[]"]("untitled-label"):b)["$!"]()))return e;return c(h=a["$[]"]("partition"))?r(v,"Title").$new(d,a.$merge(f(["separator"],{separator:h["$=="](!0)?this.attributes["$[]"]("title-separator"):
h}))):c(c(b=a["$[]"]("sanitize"))?d["$include?"]("<"):b)?d.$gsub(r(v,"XmlSanitizeRx"),"").$squeeze(" ").$strip():d},qa.$$arity=-1);a.alias(d,"name","doctitle");a.def(d,"$xreftext",M=function(a){var b;a=e;return c(c(b=a=this.$reftext())?a["$empty?"]()["$!"]():b)?a:this.$title()},M.$$arity=-1);a.def(d,"$author",P=function(){return this.attributes["$[]"]("author")},P.$$arity=0);a.def(d,"$authors",Q=function(){var a,b,e;if(c((b=this.attributes)["$key?"]("author"))){var d=[r(v,"Author").$new(b["$[]"]("author"),
b["$[]"]("firstname"),b["$[]"]("middlename"),b["$[]"]("lastname"),b["$[]"]("authorinitials"),b["$[]"]("email"))];if(c(l(e=c(a=b["$[]"]("authorcount"))?a:0,1)))for(a=1;c(p(a,e));)a=k(a,1),d["$<<"](r(v,"Author").$new(b["$[]"]("author_"+a),b["$[]"]("firstname_"+a),b["$[]"]("middlename_"+a),b["$[]"]("lastname_"+a),b["$[]"]("authorinitials_"+a),b["$[]"]("email_"+a)));return d}return[]},Q.$$arity=0);a.def(d,"$revdate",S=function(){return this.attributes["$[]"]("revdate")},S.$$arity=0);a.def(d,"$notitle",
la=function(){return this.attributes["$key?"]("notitle")},la.$$arity=0);a.def(d,"$noheader",va=function(){return this.attributes["$key?"]("noheader")},va.$$arity=0);a.def(d,"$nofooter",ha=function(){return this.attributes["$key?"]("nofooter")},ha.$$arity=0);a.def(d,"$first_section",Aa=function(){var a,b;return c(a=this.header)?a:n(this.blocks,"find",[],(b=function(a){null==a&&(a=e);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},Aa.$$arity=0);a.def(d,"$header?",X=function(){return c(this.header)?
!0:!1},X.$$arity=0);a.alias(d,"has_header?","header?");a.def(d,"$<<",ua=function(b){var c=ua.$$p,e;c&&(ua.$$p=null);var d=0;var f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];b.$context()["$=="]("section")&&this.$assign_numeral(b);return n(this,a.find_super_dispatcher(this,"<<",ua,!1),e,c)},ua.$$arity=1);a.def(d,"$finalize_header",Ha=function(e,d){null==d&&(d=!0);this.$clear_playback_attributes(e);this.$save_attributes();c(d)||(d=["invalid-header",!0],n(e,"[]=",a.to_a(d)),d[b(d.length,
1)]);return e},Ha.$$arity=-2);a.def(d,"$playback_attributes",Fa=function(d){var f;return c(d["$key?"]("attribute_entries"))?n(d["$[]"]("attribute_entries"),"each",[],(f=function(d){var g=f.$$s||this;null==g.attributes&&(g.attributes=e);null==d&&(d=e);var h=d.$name();if(c(d.$negate()))return g.attributes.$delete(h),h["$=="]("compat-mode")?g.compat_mode=!1:e;d=[h,d.$value()];n(g.attributes,"[]=",a.to_a(d));d[b(d.length,1)];return h["$=="]("compat-mode")?g.compat_mode=!0:e},f.$$s=this,f.$$arity=1,f)):
e},Fa.$$arity=1);a.def(d,"$restore_attributes",Da=function(){c(this.parent_document)||this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},Da.$$arity=0);a.def(d,"$set_attribute",Sa=function(d,f){null==f&&(f="");if(c(this["$attribute_locked?"](d)))return e;c(f["$empty?"]())||(f=this.$apply_attribute_value_subs(f));if(c(this.header_attributes)){var g=[d,f];n(this.attributes,"[]=",a.to_a(g));g[b(g.length,1)]}else"backend"["$==="](d)?this.$update_backend_attributes(f,
c(g=this.attributes_modified["$delete?"]("htmlsyntax"))?f["$=="](this.backend):g):"doctype"["$==="](d)?this.$update_doctype_attributes(f):(g=[d,f],n(this.attributes,"[]=",a.to_a(g)),g[b(g.length,1)]),this.attributes_modified["$<<"](d);return f},Sa.$$arity=-2);a.def(d,"$delete_attribute",Qa=function(a){if(c(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);this.attributes_modified["$<<"](a);return!0},Qa.$$arity=1);a.def(d,"$attribute_locked?",Oa=function(a){return this.attribute_overrides["$key?"](a)},
Oa.$$arity=1);a.def(d,"$set_header_attribute",Ga=function(e,d,f){var g;null==d&&(d="");null==f&&(f=!0);var h=c(g=this.header_attributes)?g:this.attributes;if(c(f["$=="](!1)?h["$key?"](e):f["$=="](!1)))return!1;e=[e,d];n(h,"[]=",a.to_a(e));e[b(e.length,1)];return!0},Ga.$$arity=-2);a.def(d,"$convert",za=function(d){var h,w,k=e,l=e,p=e,x=e,m=e;null==d&&(d=f([],{}));c(this.timings)&&this.timings.$start("convert");c(this.parsed)||this.$parse();c(c(h=g(this.safe,q(r(v,"SafeMode"),"SERVER")))?h:d["$empty?"]())||
(c((k=["outfile",d["$[]"]("outfile")],n(this.attributes,"[]=",a.to_a(k)),k[b(k.length,1)]))||this.attributes.$delete("outfile"),c((k=["outdir",d["$[]"]("outdir")],n(this.attributes,"[]=",a.to_a(k)),k[b(k.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?c(l=c(h=this.blocks["$[]"](0))?h:this.header)&&(c(c(h=l.$content_model()["$=="]("compound"))?h:l.$content_model()["$=="]("empty"))?this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):
p=l.$content()):(x=c(d["$key?"]("standalone"))?c(d["$[]"]("standalone"))?"document":"embedded":c(d["$key?"]("header_footer"))?c(d["$[]"]("header_footer"))?"document":"embedded":c(this.options["$[]"]("standalone"))?"document":"embedded",p=this.converter.$convert(this,x));!c(this.parent_document)&&c(c(h=m=this.extensions)?m["$postprocessors?"]():h)&&n(m.$postprocessors(),"each",[],(w=function(a){var b=w.$$s||this;null==a&&(a=e);return p=a.$process_method()["$[]"](b,p)},w.$$s=this,w.$$arity=1,w));c(this.timings)&&
this.timings.$record("convert");return p},za.$$arity=-1);a.alias(d,"render","convert");a.def(d,"$write",Ya=function(a,b){var d;c(this.timings)&&this.timings.$start("write");c(r(v,"Writer")["$==="](this.converter))?this.converter.$write(a,b):(c(b["$respond_to?"]("write"))?c(a["$nil_or_empty?"]())||(b.$write(a.$chomp()),b.$write(r(v,"LF"))):q("::","File").$write(b,a,f(["mode"],{mode:r(v,"FILE_WRITE_MODE")})),c(c(d=this.backend["$=="]("manpage")?q("::","String")["$==="](b):this.backend["$=="]("manpage"))?
this.converter.$class()["$respond_to?"]("write_alternate_pages"):d)&&this.converter.$class().$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),b));c(this.timings)&&this.timings.$record("write");return e},Ya.$$arity=2);a.def(d,"$content",Pa=function(){var b=Pa.$$p,c;b&&(Pa.$$p=null);var e=0;var d=arguments.length;for(c=Array(d);e<d;e++)c[e]=arguments[e];this.attributes.$delete("title");return n(this,a.find_super_dispatcher(this,"content",Pa,!1),c,b)},Pa.$$arity=
0);a.def(d,"$docinfo",Va=function(a,b){var d,g,h,w=e,k=e,l=e,x=e,m=e,C=e,t=e;x=t=e;null==a&&(a="head");null==b&&(b=e);if(c(p(this.$safe(),q(r(v,"SafeMode"),"SECURE")))&&(a["$=="]("head")||(w="-"+a),b=c(d=b)?d:this.outfilesuffix,k=c((k=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?c(this.attributes["$key?"]("docinfo2"))?["private","shared"]:c(this.attributes["$key?"]("docinfo1"))?["shared"]:c(k)?["private"]:e:n(k.$split(","),"map",[],(g=function(a){null==a&&(a=e);return a.$strip()},g.$$s=
this,g.$$arity=1,g)),c(k))){l=[];d=["docinfo"+w+b,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];x=d[0];m=d[1];C=d[2];d;if(!c(k["$&"](["shared","shared-"+a])["$empty?"]())&&(t=this.$normalize_system_path(x,m),c(t=this.$read_asset(t,f(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(t,C));if(!c(c(d=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?d:k["$&"](["private","private-"+a])["$empty?"]())&&(t=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+
"-"+x,m),c(x=this.$read_asset(t,f(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(x,C))}return c(c(d=this.extensions)?this["$docinfo_processors?"](a):d)?(c(d=l)?d:[]).$concat(n(this.docinfo_processor_extensions["$[]"](a),"map",[],(h=function(a){var b=h.$$s||this;null==a&&(a=e);return a.$process_method()["$[]"](b)},h.$$s=this,h.$$arity=1,h)).$compact()).$join(r(v,"LF")):c(l)?l.$join(r(v,"LF")):""},Va.$$arity=-1);a.def(d,"$docinfo_processors?",Wa=function(d){var f,g=e;null==d&&(d="head");
if(c(this.docinfo_processor_extensions["$key?"](d)))return this.docinfo_processor_extensions["$[]"](d)["$!="](!1);if(c(c(f=this.extensions)?this.document.$extensions()["$docinfo_processors?"](d):f))return(g=[d,this.document.$extensions().$docinfo_processors(d)],n(this.docinfo_processor_extensions,"[]=",a.to_a(g)),g[b(g.length,1)])["$!"]()["$!"]();g=[d,!1];n(this.docinfo_processor_extensions,"[]=",a.to_a(g));return g[b(g.length,1)]},Wa.$$arity=-1);a.def(d,"$to_s",ab=function(){var a;return"#<"+this.$class()+
"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(c(a=this.header)?this.header.$title():a).$inspect()+", blocks: "+this.blocks.$size()+"}>"},ab.$$arity=0);d.$private();a.def(d,"$apply_attribute_value_subs",Xa=function(a){var b;c(r(v,"AttributeEntryPassMacroRx")["$=~"](a))?(a=(b=y["~"])===e?e:b["$[]"](2),c((b=y["~"])===e?e:b["$[]"](1))&&(a=this.$apply_subs(a,this.$resolve_pass_subs((b=y["~"])===e?e:b["$[]"](1))))):a=this.$apply_header_subs(a);return c(this.max_attribute_value_size)?
this.$limit_bytesize(a,this.max_attribute_value_size):a},Xa.$$arity=1);a.def(d,"$limit_bytesize",Y=function(a,e){if(c(l(a.$bytesize(),e)))for(;!c((a=a.$byteslice(0,e))["$valid_encoding?"]());)e=b(e,1);return a},Y.$$arity=2);a.def(d,"$resolve_docinfo_subs",w=function(){return c(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",e,"docinfo"):["attributes"]},w.$$arity=0);a.def(d,"$create_converter",C=function(d,g){var h,w,k=e,l;var p=f(["document",
"htmlsyntax"],{document:this,htmlsyntax:this.attributes["$[]"]("htmlsyntax")});c(w=c(h=(k=this.options)["$[]"]("template_dirs"))?h:k["$[]"]("template_dir"))&&(h=["template_dirs",[].concat(a.to_a(w))],n(p,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_cache",k.$fetch("template_cache",!0)],n(p,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_engine",k["$[]"]("template_engine")],n(p,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_engine_options",k["$[]"]("template_engine_options")],n(p,"[]=",a.to_a(h)),
h[b(h.length,1)],h=["eruby",k["$[]"]("eruby")],n(p,"[]=",a.to_a(h)),h[b(h.length,1)],h=["safe",this.safe],n(p,"[]=",a.to_a(h)),h[b(h.length,1)],c(g)&&(h=["delegate_backend",g],n(p,"[]=",a.to_a(h)),h[b(h.length,1)]));return c(l=k["$[]"]("converter"))?q(r(v,"Converter"),"CustomFactory").$new(u(d,l)).$create(d,p):k.$fetch("converter_factory",r(v,"Converter")).$create(d,p)},C.$$arity=2);a.def(d,"$clear_playback_attributes",ma=function(a){return a.$delete("attribute_entries")},ma.$$arity=1);a.def(d,"$save_attributes",
N=function(){var d,g,h=e,w=e,k=e,l=k=e,p=e,x=e,m=e,C=m=m=l=x=e,t=e,N=e;c(c(d=(h=this.attributes)["$key?"]("doctitle"))?d:(w=this.$doctitle())["$!"]())||(k=["doctitle",w],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]);this.id=c(d=this.id)?d:h["$[]"]("css-signature");c(k=c(h.$delete("toc2"))?"left":h["$[]"]("toc"))&&(l=c(c(d=p=h.$fetch("toc-placement","macro"))?p["$!="]("auto"):d)?p:h["$[]"]("toc-position"),c(c(d=k["$empty?"]())?l["$nil_or_empty?"]():d)||(x="left",m="toc2",x=c(l["$nil_or_empty?"]())?c(k["$empty?"]())?
x:k:l,k=["toc",""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["toc-placement","auto"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)],l=x,"left"["$==="](l)||"<"["$==="](l)||"&lt;"["$==="](l)?(k=["toc-position","left"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):"right"["$==="](l)||">"["$==="](l)||"&gt;"["$==="](l)?(k=["toc-position","right"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):"top"["$==="](l)||"^"["$==="](l)?(k=["toc-position","top"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):"bottom"["$==="](l)||"v"["$==="](l)?(k=
["toc-position","bottom"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):("preamble"["$==="](l)||"macro"["$==="](l)?(k=["toc-position","content"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["toc-placement",x],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):h.$delete("toc-position"),m=e),c(m)&&(c(d=h["$[]"]("toc-class"))?d:(k=["toc-class",m],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]))));c(c(d=m=h["$[]"]("icons"))?h["$key?"]("icontype")["$!"]():d)&&(l=m,""["$==="](l)||"font"["$==="](l)?e:(k=["icons",""],n(h,"[]=",a.to_a(k)),
k[b(k.length,1)],m["$=="]("image")||(k=["icontype",m],n(h,"[]=",a.to_a(k)),k[b(k.length,1)])));c(c(d=this.compat_mode=h["$key?"]("compat-mode"))?h["$key?"]("language"):d)&&(k=["source-language",h["$[]"]("language")],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]);c(this.parent_document)||((m=h["$[]"]("basebackend"))["$=="]("html")?c(c(d=C=h["$[]"]("source-highlighter"))?h["$[]"](""+C+"-unavailable")["$!"]():d)&&(c(t=this.options["$[]"]("syntax_highlighter_factory"))?this.syntax_highlighter=t.$create(C,this.backend,
f(["document"],{document:this})):c(N=this.options["$[]"]("syntax_highlighters"))?this.syntax_highlighter=q(r(v,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(N).$create(C,this.backend,f(["document"],{document:this})):this.syntax_highlighter=r(v,"SyntaxHighlighter").$create(C,this.backend,f(["document"],{document:this}))):m["$=="]("docbook")&&(c(c(d=this["$attribute_locked?"]("toc"))?d:this.attributes_modified["$include?"]("toc"))||(k=["toc",""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]),c(c(d=this["$attribute_locked?"]("sectnums"))?
d:this.attributes_modified["$include?"]("sectnums"))||(k=["sectnums",""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)])),this.outfilesuffix=h["$[]"]("outfilesuffix"),n(r(v,"FLEXIBLE_ATTRIBUTES"),"each",[],(g=function(a){var b=g.$$s||this,d;null==b.attribute_overrides&&(b.attribute_overrides=e);null==a&&(a=e);return c(c(d=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):d)?b.attribute_overrides.$delete(a):e},g.$$s=this,g.$$arity=1,g)));return this.header_attributes=h.$merge()},N.$$arity=
0);a.def(d,"$fill_datetime_attributes",Z=function(d,f){var g,h,w=e,k,l=e;var r=c(q("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?w=q("::","Time").$at(this.$Integer(q("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():q("::","Time").$now();c(k=d["$[]"]("localdate"))?c(g=d["$[]"]("localyear"))?g:(l=["localyear",k.$index("-")["$=="](4)?k.$slice(0,4):e],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]):(k=(l=["localdate",r.$strftime("%F")],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]),c(g=d["$[]"]("localyear"))?g:(l=["localyear",
r.$year().$to_s()],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]));var p=c(g=d["$[]"]("localtime"))?g:(l=["localtime",r.$strftime("%T "+(r.$utc_offset()["$=="](0)?"UTC":"%z"))],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]);c(g=d["$[]"]("localdatetime"))?g:(l=["localdatetime",""+k+" "+p],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]);f=c(g=c(h=w)?h:f)?g:r;c(h=d["$[]"]("docdate"))?c(g=d["$[]"]("docyear"))?g:(l=["docyear",h.$index("-")["$=="](4)?h.$slice(0,4):e],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]):(h=(l=["docdate",f.$strftime("%F")],
n(d,"[]=",a.to_a(l)),l[b(l.length,1)]),c(g=d["$[]"]("docyear"))?g:(l=["docyear",f.$year().$to_s()],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]));f=c(g=d["$[]"]("doctime"))?g:(l=["doctime",f.$strftime("%T "+(f.$utc_offset()["$=="](0)?"UTC":"%z"))],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]);c(g=d["$[]"]("docdatetime"))?g:(l=["docdatetime",""+h+" "+f],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]);return e},Z.$$arity=2);a.def(d,"$update_backend_attributes",oa=function(d,f){var g,h,w=e,k=e,l=e,p=e,x=e,m;null==f&&(f=e);
if(c(c(g=f)?g:d["$!="](this.backend))){var C=this.backend;var t=(h=this.attributes)["$[]"]("basebackend");var N=this.doctype;if(c(d["$include?"](":"))){var u=d.$partition(":");g=a.to_ary(u);w=null==g[0]?e:g[0];d=null==g[2]?e:g[2];u}c(d["$start_with?"]("xhtml"))?(k=["htmlsyntax","xml"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)],d=d.$slice(1,d.$length())):c(d["$start_with?"]("html"))&&(c(g=h["$[]"]("htmlsyntax"))?g:(k=["htmlsyntax","html"],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]));d=c(g=r(v,"BACKEND_ALIASES")["$[]"](d))?
g:d;c(w)&&(g=[w,d],d=g[0],l=g[1],g);c(N)?(c(C)&&(h.$delete("backend-"+C),h.$delete("backend-"+C+"-doctype-"+N)),k=["backend-"+d+"-doctype-"+N,""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["doctype-"+N,""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):c(C)&&h.$delete("backend-"+C);k=["backend-"+d,""];n(h,"[]=",a.to_a(k));k[b(k.length,1)];this.backend=(k=["backend",d],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]);c(q(r(v,"Converter"),"BackendTraits")["$==="](u=this.$create_converter(d,l)))?(p=u.$basebackend(),x=u.$filetype(),
c(C=u.$htmlsyntax())&&(k=["htmlsyntax",C],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]),c(f)?c(g=h["$[]"]("outfilesuffix"))?g:(k=["outfilesuffix",u.$outfilesuffix()],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):c(this["$attribute_locked?"]("outfilesuffix"))||(k=["outfilesuffix",u.$outfilesuffix()],n(h,"[]=",a.to_a(k)),k[b(k.length,1)])):c(u)?(C=r(v,"Converter").$derive_backend_traits(d),p=C["$[]"]("basebackend"),x=C["$[]"]("filetype"),c(f)?c(g=h["$[]"]("outfilesuffix"))?g:(k=["outfilesuffix",C["$[]"]("outfilesuffix")],
n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):c(this["$attribute_locked?"]("outfilesuffix"))||(k=["outfilesuffix",C["$[]"]("outfilesuffix")],n(h,"[]=",a.to_a(k)),k[b(k.length,1)])):this.$raise(q("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+d+"'. Processing aborted.");this.converter=u;c(m=h["$[]"]("filetype"))&&h.$delete("filetype-"+m);k=["filetype",x];n(h,"[]=",a.to_a(k));k[b(k.length,1)];k=["filetype-"+x,""];n(h,"[]=",a.to_a(k));k[b(k.length,1)];c(f=r(v,"DEFAULT_PAGE_WIDTHS")["$[]"](p))?
(k=["pagewidth",f],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):h.$delete("pagewidth");c(p["$!="](t))&&(c(N)?(c(t)&&(h.$delete("basebackend-"+t),h.$delete("basebackend-"+t+"-doctype-"+N)),k=["basebackend-"+p+"-doctype-"+N,""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]):c(t)&&h.$delete("basebackend-"+t),k=["basebackend-"+p,""],n(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["basebackend",p],n(h,"[]=",a.to_a(k)),k[b(k.length,1)]);return d}return e},oa.$$arity=-2);return(a.def(d,"$update_doctype_attributes",db=function(d){var f,
g;if(c(c(f=d)?d["$!="](this.doctype):f)){f=[this.backend,(g=this.attributes)["$[]"]("basebackend"),this.doctype];var h=f[0];var w=f[1];var k=f[2];f;c(k)?(g.$delete("doctype-"+k),c(h)&&(g.$delete("backend-"+h+"-doctype-"+k),f=["backend-"+h+"-doctype-"+d,""],n(g,"[]=",a.to_a(f)),f[b(f.length,1)]),c(w)&&(g.$delete("basebackend-"+w+"-doctype-"+k),f=["basebackend-"+w+"-doctype-"+d,""],n(g,"[]=",a.to_a(f)),f[b(f.length,1)])):(c(h)&&(f=["backend-"+h+"-doctype-"+d,""],n(g,"[]=",a.to_a(f)),f[b(f.length,1)]),
c(w)&&(f=["basebackend-"+w+"-doctype-"+d,""],n(g,"[]=",a.to_a(f)),f[b(f.length,1)]));f=["doctype-"+d,""];n(g,"[]=",a.to_a(f));f[b(f.length,1)];return this.doctype=(f=["doctype",d],n(g,"[]=",a.to_a(f)),f[b(f.length,1)])}return e},db.$$arity=1),e)&&"update_doctype_attributes"})(d[0],r(d,"AbstractBlock"),d)}(h[0],h)};Opal.modules["asciidoctor/inline"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,p=a.klass,h=a.hash2,e=a.send,q=a.truthy;a.add_stubs("$attr_accessor $attr_reader $[] $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));
return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,c){b=p(b,$super,"Inline");[b].concat(c);var d,k,l,r,v,m,t,x;b.$$prototype.text=b.$$prototype.type=g;b.$attr_accessor("text");b.$attr_reader("type");b.$attr_accessor("target");a.def(b,"$initialize",d=function(b,c,f,k){d.$$p&&(d.$$p=null);null==f&&(f=g);null==k&&(k=h([],{}));e(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,c,k],null);this.node_name="inline_"+c;this.text=f;this.id=k["$[]"]("id");this.type=k["$[]"]("type");
return this.target=k["$[]"]("target")},d.$$arity=-3);a.def(b,"$block?",k=function(){return!1},k.$$arity=0);a.def(b,"$inline?",l=function(){return!0},l.$$arity=0);a.def(b,"$convert",r=function(){return this.$converter().$convert(this)},r.$$arity=0);a.alias(b,"render","convert");a.def(b,"$alt",v=function(){var a;return q(a=this.$attr("alt"))?a:""},v.$$arity=0);a.def(b,"$reftext?",m=function(){var a,b;return q(a=this.text)?q(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},m.$$arity=0);a.def(b,
"$reftext",t=function(){var a;return q(a=this.text)?this.$apply_reftext_subs(a):g},t.$$arity=0);return(a.def(b,"$xreftext",x=function(a){return this.$reftext()},x.$$arity=-1),g)&&"xreftext"})(b[0],k(b,"AbstractNode"),b)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,p=a.klass,h=a.hash2,e=a.send,q=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $drop $nil_or_empty? $apply_subs $attr_writer $empty? $=== $[] $outline? $! $simple? $source $shift $context $parent".split(" "));
return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,c){b=p(b,$super,"List");[b].concat(c);var d,k,l,r;b.$$prototype.context=b.$$prototype.document=b.$$prototype.style=g;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.def(b,"$initialize",d=function(b,c,f){var g=d.$$p,k;g&&(d.$$p=null);var l=0;var r=arguments.length;for(k=Array(r);l<r;l++)k[l]=arguments[l];null==f&&(f=h([],{}));return e(this,a.find_super_dispatcher(this,"initialize",d,!1),
k,g)},d.$$arity=-3);a.def(b,"$outline?",k=function(){var a;return q(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},k.$$arity=0);a.def(b,"$convert",l=function(){var b=l.$$p,c;b&&(l.$$p=null);var d=0;var f=arguments.length;for(c=Array(f);d<f;d++)c[d]=arguments[d];return this.context["$=="]("colist")?(b=e(this,a.find_super_dispatcher(this,"convert",l,!1),c,b),this.document.$callouts().$next_list(),b):e(this,a.find_super_dispatcher(this,"convert",l,!1),c,b)},l.$$arity=0);a.alias(b,"render",
"convert");return(a.def(b,"$to_s",r=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},r.$$arity=0),g)&&"to_s"})(b[0],k(b,"AbstractBlock"),b);(function(b,$super,c){b=p(b,$super,"ListItem");var d=[b].concat(c),h,l,r,v,m,t,x;b.$$prototype.text=b.$$prototype.subs=b.$$prototype.blocks=g;a.alias(b,"list","parent");b.$attr_accessor("marker");a.def(b,"$initialize",h=function(b,c){h.$$p&&
(h.$$p=null);null==c&&(c=g);e(this,a.find_super_dispatcher(this,"initialize",h,!1),[b,"list_item"],null);this.text=c;this.level=b.$level();return this.subs=k(d,"NORMAL_SUBS").$drop(0)},h.$$arity=-2);a.def(b,"$text?",l=function(){return q(this.text["$nil_or_empty?"]())?!1:!0},l.$$arity=0);a.def(b,"$text",r=function(){var a;return q(a=this.text)?this.$apply_subs(this.text,this.subs):a},r.$$arity=0);b.$attr_writer("text");a.def(b,"$simple?",v=function(){var a,b,c=g;return q(a=this.blocks["$empty?"]())?
a:q(b=this.blocks.$size()["$=="](1)?k(d,"List")["$==="](c=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?c["$outline?"]():b},v.$$arity=0);a.def(b,"$compound?",m=function(){return this["$simple?"]()["$!"]()},m.$$arity=0);a.def(b,"$fold_first",t=function(){this.text=q(this.text["$nil_or_empty?"]())?this.blocks.$shift().$source():""+this.text+k(d,"LF")+this.blocks.$shift().$source();return g},t.$$arity=0);return(a.def(b,"$to_s",x=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+
" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(q(a=this.blocks)?a:[]).$size()+"}>"},x.$$arity=0),g)&&"to_s"})(b[0],k(b,"AbstractBlock"),b)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===
typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var h=[],e=a.nil,q=a.const_get_qualified,r=a.const_get_relative,m=a.module,t=a.klass,n=a.send,c=a.truthy,f=a.hash2,u=a.gvars;a.add_stubs("$include $new $proc $start_with? $match? $is_delimited_block? $private_class_method $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $skip_blank_lines $parse_block_metadata_lines $attributes $is_next_line_doctitle? $[]= $- $finalize_header $nil_or_empty? $title= $sourcemap $cursor $parse_section_title $id= $include? $sub_specialchars $sub_attributes $source_location= $header $attribute_locked? $id $clear $delete $instance_variable_get $parse_header_metadata $== $! $register $process_authors $update $doctype $parse_manpage_header $=~ $downcase $error $logger $message_with_context $cursor_at_line $backend $save $is_next_line_section? $initialize_section $join $map $read_lines_until $lstrip $split $title $restore_save $discard_save $context $empty? $header? $!= $attr? $attr $key? $document $+ $level $special $sectname $to_i $< $> $warn $next_block $blocks? $style $context= $style= $parent= $size $content_model $shift $unwrap_standalone_preamble $source_location $merge $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $debug? $debug $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $uniform? $length $end_with? $=== $parse_attributes $attribute_missing $tr $basename $assign_caption $registered_for_block_macro? $config $process_method $replace $parse_callout_list $callouts $parse_list $parse_description_list $underline_style_section_titles $is_section_title? $peek_line $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $map! $slice $pop $build_block $apply_subs $chop $catalog_inline_anchors $rekey $index $strip $parse_table $each $raise $title? $update_attributes $commit_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $nil? $lines $parse_blocks $parse_list_item $items $scan $gsub $count $advance $dup $match $callout_ids $next_list $catalog_inline_anchor $marker= $catalog_inline_biblio_anchor $set_option $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $concat $find $casecmp $sectname= $special= $numbered= $numbered $lineno $peek_lines $setext_section_title? $abs $cursor_at_prev_line $process_attribute_entries $next_line_empty? $apply_header_subs $rstrip $each_with_index $compact $to_h $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $resolve_list_marker $parse_colspecs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $pre_match $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $partition_header_footer $upto $partition $shorthand_property_syntax $each_char $yield_buffered_attribute $any? $* $each_byte $%".split(" "));
return function(d,h){d=[m(d,"Asciidoctor")].concat(h);(function(d,$super,h){d=t(d,$super,"Parser");var v=[d].concat(h),m,z,E,F,y,L,B,D,A,O,G,U,J,K,I,W,H,pa,Ca,ba,na,qa,aa,M,P,Q,S,va,ha,Aa,X,ua,Ha,Fa,Da,Sa,Qa,Oa,Ga,za,Ya,Pa,Va,Wa,ab,Xa;d.$include(r(v,"Logging"));a.const_set(v[0],"BlockMatchData",r(v,"Struct").$new("context","masq","tip","terminator"));a.const_set(v[0],"TAB","\t");a.const_set(v[0],"TabIndentRx",/^\t+/);a.const_set(v[0],"StartOfBlockProc",n(d,"proc",[],(m=function(a){var b=m.$$s||this,
d,f;null==a&&(a=e);return c(d=c(f=a["$start_with?"]("["))?r(v,"BlockAttributeLineRx")["$match?"](a):f)?d:b["$is_delimited_block?"](a)},m.$$s=d,m.$$arity=1,m)));a.const_set(v[0],"StartOfListProc",n(d,"proc",[],(z=function(a){null==a&&(a=e);return r(v,"AnyListRx")["$match?"](a)},z.$$s=d,z.$$arity=1,z)));a.const_set(v[0],"StartOfBlockOrListProc",n(d,"proc",[],(E=function(a){var b=E.$$s||this,d,f,g;null==a&&(a=e);return c(d=c(f=b["$is_delimited_block?"](a))?f:c(g=a["$start_with?"]("["))?r(v,"BlockAttributeLineRx")["$match?"](a):
g)?d:r(v,"AnyListRx")["$match?"](a)},E.$$s=d,E.$$arity=1,E)));a.const_set(v[0],"NoOp",e);a.const_set(v[0],"AuthorKeys","author authorinitials firstname middlename lastname email".split(" "));a.const_set(v[0],"TableCellHorzAlignments",f(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(v[0],"TableCellVertAlignments",f(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(v[0],"TableCellStyles",f("dsemhla".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",
l:"literal",a:"asciidoc"}));d.$private_class_method("new");a.defs(d,"$parse",F=function(b,d,g){null==g&&(g=f([],{}));var h=this.$parse_document_header(b,d,g=g["$[]"]("header_only"));if(!c(g))for(;c(b["$has_more_lines?"]());){g=this.$next_section(b,d,h);h=a.to_ary(g);var n=null==h[0]?e:h[0];h=null==h[1]?e:h[1];g;c(n)&&(d.$assign_numeral(n),d.$blocks()["$<<"](n))}return d},F.$$arity=-3);a.defs(d,"$parse_document_header",y=function(d,g,h){var k,w,l,p=e,q=e;null==h&&(h=!1);var m=c(d.$skip_blank_lines())?
this.$parse_block_metadata_lines(d,g):f([],{});var t=g.$attributes();if(c(c(k=w=this["$is_next_line_doctitle?"](d,m,t["$[]"]("leveloffset")))?m["$[]"]("title"):k)){var C=["authorcount",0];n(t,"[]=",a.to_a(C));C[b(C.length,1)];return g.$finalize_header(m,!1)}c((l=t["$[]"]("doctitle"))["$nil_or_empty?"]())||(C=[p=l],n(g,"title=",a.to_a(C)),C[b(C.length,1)]);if(c(w)){c(g.$sourcemap())&&(q=d.$cursor());C=this.$parse_section_title(d,g);k=a.to_ary(C);g["$id="](null==k[0]?e:k[0]);w=null==k[2]?e:k[2];var u=
null==k[4]?e:k[4];C;c(p)?w=e:(C=[w],n(g,"title=",a.to_a(C)),C[b(C.length,1)],c((C=["doctitle",p=g.$sub_specialchars(w)],n(t,"[]=",a.to_a(C)),C[b(C.length,1)])["$include?"](r(v,"ATTR_REF_HEAD")))&&(C=["doctitle",p=g.$sub_attributes(p,f(["attribute_missing"],{attribute_missing:"skip"}))],n(t,"[]=",a.to_a(C)),C[b(C.length,1)]));c(q)&&(C=[q],n(g.$header(),"source_location=",a.to_a(C)),C[b(C.length,1)]);c(c(k=u)?k:g["$attribute_locked?"]("compat-mode"))||(C=["compat-mode",""],n(t,"[]=",a.to_a(C)),C[b(C.length,
1)]);c(C=m["$[]"]("separator"))&&!c(g["$attribute_locked?"]("title-separator"))&&(C=["title-separator",C],n(t,"[]=",a.to_a(C)),C[b(C.length,1)]);c(q=m["$[]"]("id"))?(C=[q],n(g,"id=",a.to_a(C)),C[b(C.length,1)]):q=g.$id();c(C=m["$[]"]("role"))&&(C=["role",C],n(t,"[]=",a.to_a(C)),C[b(C.length,1)]);c(C=m["$[]"]("reftext"))&&(C=["reftext",C],n(t,"[]=",a.to_a(C)),C[b(C.length,1)]);m.$clear();(C=g.$instance_variable_get("@attributes_modified")).$delete("doctitle");this.$parse_header_metadata(d,g,e);if(c(C["$include?"]("doctitle")))c(c(k=
(l=t["$[]"]("doctitle"))["$nil_or_empty?"]())?k:l["$=="](p))?(C=["doctitle",p],n(t,"[]=",a.to_a(C))):(C=[l],n(g,"title=",a.to_a(C))),C[b(C.length,1)];else if(c(w["$!"]()))C["$<<"]("doctitle");c(q)&&g.$register("refs",[q,g])}else c(k=t["$[]"]("author"))?(k=this.$process_authors(k,!0,!1),c(t["$[]"]("authorinitials"))&&k.$delete("authorinitials"),t.$update(k)):c(k=t["$[]"]("authors"))?(k=this.$process_authors(k,!0),t.$update(k)):(C=["authorcount",0],n(t,"[]=",a.to_a(C)),C[b(C.length,1)]);g.$doctype()["$=="]("manpage")&&
this.$parse_manpage_header(d,g,m,h);return g.$finalize_header(m)},y.$$arity=-3);a.defs(d,"$parse_manpage_header",L=function(d,g,h,k){var w,l,p,q,m=e,C=e,t=e,x=e,z=e,E=e,F=E=e,ma=e,y=e,L=e;null==k&&(k=!1);c(r(v,"ManpageTitleVolnumRx")["$=~"]((m=g.$attributes())["$[]"]("doctitle")))?(C=["manvolnum",t=(w=u["~"])===e?e:w["$[]"](2)],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],C=["mantitle",(c((x=(w=u["~"])===e?e:w["$[]"](1))["$include?"](r(v,"ATTR_REF_HEAD")))?g.$sub_attributes(x):x).$downcase()]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",
f(["source_location"],{source_location:d.$cursor_at_line(1)}))),C=["mantitle",c(w=c(l=m["$[]"]("doctitle"))?l:m["$[]"]("docname"))?w:"command"],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],C=["manvolnum",t="1"]);n(m,"[]=",a.to_a(C));C[b(C.length,1)];c(c(w=z=m["$[]"]("manname"))?m["$[]"]("manpurpose"):w)?(c(w=m["$[]"]("manname-title"))?w:(C=["manname-title","Name"],n(m,"[]=",a.to_a(C)),C[b(C.length,1)]),C=["mannames",[z]],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],g.$backend()["$=="]("manpage")&&(C=["docname",
z],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],C=["outfilesuffix","."+t],n(m,"[]=",a.to_a(C)),C[b(C.length,1)])):c(k)||(d.$skip_blank_lines(),d.$save(),h.$update(this.$parse_block_metadata_lines(d,g)),c(E=this["$is_next_line_section?"](d,f([],{})))?E["$=="](1)?(E=this.$initialize_section(d,g,f([],{})),F=n(d.$read_lines_until(f(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(p=function(a){null==a&&(a=e);return a.$lstrip()},p.$$s=this,p.$$arity=1,
p)).$join(" "),c(r(v,"ManpageNamePurposeRx")["$=~"](F))?(c((z=(w=u["~"])===e?e:w["$[]"](1))["$include?"](r(v,"ATTR_REF_HEAD")))&&(z=g.$sub_attributes(z)),c(z["$include?"](","))?z=(ma=n(z.$split(","),"map",[],(q=function(a){null==a&&(a=e);return a.$lstrip()},q.$$s=this,q.$$arity=1,q)))["$[]"](0):ma=[z],c((y=(w=u["~"])===e?e:w["$[]"](2))["$include?"](r(v,"ATTR_REF_HEAD")))&&(y=g.$sub_attributes(y)),c(w=m["$[]"]("manname-title"))?w:(C=["manname-title",E.$title()],n(m,"[]=",a.to_a(C)),C[b(C.length,1)]),
c(E.$id())&&(C=["manname-id",E.$id()],n(m,"[]=",a.to_a(C)),C[b(C.length,1)]),C=["manname",z],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],C=["mannames",ma],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],C=["manpurpose",y],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],g.$backend()["$=="]("manpage")&&(C=["docname",z],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],C=["outfilesuffix","."+t],n(m,"[]=",a.to_a(C)),C[b(C.length,1)])):L="non-conforming name section body"):L="name section must be at level 1":L="name section expected",c(L)?
(d.$restore_save(),this.$logger().$error(this.$message_with_context(L,f(["source_location"],{source_location:d.$cursor()}))),C=["manname",z=c(w=m["$[]"]("docname"))?w:"command"],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],C=["mannames",[z]],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],g.$backend()["$=="]("manpage")&&(C=["docname",z],n(m,"[]=",a.to_a(C)),C[b(C.length,1)],C=["outfilesuffix","."+t],n(m,"[]=",a.to_a(C)),C[b(C.length,1)])):d.$discard_save());return e},L.$$arity=-4);a.defs(d,"$next_section",B=function(d,
h,p){var w,q,m,C,t,u,x=e,z,E,F=e,y=E=e,L;null==p&&(p=f([],{}));var Y=t=u=!1;if(c(c(w=(q=h.$context()["$=="]("document"))?h.$blocks()["$empty?"]():h.$context()["$=="]("document"))?c(q=c(m=x=h["$header?"]())?m:p.$delete("invalid-header"))?q:this["$is_next_line_section?"](d,p)["$!"]():w)){var B=(z=h).$doctype()["$=="]("book");if(c(c(w=x)?w:c(q=B)?p["$[]"](1)["$!="]("abstract"):q)){Y=t=r(v,"Block").$new(h,"preamble",f(["content_model"],{content_model:"compound"}));if(c(c(w=B)?h["$attr?"]("preface-title"):
w)){var D=[h.$attr("preface-title")];n(Y,"title=",a.to_a(D));D[b(D.length,1)]}h.$blocks()["$<<"](Y)}x=h;E=0;if(c(h.$attributes()["$key?"]("fragment")))var A=-1;else c(B)?(w=[1,0],A=w[0],F=w[1],w):A=1}else B=(z=h.$document()).$doctype()["$=="]("book"),x=this.$initialize_section(d,h,p),p=c(E=p["$[]"]("title"))?f(["title"],{title:E}):f([],{}),A=g(E=x.$level(),1),E["$=="](0)?u=B:c((w=E["$=="](1))?x.$special():E["$=="](1))&&!c(c(w=c(q=(y=x.$sectname())["$=="]("appendix"))?q:y["$=="]("preface"))?w:y["$=="]("abstract"))&&
(A=e);for(d.$skip_blank_lines();c(d["$has_more_lines?"]());){this.$parse_block_metadata_lines(d,z,p);if(c(L=this["$is_next_line_section?"](d,p)))if(c(z["$attr?"]("leveloffset"))&&(L=g(L,z.$attr("leveloffset").$to_i()),c(k(L,0))&&(L=0)),c(l(L,E)))c(A)?c(c(q=c(m=L["$=="](A))?m:c(C=F)?L["$=="](F):C)?q:k(A,0))||(q=c(F)?"expected levels "+F+" or "+A:"expected level "+A,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+q+", got level "+L,f(["source_location"],{source_location:d.$cursor()})))):
this.$logger().$error(this.$message_with_context(""+y+" sections do not support nested sections",f(["source_location"],{source_location:d.$cursor()}))),m=this.$next_section(d,x,p),q=a.to_ary(m),L=null==q[0]?e:q[0],p=null==q[1]?e:q[1],m,x.$assign_numeral(L),x.$blocks()["$<<"](L);else if(c((q=L["$=="](0))?x["$=="](z):L["$=="](0)))c(B)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",f(["source_location"],{source_location:d.$cursor()}))),m=this.$next_section(d,
x,p),q=a.to_ary(m),L=null==q[0]?e:q[0],p=null==q[1]?e:q[1],m,x.$assign_numeral(L),x.$blocks()["$<<"](L);else break;else if(D=d.$cursor(),c(L=this.$next_block(d,c(q=t)?q:x,p,f(["parse_metadata"],{parse_metadata:!1})))){if(c(u))if(c(x["$blocks?"]()["$!"]()))c(L.$style()["$!="]("partintro"))&&(L.$context()["$=="]("paragraph")?(D=["open"],n(L,"context=",a.to_a(D)),D[b(D.length,1)],D=["partintro"],n(L,"style=",a.to_a(D)),D[b(D.length,1)]):(D=[t=r(v,"Block").$new(x,"open",f(["content_model"],{content_model:"compound"}))],
n(L,"parent=",a.to_a(D)),D[b(D.length,1)],D=["partintro"],n(t,"style=",a.to_a(D)),D[b(D.length,1)],x.$blocks()["$<<"](t)));else if(x.$blocks().$size()["$=="](1)){var O=x.$blocks()["$[]"](0);c(c(q=t["$!"]())?O.$content_model()["$=="]("compound"):q)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",f(["source_location"],{source_location:D}))):c(O.$content_model()["$!="]("compound"))&&(D=[t=r(v,"Block").$new(x,"open",f(["content_model"],{content_model:"compound"}))],
n(L,"parent=",a.to_a(D)),D[b(D.length,1)],D=["partintro"],n(t,"style=",a.to_a(D)),D[b(D.length,1)],x.$blocks().$shift(),O.$style()["$=="]("partintro")&&(D=["paragraph"],n(O,"context=",a.to_a(D)),D[b(D.length,1)],D=[e],n(O,"style=",a.to_a(D)),D[b(D.length,1)]),t["$<<"](O),x.$blocks()["$<<"](t))}(c(q=t)?q:x).$blocks()["$<<"](L);p.$clear()}if(c(q=d.$skip_blank_lines()))q;else break}if(c(u))c(c(w=x["$blocks?"]())?x.$blocks()["$[]"](-1).$context()["$=="]("section"):w)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",
f(["source_location"],{source_location:d.$cursor()})));else if(c(Y))if(c(Y["$blocks?"]()))if(c(c(w=c(q=B)?q:z.$blocks()["$[]"](1))?w:r(v,"Compliance").$unwrap_standalone_preamble()["$!"]()))c(z.$sourcemap())&&(D=[Y.$blocks()["$[]"](0).$source_location()],n(Y,"source_location=",a.to_a(D)),D[b(D.length,1)]);else for(z.$blocks().$shift();c(d=Y.$blocks().$shift());)z["$<<"](d);else z.$blocks().$shift();return[x["$=="](h)?e:x,p.$merge()]},B.$$arity=-3);a.defs(d,"$next_block",D=function(d,h,p,q){try{var w,
m,t,C,x,z,E,F=e,y=e,ma=e,L=e,D=e,B=e,A=e,O=e,Y=e,T=e,G=e,U=e,J=e,K=e,I=e,ja=e,xa=e,ea=e,W=e,na=e,qa=e,H=e,fa=e,ca=e,ra=e,da=e,pa=e,wa=e,ta=e,ba=e,Ca=e,ka=e,Ga=e,aa=e,M=e,Ea=e,V=e,P=e,Q=e,ya=e,Ja=e,Ma=e,za=e,S=e,Ua=e,Ba=e,La=e,Oa=e,ha=e;null==u["~"]&&(u["~"]=e);null==p&&(p=f([],{}));null==q&&(q=f([],{}));if(!c(F=d.$skip_blank_lines()))return e;c(c(w=y=q["$[]"]("text_only"))?l(F,0):w)&&(q.$delete("text_only"),y=e);ma=h.$document();if(c(q.$fetch("parse_metadata",!0)))for(;c(this.$parse_block_metadata_line(d,
ma,p,q));)d.$shift(),c(m=d.$skip_blank_lines())?m:a.ret(e);c(L=ma.$extensions())&&(w=[L["$blocks?"](),L["$block_macros?"]()],D=w[0],B=w[1],w);d.$mark();w=[d.$read_line(),ma.$attributes(),p["$[]"](1)];A=w[0];O=w[1];Y=w[2];w;T=G=U=J=e;c(K=this["$is_delimited_block?"](A,!0))&&(G=U=K.$context(),J=K.$terminator(),c(Y)?Y["$=="](G.$to_s())||(c(K.$masq()["$include?"](Y))?G=Y.$to_sym():c(c(w=K.$masq()["$include?"]("admonition"))?r(v,"ADMONITION_STYLES")["$include?"](Y):w)?G="admonition":c(c(w=D)?L["$registered_for_block?"](Y,
G):w)?G=Y.$to_sym():(c(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for "+G+" block: "+Y,f(["source_location"],{source_location:d.$cursor_at_mark()}))),Y=G.$to_s())):Y=(I=["style",G.$to_s()],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]));if(!c(K))for(;c(!0);){if(c(c(m=c(t=Y)?r(v,"Compliance").$strict_verbatim_paragraphs():t)?r(v,"VERBATIM_STYLES")["$include?"](Y):m)){G=Y.$to_sym();d.$unshift_line(A);break}if(c(y))ja=A["$start_with?"](" ",r(v,"TAB"));else if(xa=
r(v,"Compliance").$markdown_syntax(),c(A["$start_with?"](" "))){if(m=[!0," "],ja=m[0],ea=m[1],m,c(c(m=c(t=xa)?n(A.$lstrip(),"start_with?",a.to_a(r(v,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):t)?r(v,"MarkdownThematicBreakRx")["$match?"](A):m)){T=r(v,"Block").$new(h,"thematic_break",f(["content_model"],{content_model:"empty"}));break}}else if(c(A["$start_with?"](r(v,"TAB"))))m=[!0,r(v,"TAB")],ja=m[0],ea=m[1],m;else if(m=[!1,A.$chr()],ja=m[0],ea=m[1],m,W=c(xa)?r(v,"HYBRID_LAYOUT_BREAK_CHARS"):r(v,"LAYOUT_BREAK_CHARS"),
c(c(m=W["$key?"](ea))?c(xa)?r(v,"ExtLayoutBreakRx")["$match?"](A):c(t=this["$uniform?"](A,ea,na=A.$length()))?l(na,2):t:m)){T=r(v,"Block").$new(h,W["$[]"](ea),f(["content_model"],{content_model:"empty"}));break}else if(c(c(m=A["$end_with?"]("]"))?A["$include?"]("::"):m))if(c(c(m=c(t=ea["$=="]("i"))?t:A["$start_with?"]("video:","audio:"))?r(v,"BlockMediaMacroRx")["$=~"](A):m)){m=[((t=u["~"])===e?e:t["$[]"](1)).$to_sym(),(t=u["~"])===e?e:t["$[]"](2),(t=u["~"])===e?e:t["$[]"](3)];qa=m[0];H=m[1];fa=m[2];
m;T=r(v,"Block").$new(h,qa,f(["content_model"],{content_model:"empty"}));c(fa)&&(ca=qa,ra="video"["$==="](ca)?["poster","width","height"]:"audio"["$==="](ca)?[]:["alt","width","height"],T.$parse_attributes(fa,ra,f(["sub_input","into"],{sub_input:!0,into:p})));c(p["$key?"]("style"))&&p.$delete("style");if(c(H["$include?"](r(v,"ATTR_REF_HEAD")))){if(c(c(m=c(t=(da=T.$sub_attributes(H))["$empty?"]())?(c(C=O["$[]"]("attribute-missing"))?C:r(v,"Compliance").$attribute_missing())["$=="]("drop-line"):t)?
T.$sub_attributes(g(H," "),f(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():m))return p.$clear(),e;H=da}qa["$=="]("image")&&(ma.$register("images",H),I=["imagesdir",O["$[]"]("imagesdir")],n(p,"[]=",a.to_a(I)),I[b(I.length,1)],c(m=p["$[]"]("alt"))?m:(I=["alt",c(t=Y)?t:(I=["default-alt",r(v,"Helpers").$basename(H,!0).$tr("_-"," ")],n(p,"[]=",a.to_a(I)),I[b(I.length,1)])],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),c((pa=p.$delete("scaledwidth"))["$nil_or_empty?"]())||
(I=["scaledwidth",c(r(v,"TrailingDigitsRx")["$match?"](pa))?""+pa+"%":pa],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),c(p["$[]"]("title"))&&(I=[wa=p.$delete("title")],n(T,"title=",a.to_a(I)),I[b(I.length,1)],T.$assign_caption(p.$delete("caption"),"figure")));I=["target",H];n(p,"[]=",a.to_a(I));I[b(I.length,1)];break}else if(c(c(m=(t=ea["$=="]("t"))?A["$start_with?"]("toc:"):ea["$=="]("t"))?r(v,"BlockTocMacroRx")["$=~"](A):m)){T=r(v,"Block").$new(h,"toc",f(["content_model"],{content_model:"empty"}));c((m=
u["~"])===e?e:m["$[]"](1))&&T.$parse_attributes((m=u["~"])===e?e:m["$[]"](1),[],f(["into"],{into:p}));break}else if(c(c(B)?c(m=c(t=r(v,"CustomBlockMacroRx")["$=~"](A))?ta=L["$registered_for_block_macro?"]((C=u["~"])===e?e:C["$[]"](1)):t)?m:ba=this.$logger()["$debug?"]():c(m=this.$logger()["$debug?"]())?ba=r(v,"CustomBlockMacroRx")["$=~"](A):m))if(c(ba))this.$logger().$debug(this.$message_with_context("unknown name for block macro: "+((m=u["~"])===e?e:m["$[]"](1)),f(["source_location"],{source_location:d.$cursor_at_mark()})));
else{Ca=(m=u["~"])===e?e:m["$[]"](3);if(c((H=(m=u["~"])===e?e:m["$[]"](2))["$include?"](r(v,"ATTR_REF_HEAD")))){if(c(c(m=c(t=(da=h.$sub_attributes(H))["$empty?"]())?(c(C=O["$[]"]("attribute-missing"))?C:r(v,"Compliance").$attribute_missing())["$=="]("drop-line"):t)?h.$sub_attributes(g(H," "),f(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():m))return p.$clear(),e;H=da}(ka=ta.$config())["$[]"]("content_model")["$=="]("attributes")?
c(Ca)&&ma.$parse_attributes(Ca,c(m=c(t=ka["$[]"]("positional_attrs"))?t:ka["$[]"]("pos_attrs"))?m:[],f(["sub_input","into"],{sub_input:!0,into:p})):(I=["text",c(m=Ca)?m:""],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]);c(Ga=ka["$[]"]("default_attrs"))&&n(p,"update",[Ga],(x=function(a,b){null==b&&(b=e);return b},x.$$s=this,x.$$arity=2,x));if(c(c(m=T=ta.$process_method()["$[]"](h,H,p))?T["$!="](h):m)){p.$replace(T.$attributes());break}else return p.$clear(),e}if(c(c(m=c(t=ja["$!"]())?(ea=c(C=ea)?C:A.$chr())["$=="]("<"):
t)?r(v,"CalloutListRx")["$=~"](A):m)){d.$unshift_line(A);T=this.$parse_callout_list(d,u["~"],h,ma.$callouts());I=["style","arabic"];n(p,"[]=",a.to_a(I));I[b(I.length,1)];break}else if(c(r(v,"UnorderedListRx")["$match?"](A))){d.$unshift_line(A);c(c(m=c(t=Y["$!"]())?r(v,"Section")["$==="](h):t)?h.$sectname()["$=="]("bibliography"):m)&&(I=["style",Y="bibliography"],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]);T=this.$parse_list(d,"ulist",h,Y);break}else if(c(r(v,"OrderedListRx")["$match?"](A))){d.$unshift_line(A);
T=this.$parse_list(d,"olist",h,Y);c(T.$style())&&(I=["style",T.$style()],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]);break}else if(c(c(m=c(t=A["$include?"]("::"))?t:A["$include?"](";;"))?r(v,"DescriptionListRx")["$=~"](A):m)){d.$unshift_line(A);T=this.$parse_description_list(d,u["~"],h);break}else if(c(c(m=c(t=Y["$=="]("float"))?t:Y["$=="]("discrete"))?c(r(v,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](A,d.$peek_line()):c(t=ja["$!"]())?this["$atx_section_title?"](A):t:m)){d.$unshift_line(A);
t=this.$parse_section_title(d,ma,p["$[]"]("id"));m=a.to_ary(t);aa=null==m[0]?e:m[0];M=null==m[1]?e:m[1];wa=null==m[2]?e:m[2];Ea=null==m[3]?e:m[3];t;c(M)&&(I=["reftext",M],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]);T=r(v,"Block").$new(h,"floating_title",f(["content_model"],{content_model:"empty"}));I=[wa];n(T,"title=",a.to_a(I));I[b(I.length,1)];p.$delete("title");I=[c(m=aa)?m:c(O["$key?"]("sectids"))?r(v,"Section").$generate_id(T.$title(),ma):e];n(T,"id=",a.to_a(I));I[b(I.length,1)];I=[Ea];n(T,"level=",
a.to_a(I));I[b(I.length,1)];break}else if(c(c(m=Y)?Y["$!="]("normal"):m))if(c(r(v,"PARAGRAPH_STYLES")["$include?"](Y))){G=Y.$to_sym();U="paragraph";d.$unshift_line(A);break}else if(c(r(v,"ADMONITION_STYLES")["$include?"](Y))){G="admonition";U="paragraph";d.$unshift_line(A);break}else if(c(c(m=D)?L["$registered_for_block?"](Y,"paragraph"):m)){G=Y.$to_sym();U="paragraph";d.$unshift_line(A);break}else c(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for paragraph: "+
Y,f(["source_location"],{source_location:d.$cursor_at_mark()}))),Y=e;d.$unshift_line(A);if(c(c(m=ja)?Y["$!"]():m))V=this.$read_paragraph_lines(d,P=F["$=="](0)?q["$[]"]("list_type"):e,f(["skip_line_comments"],{skip_line_comments:y})),this["$adjust_indentation!"](V),T=c(c(m=y)?m:P["$=="]("dlist"))?r(v,"Block").$new(h,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:V,attributes:p})):r(v,"Block").$new(h,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",
source:V,attributes:p}));else{V=this.$read_paragraph_lines(d,(m=F["$=="](0))?q["$[]"]("list_type"):F["$=="](0),f(["skip_line_comments"],{skip_line_comments:!0}));if(c(y)){if(c(c(m=ja)?Y["$=="]("normal"):m))this["$adjust_indentation!"](V);T=r(v,"Block").$new(h,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:V,attributes:p}))}else if(c(c(m=c(t=r(v,"ADMONITION_STYLE_HEADS")["$include?"](ea))?A["$include?"](":"):t)?r(v,"AdmonitionParagraphRx")["$=~"](A):m))I=[0,(m=
u["~"])===e?e:m.$post_match()],n(V,"[]=",a.to_a(I)),I[b(I.length,1)],I=["name",Q=(I=["style",(m=u["~"])===e?e:m["$[]"](1)],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]).$downcase()],n(p,"[]=",a.to_a(I)),I[b(I.length,1)],I=["textlabel",c(m=p.$delete("caption"))?m:O["$[]"](""+Q+"-caption")],n(p,"[]=",a.to_a(I)),I[b(I.length,1)],T=r(v,"Block").$new(h,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:V,attributes:p}));else if(c(c(m=c(t=xa)?ea["$=="](">"):t)?A["$start_with?"]("> "):
m)){n(V,"map!",[],(z=function(a){null==a&&(a=e);return a["$=="](">")?a.$slice(1,a.$length()):c(a["$start_with?"]("> "))?a.$slice(2,a.$length()):a},z.$$s=this,z.$$arity=1,z));if(c(V["$[]"](-1)["$start_with?"]("-- "))&&(ya=(ya=V.$pop()).$slice(3,ya.$length()),!c(V["$empty?"]())))for(;c(V["$[]"](-1)["$empty?"]());)V.$pop();I=["style","quote"];n(p,"[]=",a.to_a(I));I[b(I.length,1)];T=this.$build_block("quote","compound",!1,h,r(v,"Reader").$new(V),p);c(ya)&&(t=T.$apply_subs(ya).$split(", ",2),m=a.to_ary(t),
Ja=null==m[0]?e:m[0],Ma=null==m[1]?e:m[1],t,c(Ja)&&(I=["attribution",Ja],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),c(Ma)&&(I=["citetitle",Ma],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]))}else if(c(c(m=c(t=(C=ea["$=="]('"'))?l(V.$size(),1):ea["$=="]('"'))?V["$[]"](-1)["$start_with?"]("-- "):t)?V["$[]"](-2)["$end_with?"]('"'):m)){I=[0,A.$slice(1,A.$length())];n(V,"[]=",a.to_a(I));I[b(I.length,1)];for(ya=(ya=V.$pop()).$slice(3,ya.$length());c(V["$[]"](-1)["$empty?"]());)V.$pop();V["$<<"](V.$pop().$chop());I=
["style","quote"];n(p,"[]=",a.to_a(I));I[b(I.length,1)];T=r(v,"Block").$new(h,"quote",f(["content_model","source","attributes"],{content_model:"simple",source:V,attributes:p}));t=T.$apply_subs(ya).$split(", ",2);m=a.to_ary(t);Ja=null==m[0]?e:m[0];Ma=null==m[1]?e:m[1];t;c(Ja)&&(I=["attribution",Ja],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]);c(Ma)&&(I=["citetitle",Ma],n(p,"[]=",a.to_a(I)),I[b(I.length,1)])}else{if(c(c(m=ja)?Y["$=="]("normal"):m))this["$adjust_indentation!"](V);T=r(v,"Block").$new(h,"paragraph",
f(["content_model","source","attributes"],{content_model:"simple",source:V,attributes:p}))}this.$catalog_inline_anchors(V.$join(r(v,"LF")),T,ma,d)}break}if(!c(T))if(ca=G,"listing"["$==="](ca)||"source"["$==="](ca))c(c(w=G["$=="]("source"))?w:c(m=p["$[]"](1)["$!"]())?za=c(t=p["$[]"](2))?t:O["$[]"]("source-language"):m)&&(c(za)?(I=["style","source"],n(p,"[]=",a.to_a(I)),I[b(I.length,1)],I=["language",za],n(p,"[]=",a.to_a(I)),I[b(I.length,1)],r(v,"AttributeList").$rekey(p,[e,e,"linenums"])):(r(v,"AttributeList").$rekey(p,
[e,"language","linenums"]),!c(p["$key?"]("language"))&&c(O["$key?"]("source-language"))&&(I=["language",O["$[]"]("source-language")],n(p,"[]=",a.to_a(I)),I[b(I.length,1)])),!c(p["$key?"]("linenums"))&&c(c(w=p["$[]"]("linenums-option"))?w:O["$[]"]("source-linenums-option"))&&(I=["linenums",""],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),!c(p["$key?"]("indent"))&&c(O["$key?"]("source-indent"))&&(I=["indent",O["$[]"]("source-indent")],n(p,"[]=",a.to_a(I)),I[b(I.length,1)])),T=this.$build_block("listing",
"verbatim",J,h,d,p);else if("fenced_code"["$==="](ca))I=["style","source"],n(p,"[]=",a.to_a(I)),I[b(I.length,1)],c(l(na=A.$length(),3))&&(c(S=(za=A.$slice(3,na)).$index(","))?c(l(S,0))?(za=za.$slice(0,S).$strip(),c(k(S,b(na,4)))&&(I=["linenums",""],n(p,"[]=",a.to_a(I)),I[b(I.length,1)])):c(l(na,4))&&(I=["linenums",""],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]):za=za.$lstrip()),c(za["$nil_or_empty?"]())?c(O["$key?"]("source-language"))&&(I=["language",O["$[]"]("source-language")],n(p,"[]=",a.to_a(I)),
I[b(I.length,1)]):(I=["language",za],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),!c(p["$key?"]("linenums"))&&c(c(w=p["$[]"]("linenums-option"))?w:O["$[]"]("source-linenums-option"))&&(I=["linenums",""],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),!c(p["$key?"]("indent"))&&c(O["$key?"]("source-indent"))&&(I=["indent",O["$[]"]("source-indent")],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),J=J.$slice(0,3),T=this.$build_block("listing","verbatim",J,h,d,p);else if("table"["$==="](ca))Ua=d.$cursor(),Ba=r(v,"Reader").$new(d.$read_lines_until(f(["terminator",
"skip_line_comments","context","cursor"],{terminator:J,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Ua),c(J["$start_with?"]("|","!"))||(c(w=p["$[]"]("format"))?w:(I=["format",c(J["$start_with?"](","))?"csv":"dsv"],n(p,"[]=",a.to_a(I)),I[b(I.length,1)])),T=this.$parse_table(Ba,h,p);else if("sidebar"["$==="](ca))T=this.$build_block(G,"compound",J,h,d,p);else if("admonition"["$==="](ca))I=["name",Q=Y.$downcase()],n(p,"[]=",a.to_a(I)),I[b(I.length,1)],I=["textlabel",c(w=p.$delete("caption"))?
w:O["$[]"](""+Q+"-caption")],n(p,"[]=",a.to_a(I)),I[b(I.length,1)],T=this.$build_block(G,"compound",J,h,d,p);else if("open"["$==="](ca)||"abstract"["$==="](ca)||"partintro"["$==="](ca))T=this.$build_block("open","compound",J,h,d,p);else if("literal"["$==="](ca))T=this.$build_block(G,"verbatim",J,h,d,p);else if("example"["$==="](ca))c(p["$[]"]("collapsible-option"))&&(I=["caption",""],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),T=this.$build_block(G,"compound",J,h,d,p);else if("quote"["$==="](ca)||"verse"["$==="](ca))r(v,
"AttributeList").$rekey(p,[e,"attribution","citetitle"]),T=this.$build_block(G,G["$=="]("verse")?"verbatim":"compound",J,h,d,p);else if("stem"["$==="](ca)||"latexmath"["$==="](ca)||"asciimath"["$==="](ca))G["$=="]("stem")&&(I=["style",r(v,"STEM_TYPE_ALIASES")["$[]"](c(w=p["$[]"](2))?w:O["$[]"]("stem"))],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),T=this.$build_block("stem","raw",J,h,d,p);else if("pass"["$==="](ca))T=this.$build_block(G,"raw",J,h,d,p);else{if("comment"["$==="](ca))return this.$build_block(G,
"skip",J,h,d,p),p.$clear(),e;if(c(c(w=D)?ta=L["$registered_for_block?"](G,U):w)){if((La=(ka=ta.$config())["$[]"]("content_model"))["$=="]("skip")||(c((Oa=c(w=ka["$[]"]("positional_attrs"))?w:ka["$[]"]("pos_attrs"))["$nil_or_empty?"]())||r(v,"AttributeList").$rekey(p,g([e],Oa)),c(Ga=ka["$[]"]("default_attrs"))&&n(Ga,"each",[],(E=function(d,f){var g;null==d&&(d=e);null==f&&(f=e);return c(g=p["$[]"](d))?g:(I=[d,f],n(p,"[]=",a.to_a(I)),I[b(I.length,1)])},E.$$s=this,E.$$arity=2,E)),I=["cloaked-context",
U],n(p,"[]=",a.to_a(I)),I[b(I.length,1)]),!c(T=this.$build_block(G,La,J,h,d,p,f(["extension"],{extension:ta}))))return p.$clear(),e}else this.$raise("Unsupported block type "+G+" at "+d.$cursor())}c(ma.$sourcemap())&&(I=[d.$cursor_at_mark()],n(T,"source_location=",a.to_a(I)),I[b(I.length,1)]);c(p["$[]"]("title"))&&(I=[wa=p.$delete("title")],n(T,"title=",a.to_a(I)),I[b(I.length,1)],c(r(v,"CAPTION_ATTRIBUTE_NAMES")["$[]"](T.$context()))&&T.$assign_caption(p.$delete("caption")));I=[p["$[]"]("style")];
n(T,"style=",a.to_a(I));I[b(I.length,1)];c(ha=c(w=T.$id())?w:(I=[p["$[]"]("id")],n(T,"id=",a.to_a(I)),I[b(I.length,1)]))&&(c(c(wa)?wa["$include?"](r(v,"ATTR_REF_HEAD")):T["$title?"]())&&T.$title(),c(ma.$register("refs",[ha,T]))||this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+ha,f(["source_location"],{source_location:d.$cursor_at_mark()}))));c(p["$empty?"]())||T.$update_attributes(p);T.$commit_subs();c(T["$sub?"]("callouts"))&&!c(this.$catalog_callouts(T.$source(),
ma))&&T.$remove_sub("callouts");return T}catch(kb){if(kb===a.returner)return kb.$v;throw kb;}},D.$$arity=-3);a.defs(d,"$read_paragraph_lines",A=function(e,d,g){null==g&&(g=f([],{}));var h=["break_on_blank_lines",!0];n(g,"[]=",a.to_a(h));h[b(h.length,1)];h=["break_on_list_continuation",!0];n(g,"[]=",a.to_a(h));h[b(h.length,1)];h=["preserve_last_line",!0];n(g,"[]=",a.to_a(h));h[b(h.length,1)];d=c(d)?c(r(v,"Compliance").$block_terminates_paragraph())?r(v,"StartOfBlockOrListProc"):r(v,"StartOfListProc"):
c(r(v,"Compliance").$block_terminates_paragraph())?r(v,"StartOfBlockProc"):r(v,"NoOp");return n(e,"read_lines_until",[g],d.$to_proc())},A.$$arity=-3);a.defs(d,"$is_delimited_block?",O=function(d,f){var g,h;null==f&&(f=e);if(!c(c(g=l(h=d.$length(),1))?r(v,"DELIMITED_BLOCK_HEADS")["$[]"](d.$slice(0,2)):g))return e;if(h["$=="](2)){var n=d;var w=2}else if(c(k(h,5))?(n=d,w=h):n=d.$slice(0,w=4),c(c(g=r(v,"Compliance").$markdown_syntax())?n["$start_with?"]("`"):g))if(w["$=="](4)){if(c(c(g=n["$=="]("````"))?
g:(n=n.$chop())["$!="]("```")))return e;d=n;h=w=3}else{if(c(n["$!="]("```")))return e}else if(w["$=="](3))return e;var p=r(v,"DELIMITED_BLOCKS")["$[]"](n);g=a.to_ary(p);var m=null==g[0]?e:g[0];var q=null==g[1]?e:g[1];p;return c(c(g=m)?c(p=h["$=="](w))?p:this["$uniform?"](d.$slice(1,h),r(v,"DELIMITED_BLOCK_TAILS")["$[]"](n),b(h,1)):g)?c(f)?r(v,"BlockMatchData").$new(m,q,n,d):!0:e},O.$$arity=-2);a.defs(d,"$build_block",G=function(a,b,d,g,h,n,k){var w,p,m,q,t=e;null==k&&(k=f([],{}));var C=b;"skip"["$==="](C)?
(w=[!0,"simple"],m=w[0],q=w[1]):"raw"["$==="](C)?(w=[!1,"simple"],m=w[0],q=w[1]):(w=[!1,b],m=w[0],q=w[1]);w;c(d["$nil?"]())?(q["$=="]("verbatim")?q=h.$read_lines_until(f(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),q=this.$read_paragraph_lines(h,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:m}))),d=e):c(q["$!="]("compound"))?(q=h.$read_lines_until(f(["terminator",
"skip_processing","context","cursor"],{terminator:d,skip_processing:m,context:a,cursor:"at_mark"})),d=e):d["$=="](!1)?(q=e,d=h):(q=e,C=h.$cursor(),d=r(v,"Reader").$new(h.$read_lines_until(f(["terminator","skip_processing","context","cursor"],{terminator:d,skip_processing:m,context:a,cursor:"at_mark"})),C));C=b;if("verbatim"["$==="](C))if(h=(c(w=n["$[]"]("tabsize"))?w:g.$document().$attributes()["$[]"]("tabsize")).$to_i(),c(C=n["$[]"]("indent")))this["$adjust_indentation!"](q,C.$to_i(),h);else{if(c(l(h,
0)))this["$adjust_indentation!"](q,-1,h)}else if("skip"["$==="](C))return e;if(c(k=k["$[]"]("extension")))if(n.$delete("style"),c(c(w=t=k.$process_method()["$[]"](g,c(p=d)?p:r(v,"Reader").$new(q),n.$merge()))?t["$!="](g):w))n.$replace(t.$attributes()),c(c(w=t.$content_model()["$=="]("compound")?r(v,"Block")["$==="](t):t.$content_model()["$=="]("compound"))?(q=t.$lines())["$empty?"]()["$!"]():w)&&(b="compound",d=r(v,"Reader").$new(q));else return e;else t=r(v,"Block").$new(g,a,f(["content_model","source",
"attributes"],{content_model:b,source:q,attributes:n}));b["$=="]("compound")&&this.$parse_blocks(d,t);return t},G.$$arity=-7);a.defs(d,"$parse_blocks",U=function(a,b,d){var f,g,h=e;null==d&&(d=e);if(c(d))for(;c(c(f=c(g=h=this.$next_block(a,b,d.$merge()))?b.$blocks()["$<<"](h):g)?f:a["$has_more_lines?"]()););else for(;c(c(f=c(g=h=this.$next_block(a,b))?b.$blocks()["$<<"](h):g)?f:a["$has_more_lines?"]()););return e},U.$$arity=-3);a.defs(d,"$parse_list",J=function(a,b,d,f){var g,h;null==u["~"]&&(u["~"]=
e);d=r(v,"List").$new(d,b);for(b=r(v,"ListRxMap")["$[]"](b);c(c(g=a["$has_more_lines?"]())?b["$=~"](a.$peek_line()):g);){if(c(h=this.$parse_list_item(a,d,u["~"],(g=u["~"])===e?e:g["$[]"](1),f)))d.$items()["$<<"](h);if(c(g=a.$skip_blank_lines()))g;else break}return d},J.$$arity=4);a.defs(d,"$catalog_callouts",K=function(a,b){var d,f=e,h=e;f=!1;h=0;c(a["$include?"]("<"))&&n(a,"scan",[r(v,"CalloutScanRx")],(d=function(){var a;c(((a=u["~"])===e?e:a["$[]"](0))["$start_with?"]("\\"))||b.$callouts().$register(((a=
u["~"])===e?e:a["$[]"](2))["$=="](".")?(h=g(h,1)).$to_s():(a=u["~"])===e?e:a["$[]"](2));return f=!0},d.$$s=this,d.$$arity=0,d));return f},K.$$arity=2);a.defs(d,"$catalog_inline_anchor",I=function(a,b,d,g,h){var n;null==h&&(h=d.$document());c(c(n=b)?b["$include?"](r(v,"ATTR_REF_HEAD")):n)&&(b=h.$sub_attributes(b));c(h.$register("refs",[a,r(v,"Inline").$new(d,"anchor",b,f(["type","id"],{type:"ref",id:a}))]))||(c(r(v,"Reader")["$==="](g))&&(g=g.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+
a,f(["source_location"],{source_location:g}))));return e},I.$$arity=-5);a.defs(d,"$catalog_inline_anchors",W=function(a,b,d,h){var k,w;c(c(k=a["$include?"]("[["))?k:a["$include?"]("or:"))&&n(a,"scan",[r(v,"InlineAnchorScanRx")],(w=function(){var a=w.$$s||this,n,k,p,m,q=e,t=e;if(c(m=(n=u["~"])===e?e:n["$[]"](1))){if(c(c(n=c(k=q=(p=u["~"])===e?e:p["$[]"](2))?q["$include?"](r(v,"ATTR_REF_HEAD")):k)?(q=d.$sub_attributes(q))["$empty?"]():n))return e}else if(m=(n=u["~"])===e?e:n["$[]"](3),c(q=(n=u["~"])===
e?e:n["$[]"](4)))if(c(q["$include?"]("]")))q=q.$gsub("\\]","]"),c(q["$include?"](r(v,"ATTR_REF_HEAD")))&&(q=d.$sub_attributes(q));else if(c(c(n=q["$include?"](r(v,"ATTR_REF_HEAD")))?(q=d.$sub_attributes(q))["$empty?"]():n))return e;if(c(d.$register("refs",[m,r(v,"Inline").$new(b,"anchor",q,f(["type","id"],{type:"ref",id:m}))])))return e;k=h.$cursor_at_mark();c(l(t=g(((n=u["~"])===e?e:n.$pre_match()).$count(r(v,"LF")),c(((n=u["~"])===e?e:n["$[]"](0))["$start_with?"](r(v,"LF")))?1:0),0))&&(k=k.$dup()).$advance(t);
return a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+m,f(["source_location"],{source_location:k})))},w.$$s=this,w.$$arity=0,w));return e},W.$$arity=4);a.defs(d,"$catalog_inline_biblio_anchor",H=function(a,b,d,g){c(d.$document().$register("refs",[a,r(v,"Inline").$new(d,"anchor",c(b)?"["+b+"]":b,f(["type","id"],{type:"bibref",id:a}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+a,f(["source_location"],
{source_location:g.$cursor()})));return e},H.$$arity=4);a.defs(d,"$parse_description_list",pa=function(d,f,g){var h;null==u["~"]&&(u["~"]=e);g=r(v,"List").$new(g,"dlist");var k=r(v,"DescriptionListSiblingRx")["$[]"](f["$[]"](2));for(g.$items()["$<<"](f=this.$parse_list_item(d,g,f,k));c(c(h=d["$has_more_lines?"]())?k["$=~"](d.$peek_line()):h);){var w=this.$parse_list_item(d,g,u["~"],k);if(c(f["$[]"](1)))g.$items()["$<<"](f=w);else f["$[]"](0)["$<<"](w["$[]"](0)["$[]"](0)),w=[1,w["$[]"](1)],n(f,"[]=",
a.to_a(w)),w[b(w.length,1)]}return g},pa.$$arity=3);a.defs(d,"$parse_callout_list",Ca=function(d,h,k,l){var w,p,m,q;k=r(v,"List").$new(k,"colist");var t=1;for(m=0;c(c(w=h)?w:c(p=h=r(v,"CalloutListRx").$match(d.$peek_line()))?d.$mark():p);)(q=h["$[]"](1))["$=="](".")&&(q=(m=g(m,1)).$to_s()),q["$=="](t.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+t+", got "+q,f(["source_location"],{source_location:d.$cursor_at_mark()}))),c(h=this.$parse_list_item(d,
k,h,"<1>"))&&(k.$items()["$<<"](h),c((q=l.$callout_ids(k.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+k.$items().$size()+">",f(["source_location"],{source_location:d.$cursor_at_mark()}))):(q=["coids",q],n(h.$attributes(),"[]=",a.to_a(q)),q[b(q.length,1)])),t=g(t,1),h=e;l.$next_list();return k},Ca.$$arity=4);a.defs(d,"$parse_list_item",ba=function(d,g,h,k,l){var w,p,m,q=e,t=e,C,x=e,z=e,N,E=e,F=e;null==l&&(l=e);if((m=g.$context())["$=="]("dlist")){if(q=
!0,t=r(v,"ListItem").$new(g,l=h["$[]"](1)),c(c(w=l["$start_with?"]("[["))?r(v,"LeadingInlineAnchorRx")["$=~"](l):w)&&this.$catalog_inline_anchor((w=u["~"])===e?e:w["$[]"](1),c(w=(p=u["~"])===e?e:p["$[]"](2))?w:((p=u["~"])===e?e:p.$post_match()).$lstrip(),t,d),c(C=h["$[]"](3))&&(x=!0),h=r(v,"ListItem").$new(g,C),c(g.$document().$sourcemap())){var y=[d.$cursor()];n(t,"source_location=",a.to_a(y));y[b(y.length,1)];c(x)?(y=[t.$source_location()],n(h,"source_location=",a.to_a(y)),y[b(y.length,1)]):z=!0}}else if(x=
!0,h=r(v,"ListItem").$new(g,C=h["$[]"](2)),c(g.$document().$sourcemap())&&(y=[d.$cursor()],n(h,"source_location=",a.to_a(y)),y[b(y.length,1)]),"ulist"["$==="](m))y=[k],n(h,"marker=",a.to_a(y)),y[b(y.length,1)],c(C["$start_with?"]("["))&&(c(c(w=l)?l["$=="]("bibliography"):w)?c(r(v,"InlineBiblioAnchorRx")["$=~"](C))&&this.$catalog_inline_biblio_anchor((w=u["~"])===e?e:w["$[]"](1),(w=u["~"])===e?e:w["$[]"](2),h,d):c(C["$start_with?"]("[["))?c(r(v,"LeadingInlineAnchorRx")["$=~"](C))&&this.$catalog_inline_anchor((w=
u["~"])===e?e:w["$[]"](1),(w=u["~"])===e?e:w["$[]"](2),h,d):c(C["$start_with?"]("[ ] ","[x] ","[*] "))&&(g.$set_option("checklist"),y=["checkbox",""],n(h.$attributes(),"[]=",a.to_a(y)),y[b(y.length,1)],c(C["$start_with?"]("[ "))||(y=["checked",""],n(h.$attributes(),"[]=",a.to_a(y)),y[b(y.length,1)]),y=[C.$slice(4,C.$length())],n(h,"text=",a.to_a(y)),y[b(y.length,1)]));else{if("olist"["$==="](m)){p=this.$resolve_ordered_list_marker(k,N=g.$items().$size(),!0,d);w=a.to_ary(p);k=null==w[0]?e:w[0];var I=
null==w[1]?e:w[1];p;y=[k];n(h,"marker=",a.to_a(y));y[b(y.length,1)];c((w=N["$=="](0))?l["$!"]():N["$=="](0))&&(y=[c(w=I)?w:(c(p=r(v,"ORDERED_LIST_STYLES")["$[]"](b(k.$length(),1)))?p:"arabic").$to_s()],n(g,"style=",a.to_a(y)),y[b(y.length,1)])}else y=[k],n(h,"marker=",a.to_a(y)),y[b(y.length,1)];c(c(w=C["$start_with?"]("[["))?r(v,"LeadingInlineAnchorRx")["$=~"](C):w)&&this.$catalog_inline_anchor((w=u["~"])===e?e:w["$[]"](1),(w=u["~"])===e?e:w["$[]"](2),h,d)}d.$shift();g=d.$cursor();d=r(v,"Reader").$new(this.$read_lines_for_list_item(d,
m,k,x),g);if(c(d["$has_more_lines?"]())){c(z)&&(y=[g],n(h,"source_location=",a.to_a(y)),y[b(y.length,1)]);z=d.$skip_line_comments();c(k=d.$peek_line())&&(c(z["$empty?"]())||d.$unshift_lines(z),c(k["$empty?"]())||(E=!0,c(q)||(x=e)));if(c(x=this.$next_block(d,h,f([],{}),f(["text_only","list_type"],{text_only:c(x)?e:!0,list_type:m}))))h.$blocks()["$<<"](x);for(;c(d["$has_more_lines?"]());)if(c(x=this.$next_block(d,h,f([],{}),f(["list_type"],{list_type:m}))))h.$blocks()["$<<"](x);c(c(w=c(p=E)?F=h.$blocks()["$[]"](0):
p)?F.$context()["$=="]("paragraph"):w)&&h.$fold_first()}return c(q)?[[t],c(c(w=h["$text?"]())?w:h["$blocks?"]())?h:e]:h},ba.$$arity=-5);a.defs(d,"$read_lines_for_list_item",na=function(d,g,h,k){var w,l,p,m,q,t,x,C=e,z=e,y=e,E=e,F=e,I=e,L=e,A=e;z=L=A=e;null==h&&(h=e);null==k&&(k=!0);C=[];z="inactive";y=!1;E=e;for(F=g["$=="]("dlist");c(d["$has_more_lines?"]());){I=d.$read_line();if(c(this["$is_sibling_list_item?"](I,g,h)))break;L=c(C["$empty?"]())?e:C["$[]"](-1);if(L["$=="](r(v,"LIST_CONTINUATION"))&&
(z["$=="]("inactive")&&(z="active",k=!0,c(y)||(A=[-1,""],n(C,"[]=",a.to_a(A)),A[b(A.length,1)])),I["$=="](r(v,"LIST_CONTINUATION")))){c(z["$!="]("frozen"))&&(z="frozen",C["$<<"](I));I=e;continue}if(c(A=this["$is_delimited_block?"](I,!0)))if(z["$=="]("active"))C["$<<"](I),C.$concat(d.$read_lines_until(f(["terminator","read_last_line","context"],{terminator:A.$terminator(),read_last_line:!0,context:e}))),z="inactive";else break;else if(c(c(w=c(l=F)?z["$!="]("active"):l)?r(v,"BlockAttributeLineRx")["$match?"](I):
w))break;else if(c((w=z["$=="]("active"))?I["$empty?"]()["$!"]():z["$=="]("active")))if(c(r(v,"LiteralParagraphRx")["$match?"](I)))d.$unshift_line(I),c(F)?C.$concat(n(d,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(p=function(a){var b=p.$$s||this;null==a&&(a=e);return b["$is_sibling_list_item?"](a,g,h)},p.$$s=this,p.$$arity=1,p))):C.$concat(d.$read_lines_until(f(["preserve_last_line",
"break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),z="inactive";else if(c(c(w=c(l=r(v,"BlockTitleRx")["$match?"](I))?l:r(v,"BlockAttributeLineRx")["$match?"](I))?w:r(v,"AttributeEntryRx")["$match?"](I)))C["$<<"](I);else c(L=n(c(y)?["dlist"]:r(v,"NESTABLE_LIST_CONTEXTS"),"find",[],(m=function(a){null==a&&(a=e);return r(v,"ListRxMap")["$[]"](a)["$match?"](I)},m.$$s=this,m.$$arity=1,m)))&&(y=!0,c((w=L["$=="]("dlist"))?
((l=u["~"])===e?e:l["$[]"](3))["$nil_or_empty?"]():L["$=="]("dlist"))&&(k=!1)),C["$<<"](I),z="inactive";else if(c(c(w=L)?L["$empty?"]():w)){if(c(I["$empty?"]())){if(!c(I=c(w=d.$skip_blank_lines())?d.$read_line():w))break;if(c(this["$is_sibling_list_item?"](I,g,h)))break}if(I["$=="](r(v,"LIST_CONTINUATION")))E=C.$size(),C["$<<"](I);else if(c(k))if(c(this["$is_sibling_list_item?"](I,g,h)))break;else if(c(L=n(r(v,"NESTABLE_LIST_CONTEXTS"),"find",[],(q=function(a){null==a&&(a=e);return r(v,"ListRxMap")["$[]"](a)["$=~"](I)},
q.$$s=this,q.$$arity=1,q))))C["$<<"](I),y=!0,c((w=L["$=="]("dlist"))?((l=u["~"])===e?e:l["$[]"](3))["$nil_or_empty?"]():L["$=="]("dlist"))&&(k=!1);else if(c(r(v,"LiteralParagraphRx")["$match?"](I)))d.$unshift_line(I),c(F)?C.$concat(n(d,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(t=function(a){var b=t.$$s||this;null==a&&(a=e);return b["$is_sibling_list_item?"](a,g,h)},
t.$$s=this,t.$$arity=1,t))):C.$concat(d.$read_lines_until(f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break;else c(y)||C.$pop(),C["$<<"](I),k=!0}else c(I["$empty?"]())||(k=!0),c(L=n(c(y)?["dlist"]:r(v,"NESTABLE_LIST_CONTEXTS"),"find",[],(x=function(a){null==a&&(a=e);return r(v,"ListRxMap")["$[]"](a)["$=~"](I)},x.$$s=this,x.$$arity=1,x)))&&(y=!0,c((w=L["$=="]("dlist"))?((l=u["~"])===
e?e:l["$[]"](3))["$nil_or_empty?"]():L["$=="]("dlist"))&&(k=!1)),C["$<<"](I);I=e}c(I)&&d.$unshift_line(I);c(E)&&(A=[E,""],n(C,"[]=",a.to_a(A)),A[b(A.length,1)]);for(;!c(C["$empty?"]());)if(c((z=C["$[]"](-1))["$empty?"]()))C.$pop();else{z["$=="](r(v,"LIST_CONTINUATION"))&&C.$pop();break}return C},na.$$arity=-3);a.defs(d,"$initialize_section",qa=function(d,g,h){var k,w=e,p=e,m=e,q=e,t=e;null==h&&(h=f([],{}));var C=g.$document();var x=(k=C.$doctype())["$=="]("book");c(C.$sourcemap())&&(w=d.$cursor());
var u=h["$[]"](1);var z=this.$parse_section_title(d,C,h["$[]"]("id"));var y=a.to_ary(z);var E=null==y[0]?e:y[0];var F=null==y[1]?e:y[1];var I=null==y[2]?e:y[2];var L=null==y[3]?e:y[3];var A=null==y[4]?e:y[4];z;c(u)?c(c(y=x)?u["$=="]("abstract"):y)?(y=["chapter",1],k=y[0],L=y[1],y):c(c(y=u["$start_with?"]("sect"))?r(v,"SectionLevelStyleRx")["$match?"](u):y)?k="section":(y=[u,!0],k=y[0],p=y[1],y,L["$=="](0)&&(L=1),m=k["$=="]("appendix")):c(x)?k=L["$=="](0)?"part":c(l(L,1))?"section":"chapter":c(k["$=="]("manpage")?
I.$casecmp("synopsis")["$=="](0):k["$=="]("manpage"))?(y=["synopsis",!0],k=y[0],p=y[1],y):k="section";c(F)&&(q=["reftext",F],n(h,"[]=",a.to_a(q)),q[b(q.length,1)]);F=r(v,"Section").$new(g,L);y=[E,I,k,w];F["$id="](y[0]);F["$title="](y[1]);F["$sectname="](y[2]);F["$source_location="](y[3]);y;c(p)?(q=[!0],n(F,"special=",a.to_a(q)),q[b(q.length,1)],c(m)?(q=[!0],n(F,"numbered=",a.to_a(q)),q[b(q.length,1)]):C.$attributes()["$[]"]("sectnums")["$=="]("all")&&(q=[c(c(y=x)?L["$=="](1):y)?"chapter":!0],n(F,
"numbered=",a.to_a(q)),q[b(q.length,1)])):c(c(y=C.$attributes()["$[]"]("sectnums"))?l(L,0):y)?(q=[c(F.$special())?c(y=g.$numbered())?!0:y:!0],n(F,"numbered=",a.to_a(q)),q[b(q.length,1)]):c(c(y=c(z=x)?L["$=="](0):z)?C.$attributes()["$[]"]("partnums"):y)&&(q=[!0],n(F,"numbered=",a.to_a(q)),q[b(q.length,1)]);c(g=c(y=F.$id())?y:(q=[c(C.$attributes()["$key?"]("sectids"))?t=r(v,"Section").$generate_id(F.$title(),C):e],n(F,"id=",a.to_a(q)),q[b(q.length,1)]))&&(c(c(y=t)?y:I["$include?"](r(v,"ATTR_REF_HEAD"))["$!"]())||
F.$title(),c(C.$register("refs",[g,F]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+g,f(["source_location"],{source_location:d.$cursor_at_line(b(d.$lineno(),c(A)?1:2))}))));F.$update_attributes(h);d.$skip_blank_lines();return F},qa.$$arity=-3);a.defs(d,"$is_next_line_section?",aa=function(a,b){var d,f,g=e;return c(c(d=g=b["$[]"](1))?c(f=g["$=="]("discrete"))?f:g["$=="]("float"):d)?e:c(r(v,"Compliance").$underline_style_section_titles())?(a=a.$peek_lines(2,
c(d=g)?g["$=="]("comment"):d),this["$is_section_title?"](c(d=a["$[]"](0))?d:"",a["$[]"](1))):this["$atx_section_title?"](c(d=a.$peek_line())?d:"")},aa.$$arity=2);a.defs(d,"$is_next_line_doctitle?",M=function(a,b,d){var f,h=e;return c(d)?c(f=h=this["$is_next_line_section?"](a,b))?g(h,d.$to_i())["$=="](0):f:this["$is_next_line_section?"](a,b)["$=="](0)},M.$$arity=3);a.defs(d,"$is_section_title?",P=function(a,b){var d;null==b&&(b=e);return c(d=this["$atx_section_title?"](a))?d:c(b["$nil_or_empty?"]())?
e:this["$setext_section_title?"](a,b)},P.$$arity=-2);a.defs(d,"$atx_section_title?",Q=function(a){var d;return c(c(r(v,"Compliance").$markdown_syntax())?c(d=a["$start_with?"]("=","#"))?r(v,"ExtAtxSectionTitleRx")["$=~"](a):d:c(d=a["$start_with?"]("="))?r(v,"AtxSectionTitleRx")["$=~"](a):d)?b(((d=u["~"])===e?e:d["$[]"](1)).$length(),1):e},Q.$$arity=1);a.defs(d,"$setext_section_title?",S=function(a,d){var f,g,h,n,w=e,l=e;return c(c(f=c(g=c(h=n=r(v,"SETEXT_SECTION_LEVELS")["$[]"](w=d.$chr()))?this["$uniform?"](d,
w,l=d.$length()):h)?r(v,"SetextSectionTitleRx")["$match?"](a):g)?k(b(a.$length(),l).$abs(),2):f)?n:e},S.$$arity=2);a.defs(d,"$parse_section_title",va=function(a,d,f){var h,n,w,l,p,m=e,q=e,t=e,x=e,C=e,z=e;null==f&&(f=e);var y=e;var F=a.$read_line();c(c(r(v,"Compliance").$markdown_syntax())?c(h=F["$start_with?"]("=","#"))?r(v,"ExtAtxSectionTitleRx")["$=~"](F):h:c(h=F["$start_with?"]("="))?r(v,"AtxSectionTitleRx")["$=~"](F):h)?(h=[b(((n=u["~"])===e?e:n["$[]"](1)).$length(),1),(n=u["~"])===e?e:n["$[]"](2),
!0],m=h[0],q=h[1],t=h[2],h,!c(f)&&c(c(h=c(n=q["$end_with?"]("]]"))?r(v,"InlineSectionAnchorRx")["$=~"](q):n)?((n=u["~"])===e?e:n["$[]"](1))["$!"]():h)&&(h=[q.$slice(0,b(q.$length(),((n=u["~"])===e?e:n["$[]"](0)).$length())),(n=u["~"])===e?e:n["$[]"](2),(n=u["~"])===e?e:n["$[]"](3)],q=h[0],f=h[1],y=h[2],h)):c(c(h=c(n=c(w=c(l=c(p=r(v,"Compliance").$underline_style_section_titles())?x=a.$peek_line(!0):p)?m=r(v,"SETEXT_SECTION_LEVELS")["$[]"](C=x.$chr()):l)?this["$uniform?"](x,C,z=x.$length()):w)?q=c(w=
r(v,"SetextSectionTitleRx")["$=~"](F))?(l=u["~"])===e?e:l["$[]"](1):w:n)?k(b(F.$length(),z).$abs(),2):h)?(t=!1,!c(f)&&c(c(h=c(n=q["$end_with?"]("]]"))?r(v,"InlineSectionAnchorRx")["$=~"](q):n)?((n=u["~"])===e?e:n["$[]"](1))["$!"]():h)&&(h=[q.$slice(0,b(q.$length(),((n=u["~"])===e?e:n["$[]"](0)).$length())),(n=u["~"])===e?e:n["$[]"](2),(n=u["~"])===e?e:n["$[]"](3)],q=h[0],f=h[1],y=h[2],h),a.$shift()):this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());c(d["$attr?"]("leveloffset"))&&(m=
g(m,d.$attr("leveloffset").$to_i()),c(k(m,0))&&(m=0));return[f,y,q,m,t]},va.$$arity=-3);a.defs(d,"$parse_header_metadata",ha=function(d,h,k){var w,p,m,q,t=e,x=e,C=e,u=e,z=e,y=e,F=e,E=e,I=e,L=e,A=E=e,D=e,T=e,O=E=I=e,B=e,G=e;null==h&&(h=e);null==k&&(k=!0);t=c(w=h)?h.$attributes():w;this.$process_attribute_entries(d,h);c(c(w=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():w)?(x=(C=this.$process_authors(d.$read_line())).$delete("authorcount"),c(c(w=h)?l((u=["authorcount",x],n(t,"[]=",a.to_a(u)),
u[b(u.length,1)]),0):w)&&(n(C,"each",[],(p=function(d,f){null==d&&(d=e);null==f&&(f=e);if(c(t["$key?"](d)))return e;u=[d,h.$apply_header_subs(f)];n(t,"[]=",a.to_a(u));return u[b(u.length,1)]},p.$$s=this,p.$$arity=2,p)),z=t["$[]"]("author"),y=t["$[]"]("authorinitials"),F=t["$[]"]("authors")),u=["authorcount",x],n(C,"[]=",a.to_a(u)),u[b(u.length,1)],this.$process_attribute_entries(d,h),c(c(w=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():w)&&(E=d.$read_line(),c(I=r(v,"RevisionInfoLineRx").$match(E))?
(L=f([],{}),c(I["$[]"](1))&&(u=["revnumber",I["$[]"](1).$rstrip()],n(L,"[]=",a.to_a(u)),u[b(u.length,1)]),c((E=I["$[]"](2).$strip())["$empty?"]())||(u=c(c(w=I["$[]"](1)["$!"]())?E["$start_with?"]("v"):w)?["revnumber",E.$slice(1,E.$length())]:["revdate",E],n(L,"[]=",a.to_a(u)),u[b(u.length,1)]),c(I["$[]"](3))&&(u=["revremark",I["$[]"](3).$rstrip()],n(L,"[]=",a.to_a(u)),u[b(u.length,1)]),c(c(w=h)?L["$empty?"]()["$!"]():w)&&n(L,"each",[],(m=function(d,f){null==d&&(d=e);null==f&&(f=e);if(c(t["$key?"](d)))return e;
u=[d,h.$apply_header_subs(f)];n(t,"[]=",a.to_a(u));return u[b(u.length,1)]},m.$$s=this,m.$$arity=2,m))):d.$unshift_line(E)),this.$process_attribute_entries(d,h),d.$skip_blank_lines()):C=f([],{});if(c(h)){if(c(c(w=t["$key?"]("author"))?(A=t["$[]"]("author"))["$!="](z):w))D=this.$process_authors(A,!0,!1),c(t["$[]"]("authorinitials")["$!="](y))&&D.$delete("authorinitials");else if(c(c(w=t["$key?"]("authors"))?(A=t["$[]"]("authors"))["$!="](F):w))D=this.$process_authors(A,!0);else{w=[[],1,"author_1",
!1,!1];T=w[0];I=w[1];E=w[2];O=w[3];B=w[4];for(w;c(t["$key?"](E));)(G=t["$[]"](E))["$=="](C["$[]"](E))?(T["$<<"](e),B=!0):(T["$<<"](G),O=!0),E="author_"+(I=g(I,1));c(O)?(c(B)&&n(T,"each_with_index",[],(q=function(d,f){var h=q.$$s||this,k,w=e;null==d&&(d=e);null==f&&(f=e);if(c(d))return e;u=[f,n([C["$[]"]("firstname_"+(w=g(f,1))),C["$[]"]("middlename_"+w),C["$[]"]("lastname_"+w)].$compact(),"map",[],(k=function(a){null==a&&(a=e);return a.$tr(" ","_")},k.$$s=h,k.$$arity=1,k)).$join(" ")];n(T,"[]=",a.to_a(u));
return u[b(u.length,1)]},q.$$s=this,q.$$arity=2,q)),D=this.$process_authors(T,!0,!1)):D=f(["authorcount"],{authorcount:0})}D["$[]"]("authorcount")["$=="](0)?c(x)?D=e:(u=["authorcount",0],n(t,"[]=",a.to_a(u)),u[b(u.length,1)]):(t.$update(D),c(c(w=t["$key?"]("email")["$!"]())?t["$key?"]("email_1"):w)&&(u=["email",t["$[]"]("email_1")],n(t,"[]=",a.to_a(u)),u[b(u.length,1)]))}return c(k)?C.$merge(L.$to_h(),D.$to_h()):e},ha.$$arity=-2);a.defs(d,"$process_authors",Aa=function(d,h,k){var w,l,p=e,m=e,q=e;
null==h&&(h=!1);null==k&&(k=!0);p=f([],{});m=0;n(c(c(w=k)?d["$include?"](";"):w)?d.$split(r(v,"AuthorDelimiterRx")):[].concat(a.to_a(d)),"each",[],(l=function(d){var k=l.$$s||this,w,q,t,u,x=e,C=e,z=e,y=e,E=e,F=e,N=e,I=e;null==d&&(d=e);if(c(d["$empty?"]()))return e;x=f([],{});(m=g(m,1))["$=="](1)?n(r(v,"AuthorKeys"),"each",[],(w=function(c){null==c&&(c=e);c=[c.$to_sym(),c];n(x,"[]=",a.to_a(c));return c[b(c.length,1)]},w.$$s=k,w.$$arity=1,w)):n(r(v,"AuthorKeys"),"each",[],(q=function(c){null==c&&(c=
e);c=[c.$to_sym(),""+c+"_"+m];n(x,"[]=",a.to_a(c));return c[b(c.length,1)]},q.$$s=k,q.$$arity=1,q));if(c(h)){if(c(d["$include?"]("<"))&&(C=[x["$[]"]("author"),d.$tr("_"," ")],n(p,"[]=",a.to_a(C)),C[b(C.length,1)],d=d.$gsub(r(v,"XmlSanitizeRx"),"")),(z=d.$split(e,3)).$size()["$=="](3))z["$<<"](z.$pop().$squeeze(" "))}else c(y=r(v,"AuthorInfoLineRx").$match(d))&&(z=y.$to_a()).$shift();c(z)?(E=(C=[x["$[]"]("firstname"),F=z["$[]"](0).$tr("_"," ")],n(p,"[]=",a.to_a(C)),C[b(C.length,1)]),C=[x["$[]"]("authorinitials"),
F.$chr()],n(p,"[]=",a.to_a(C)),C[b(C.length,1)],c(z["$[]"](1))&&(c(z["$[]"](2))?(C=[x["$[]"]("middlename"),N=z["$[]"](1).$tr("_"," ")],n(p,"[]=",a.to_a(C)),C[b(C.length,1)],C=[x["$[]"]("lastname"),I=z["$[]"](2).$tr("_"," ")],n(p,"[]=",a.to_a(C)),C[b(C.length,1)],E=g(g(g(g(F," "),N)," "),I),C=[x["$[]"]("authorinitials"),""+F.$chr()+N.$chr()+I.$chr()]):(C=[x["$[]"]("lastname"),I=z["$[]"](1).$tr("_"," ")],n(p,"[]=",a.to_a(C)),C[b(C.length,1)],E=g(g(F," "),I),C=[x["$[]"]("authorinitials"),""+F.$chr()+
I.$chr()]),n(p,"[]=",a.to_a(C)),C[b(C.length,1)]),c(t=p["$[]"](x["$[]"]("author")))?t:(C=[x["$[]"]("author"),E],n(p,"[]=",a.to_a(C)),C[b(C.length,1)]),c(c(t=h)?t:z["$[]"](3)["$!"]())||(C=[x["$[]"]("email"),z["$[]"](3)],n(p,"[]=",a.to_a(C)),C[b(C.length,1)])):(C=[x["$[]"]("author"),(C=[x["$[]"]("firstname"),F=d.$squeeze(" ").$strip()],n(p,"[]=",a.to_a(C)),C[b(C.length,1)])],n(p,"[]=",a.to_a(C)),C[b(C.length,1)],C=[x["$[]"]("authorinitials"),F.$chr()],n(p,"[]=",a.to_a(C)),C[b(C.length,1)]);m["$=="](1)?
C=["authors",p["$[]"](x["$[]"]("author"))]:(m["$=="](2)&&n(r(v,"AuthorKeys"),"each",[],(u=function(d){null==d&&(d=e);return c(p["$key?"](d))?(C=[""+d+"_1",p["$[]"](d)],n(p,"[]=",a.to_a(C)),C[b(C.length,1)]):e},u.$$s=k,u.$$arity=1,u)),C=["authors",""+p["$[]"]("authors")+", "+p["$[]"](x["$[]"]("author"))]);n(p,"[]=",a.to_a(C));return C[b(C.length,1)]},l.$$s=this,l.$$arity=1,l));q=["authorcount",m];n(p,"[]=",a.to_a(q));q[b(q.length,1)];return p},Aa.$$arity=-2);a.defs(d,"$parse_block_metadata_lines",
X=function(a,b,e,d){var g;null==e&&(e=f([],{}));for(null==d&&(d=f([],{}));c(this.$parse_block_metadata_line(a,b,e,d));)if(a.$shift(),c(g=a.$skip_blank_lines()))g;else break;return e},X.$$arity=-3);a.defs(d,"$parse_block_metadata_line",ua=function(d,g,h,k){var w,l,p=e,m=e,q=e;null==u["~"]&&(u["~"]=e);null==k&&(k=f([],{}));if(c(c(w=p=d.$peek_line())?c(k["$[]"]("text_only"))?p["$start_with?"]("[","/"):m=p["$start_with?"]("[",".","/",":"):w))if(c(p["$start_with?"]("[")))if(c(p["$start_with?"]("[["))){if(c(c(w=
p["$end_with?"]("]]"))?r(v,"BlockAnchorRx")["$=~"](p):w))return d=["id",(w=u["~"])===e?e:w["$[]"](1)],n(h,"[]=",a.to_a(d)),d[b(d.length,1)],c(d=(w=u["~"])===e?e:w["$[]"](2))&&(d=["reftext",c(d["$include?"](r(v,"ATTR_REF_HEAD")))?g.$sub_attributes(d):d],n(h,"[]=",a.to_a(d)),d[b(d.length,1)]),!0}else{if(c(c(w=p["$end_with?"]("]"))?r(v,"BlockAttributeListRx")["$=~"](p):w))return k=h["$[]"](1),c(g.$parse_attributes((w=u["~"])===e?e:w["$[]"](1),[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,
into:h}))["$[]"](1))&&(d=[1,c(w=this.$parse_style_attribute(h,d))?w:k],n(h,"[]=",a.to_a(d)),d[b(d.length,1)]),!0}else if(c(c(w=m)?p["$start_with?"]("."):w)){if(c(r(v,"BlockTitleRx")["$=~"](p)))return d=["title",(w=u["~"])===e?e:w["$[]"](1)],n(h,"[]=",a.to_a(d)),d[b(d.length,1)],!0}else if(c(c(w=m["$!"]())?w:p["$start_with?"]("/"))){if(c(p["$start_with?"]("//"))){if(p["$=="]("//"))return!0;if(c(c(w=m)?this["$uniform?"](p,"/",q=p.$length()):w)){if(!q["$=="](3))return d.$read_lines_until(f(["terminator",
"skip_first_line","preserve_last_line","skip_processing","context"],{terminator:p,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!c(p["$start_with?"]("///")))return!0}}else if(c(c(w=c(l=m)?p["$start_with?"](":"):l)?r(v,"AttributeEntryRx")["$=~"](p):w))return this.$process_attribute_entry(d,g,h,u["~"]),!0;return e},ua.$$arity=-4);a.defs(d,"$process_attribute_entries",Ha=function(a,b,d){null==d&&(d=e);for(a.$skip_comment_lines();c(this.$process_attribute_entry(a,
b,d));)a.$shift(),a.$skip_comment_lines()},Ha.$$arity=-3);a.defs(d,"$process_attribute_entry",Fa=function(a,d,f,g){var h,n,k,w,l=e;null==f&&(f=e);null==g&&(g=e);if(c(c(h=g)?h:g=c(a["$has_more_lines?"]())?r(v,"AttributeEntryRx").$match(a.$peek_line()):e)){if(c((w=g["$[]"](2))["$nil_or_empty?"]()))w="";else if(c(w["$end_with?"](r(v,"LINE_CONTINUATION"),r(v,"LINE_CONTINUATION_LEGACY")))){h=[w.$slice(b(w.$length(),2),2),w.$slice(0,b(w.$length(),2)).$rstrip()];var p=h[0];w=h[1];for(h;c(c(n=a.$advance())?
(l=c(k=a.$peek_line())?k:"")["$empty?"]()["$!"]():n)&&(l=l.$lstrip(),c(h=l["$end_with?"](p))&&(l=l.$slice(0,b(l.$length(),2)).$rstrip()),w=""+w+(c(w["$end_with?"](r(v,"HARD_LINE_BREAK")))?r(v,"LF"):" ")+l,c(h)););}this.$store_attribute(g["$[]"](1),w,d,f);return!0}return e},Fa.$$arity=-3);a.defs(d,"$store_attribute",Da=function(a,d,f,h){var n;null==f&&(f=e);null==h&&(h=e);c(a["$end_with?"]("!"))?(a=a.$chop(),d=e):c(a["$start_with?"]("!"))&&(a=a.$slice(1,a.$length()),d=e);(a=this.$sanitize_attribute_name(a))["$=="]("numbered")?
a="sectnums":a["$=="]("hardbreaks")?a="hardbreaks-option":a["$=="]("showtitle")&&this.$store_attribute("notitle",c(d)?e:"",f,h);c(f)?c(d)?(a["$=="]("leveloffset")&&(c(d["$start_with?"]("+"))?d=g(f.$attr("leveloffset",0).$to_i(),d.$slice(1,d.$length()).$to_i()).$to_s():c(d["$start_with?"]("-"))&&(d=b(f.$attr("leveloffset",0).$to_i(),d.$slice(1,d.$length()).$to_i()).$to_s())),c(f=f.$set_attribute(a,d))&&(d=f,c(h)&&q(r(v,"Document"),"AttributeEntry").$new(a,d).$save_to(h))):c(c(n=f.$delete_attribute(a))?
h:n)&&q(r(v,"Document"),"AttributeEntry").$new(a,d).$save_to(h):c(h)&&q(r(v,"Document"),"AttributeEntry").$new(a,d).$save_to(h);return[a,d]},Da.$$arity=-3);a.defs(d,"$resolve_list_marker",Sa=function(a,b,c,d,f){null==c&&(c=0);null==d&&(d=!1);null==f&&(f=e);return"ulist"["$==="](a)?b:"olist"["$==="](a)?this.$resolve_ordered_list_marker(b,c,d,f)["$[]"](0):"<1>"},Sa.$$arity=-3);a.defs(d,"$resolve_ordered_list_marker",Qa=function(a,b,d,h){var k,w,l=e,p=e,m=e,q=e;null==b&&(b=0);null==d&&(d=!1);null==h&&
(h=e);if(c(a["$start_with?"](".")))return[a];l=p=n(r(v,"ORDERED_LIST_STYLES"),"find",[],(k=function(b){null==b&&(b=e);return r(v,"OrderedListMarkerRxMap")["$[]"](b)["$match?"](a)},k.$$s=this,k.$$arity=1,k));"arabic"["$==="](l)?(c(d)&&(m=g(b,1),q=a.$to_i()),a="1."):"loweralpha"["$==="](l)?(c(d)&&(m=g("a"["$[]"](0).$ord(),b).$chr(),q=a.$chop()),a="a."):"upperalpha"["$==="](l)?(c(d)&&(m=g("A"["$[]"](0).$ord(),b).$chr(),q=a.$chop()),a="A."):"lowerroman"["$==="](l)?(c(d)&&(m=r(v,"Helpers").$int_to_roman(g(b,
1)).$downcase(),q=a.$chop()),a="i)"):"upperroman"["$==="](l)&&(c(d)&&(m=r(v,"Helpers").$int_to_roman(g(b,1)),q=a.$chop()),a="I)");c(c(w=d)?m["$!="](q):w)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+m+", got "+q,f(["source_location"],{source_location:h.$cursor()})));return[a,p]},Qa.$$arity=-2);a.defs(d,"$is_sibling_list_item?",Oa=function(a,b,d){var f,g;return c(q("::","Regexp")["$==="](d))?d["$match?"](a):c(f=r(v,"ListRxMap")["$[]"](b)["$=~"](a))?d["$=="](this.$resolve_list_marker(b,
(g=u["~"])===e?e:g["$[]"](1))):f},Oa.$$arity=3);a.defs(d,"$parse_table",Ga=function(d,f,h){var k,w,p,m=e,t=e,u=p=e,x=e,C,z=e,y=e;f=r(v,"Table").$new(f,h);c(c(k=h["$key?"]("cols"))?(m=this.$parse_colspecs(h["$[]"]("cols")))["$empty?"]()["$!"]():k)&&(f.$create_columns(m),t=!0);m=c(k=d.$skip_blank_lines())?k:0;c(h["$[]"]("header-option"))?(p=[!0],n(f,"has_header_option=",a.to_a(p)),p[b(p.length,1)]):c(m["$=="](0)?h["$[]"]("noheader-option")["$!"]():m["$=="](0))&&(p=["implicit"],n(f,"has_header_option=",
a.to_a(p)),p[b(p.length,1)],u=!0);m=q(r(v,"Table"),"ParserContext").$new(d,f,h);k=[m.$format(),-1,e];var E=k[0];var F=k[1];var I=k[2];k;for(k=!1;k||c(x=d.$read_line());){k=!1;if(c(c(w=C=l(F=g(F,1),0))?x["$empty?"]():w))x=e,c(I)&&(I=g(I,1));else if(E["$=="]("psv"))if(c(m["$starts_with_delimiter?"](x)))x=x.$slice(1,x.$length()),m.$close_open_cell(),c(I)&&(I=e);else{var L=this.$parse_cellspec(x,"start",m.$delimiter());w=a.to_ary(L);var A=null==w[0]?e:w[0];x=null==w[1]?e:w[1];L;c(A)?(m.$close_open_cell(A),
c(I)&&(I=e)):c(c(w=I)?I["$=="](F):w)&&(p=[u=I=e],n(f,"has_header_option=",a.to_a(p)),p[b(p.length,1)])}c(C)||(d.$mark(),c(u)&&(c(c(w=d["$has_more_lines?"]())?d.$peek_line()["$empty?"]():w)?I=1:(p=[u=e],n(f,"has_header_option=",a.to_a(p)),p[b(p.length,1)])));for(w=!1;w||c(!0);)if(w=!1,c(c(L=x)?z=m.$match_delimiter(x):L)){L=[z.$pre_match(),z.$post_match()];C=L[0];x=L[1];L;A=E;if("csv"["$==="](A)){if(c(m["$buffer_has_unclosed_quotes?"](C))){m.$skip_past_delimiter(C);if(c(x["$empty?"]()))break;w=!0;continue}p=
[""+m.$buffer()+C]}else if("dsv"["$==="](A)){if(c(C["$end_with?"]("\\"))){m.$skip_past_escaped_delimiter(C);if(c(x["$empty?"]())){p=[""+m.$buffer()+r(v,"LF")];n(m,"buffer=",a.to_a(p));p[b(p.length,1)];m.$keep_cell_open();break}w=!0;continue}p=[""+m.$buffer()+C]}else{if(c(C["$end_with?"]("\\"))){m.$skip_past_escaped_delimiter(C);if(c(x["$empty?"]())){p=[""+m.$buffer()+r(v,"LF")];n(m,"buffer=",a.to_a(p));p[b(p.length,1)];m.$keep_cell_open();break}w=!0;continue}p=this.$parse_cellspec(C);L=a.to_ary(p);
A=null==L[0]?e:L[0];C=null==L[1]?e:L[1];p;m.$push_cellspec(A);p=[""+m.$buffer()+C]}n(m,"buffer=",a.to_a(p));p[b(p.length,1)];c(x["$empty?"]())&&(x=e);m.$close_cell()}else{p=[""+m.$buffer()+x+r(v,"LF")];n(m,"buffer=",a.to_a(p));p[b(p.length,1)];A=E;"csv"["$==="](A)?c(m["$buffer_has_unclosed_quotes?"]())?(c(c(L=I)?F["$=="](0):L)&&(p=[u=I=e],n(f,"has_header_option=",a.to_a(p)),p[b(p.length,1)]),m.$keep_cell_open()):m.$close_cell(!0):"dsv"["$==="](A)?m.$close_cell(!0):m.$keep_cell_open();break}if(c(m["$cell_open?"]()))c(d["$has_more_lines?"]())||
m.$close_cell(!0);else if(c(w=d.$skip_blank_lines()))w;else break}c(c(k=(y=f.$attributes(),c(w=y["$[]"]("colcount"))?w:(p=["colcount",f.$columns().$size()],n(y,"[]=",a.to_a(p)),p[b(p.length,1)]))["$=="](0))?k:t)||f.$assign_column_widths();c(u)&&(p=[!0],n(f,"has_header_option=",a.to_a(p)),p[b(p.length,1)]);f.$partition_header_footer(h);return f},Ga.$$arity=3);a.defs(d,"$parse_colspecs",za=function(d){var g,h,k=e;c(d["$include?"](" "))&&(d=d.$delete(" "));if(d["$=="](d.$to_i().$to_s()))return n(q("::",
"Array"),"new",[d.$to_i()],(g=function(){return f(["width"],{width:1})},g.$$s=this,g.$$arity=0,g));k=[];n(c(d["$include?"](","))?d.$split(",",-1):d.$split(";",-1),"each",[],(h=function(d){var g=h.$$s||this,w,l=e,p=e,m=e,q=e,t=m=e;null==d&&(d=e);if(c(d["$empty?"]()))return k["$<<"](f(["width"],{width:1}));if(c(l=r(v,"ColumnSpecRx").$match(d))){p=f([],{});if(c(l["$[]"](2))){d=l["$[]"](2).$split(".");var x=a.to_ary(d);m=null==x[0]?e:x[0];q=null==x[1]?e:x[1];d;c(c(x=m["$nil_or_empty?"]()["$!"]())?r(v,
"TableCellHorzAlignments")["$key?"](m):x)&&(m=["halign",r(v,"TableCellHorzAlignments")["$[]"](m)],n(p,"[]=",a.to_a(m)),m[b(m.length,1)]);c(c(x=q["$nil_or_empty?"]()["$!"]())?r(v,"TableCellVertAlignments")["$key?"](q):x)&&(m=["valign",r(v,"TableCellVertAlignments")["$[]"](q)],n(p,"[]=",a.to_a(m)),m[b(m.length,1)])}m=c(t=l["$[]"](3))?["width",t["$=="]("~")?-1:t.$to_i()]:["width",1];n(p,"[]=",a.to_a(m));m[b(m.length,1)];c(c(x=l["$[]"](4))?r(v,"TableCellStyles")["$key?"](l["$[]"](4)):x)&&(m=["style",
r(v,"TableCellStyles")["$[]"](l["$[]"](4))],n(p,"[]=",a.to_a(m)),m[b(m.length,1)]);return c(l["$[]"](1))?n(1,"upto",[l["$[]"](1).$to_i()],(w=function(){return k["$<<"](p.$merge())},w.$$s=g,w.$$arity=0,w)):k["$<<"](p)}return e},h.$$s=this,h.$$arity=1,h));return k},za.$$arity=1);a.defs(d,"$parse_cellspec",Ya=function(d,g,h){null==g&&(g="end");null==h&&(h=e);var k=[e,""];k;if(g["$=="]("start"))if(c(d["$include?"](h))){var w=d.$partition(h);k=a.to_ary(w);h=null==k[0]?e:k[0];g=null==k[2]?e:k[2];w;if(c(h=
r(v,"CellSpecStartRx").$match(h))){if(c(h["$[]"](0)["$empty?"]()))return[f([],{}),g]}else return[e,d]}else return[e,d];else if(c(h=r(v,"CellSpecEndRx").$match(d))){if(c(h["$[]"](0).$lstrip()["$empty?"]()))return[f([],{}),d.$rstrip()];g=h.$pre_match()}else return[f([],{}),d];d=f([],{});if(c(h["$[]"](1))){w=h["$[]"](1).$split(".");k=a.to_ary(w);var l=null==k[0]?e:k[0];var p=null==k[1]?e:k[1];w;l=c(l["$nil_or_empty?"]())?1:l.$to_i();p=c(p["$nil_or_empty?"]())?1:p.$to_i();w=h["$[]"](2);"+"["$==="](w)?
(l["$=="](1)||(w=["colspan",l],n(d,"[]=",a.to_a(w)),w[b(w.length,1)]),p["$=="](1)||(w=["rowspan",p],n(d,"[]=",a.to_a(w)),w[b(w.length,1)])):"*"["$==="](w)&&!l["$=="](1)&&(w=["repeatcol",l],n(d,"[]=",a.to_a(w)),w[b(w.length,1)])}c(h["$[]"](3))&&(w=h["$[]"](3).$split("."),k=a.to_ary(w),l=null==k[0]?e:k[0],p=null==k[1]?e:k[1],w,c(c(k=l["$nil_or_empty?"]()["$!"]())?r(v,"TableCellHorzAlignments")["$key?"](l):k)&&(w=["halign",r(v,"TableCellHorzAlignments")["$[]"](l)],n(d,"[]=",a.to_a(w)),w[b(w.length,1)]),
c(c(k=p["$nil_or_empty?"]()["$!"]())?r(v,"TableCellVertAlignments")["$key?"](p):k)&&(w=["valign",r(v,"TableCellVertAlignments")["$[]"](p)],n(d,"[]=",a.to_a(w)),w[b(w.length,1)]));c(c(k=h["$[]"](4))?r(v,"TableCellStyles")["$key?"](h["$[]"](4)):k)&&(w=["style",r(v,"TableCellStyles")["$[]"](h["$[]"](4))],n(d,"[]=",a.to_a(w)),w[b(w.length,1)]);return[d,g]},Ya.$$arity=-2);a.defs(d,"$parse_style_attribute",Pa=function(d,h){var k,w,l,p,m=e,q=e,t=e,x=e,u=e,z=e,y=e;null==h&&(h=e);if(c(c(k=c(w=m=d["$[]"](1))?
m["$include?"](" ")["$!"]():w)?r(v,"Compliance").$shorthand_property_syntax():k)){q=e;t="";x=f([],{});n(m,"each_char",[],(l=function(a){var b=l.$$s||this,c=e;null==a&&(a=e);return function(){c=a;return"."["$==="](c)?(b.$yield_buffered_attribute(x,q,t,h),t="",q="role"):"#"["$==="](c)?(b.$yield_buffered_attribute(x,q,t,h),t="",q="id"):"%"["$==="](c)?(b.$yield_buffered_attribute(x,q,t,h),t="",q="option"):t=g(t,a)}()},l.$$s=this,l.$$arity=1,l));if(c(q))return this.$yield_buffered_attribute(x,q,t,h),c(u=
x["$[]"]("style"))&&(z=["style",u],n(d,"[]=",a.to_a(z)),z[b(z.length,1)]),c(x["$key?"]("id"))&&(z=["id",x["$[]"]("id")],n(d,"[]=",a.to_a(z)),z[b(z.length,1)]),c(x["$key?"]("role"))&&(z=["role",c((y=d["$[]"]("role"))["$nil_or_empty?"]())?x["$[]"]("role").$join(" "):""+y+" "+x["$[]"]("role").$join(" ")],n(d,"[]=",a.to_a(z)),z[b(z.length,1)]),c(x["$key?"]("option"))&&n(x["$[]"]("option"),"each",[],(p=function(c){null==c&&(c=e);z=[""+c+"-option",""];n(d,"[]=",a.to_a(z));return z[b(z.length,1)]},p.$$s=
this,p.$$arity=1,p)),u;z=["style",m];n(d,"[]=",a.to_a(z));return z[b(z.length,1)]}z=["style",m];n(d,"[]=",a.to_a(z));return z[b(z.length,1)]},Pa.$$arity=-2);a.defs(d,"$yield_buffered_attribute",Va=function(d,g,h,k){var w,l=e;if(c(g))if(c(h["$empty?"]()))c(k)?this.$logger().$warn(this.$message_with_context("invalid empty "+g+" detected in style attribute",f(["source_location"],{source_location:k.$cursor_at_prev_line()}))):this.$logger().$warn("invalid empty "+g+" detected in style attribute");else if(g["$=="]("id"))c(d["$key?"]("id"))&&
(c(k)?this.$logger().$warn(this.$message_with_context("multiple ids detected in style attribute",f(["source_location"],{source_location:k.$cursor_at_prev_line()}))):this.$logger().$warn("multiple ids detected in style attribute")),l=[g,h],n(d,"[]=",a.to_a(l)),l[b(l.length,1)];else(c(w=d["$[]"](g))?w:(l=[g,[]],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]))["$<<"](h);else c(h["$empty?"]())||(l=["style",h],n(d,"[]=",a.to_a(l)),l[b(l.length,1)]);return e},Va.$$arity=4);a.defs(d,"$adjust_indentation!",Wa=function(d,
f,h){var w,m,q,t,x,u,C,z=this,y=e,F=e,E=e;null==f&&(f=0);null==h&&(h=0);if(c(d["$empty?"]()))return e;c(c(w=l(h,0))?n(d,"any?",[],(m=function(a){null==a&&(a=e);return a["$include?"](r(v,"TAB"))},m.$$s=z,m.$$arity=1,m)):w)&&(y=p(" ",h),function(){var f=a.new_brk();try{return n(d,"map!",[],(q=function(d){var f=q.$$s||this,k,w,l,m=e,t=e,x=e,u=e,C=e;null==d&&(d=e);if(c(c(k=d["$empty?"]())?k:(m=d.$index(r(v,"TAB")))["$nil?"]())||m["$=="](0)&&(t=0,function(){var b=a.new_brk();try{return n(d,"each_byte",
[],(w=function(c){null==c&&(c=e);c["$=="](9)||a.brk(e,b);return t=g(t,1)},w.$$s=f,w.$$brk=b,w.$$arity=1,w))}catch(eb){if(eb===b)return eb.$v;throw eb;}}(),d=""+p(y,t)+d.$slice(t,d.$length()),!c(d["$include?"](r(v,"TAB")))))return d;u=x=0;C="";n(d,"each_char",[],(l=function(a){var c;null==a&&(a=e);a["$=="](r(v,"TAB"))?(a=g(u,x))["$%"](h)["$=="](0)?(x=g(x,b(h,1)),C=g(C,y)):((c=b(h,a["$%"](h)))["$=="](1)||(x=g(x,b(c,1))),C=g(C,p(" ",c))):C=g(C,a);return u=g(u,1)},l.$$s=f,l.$$arity=1,l));return C},q.$$s=
z,q.$$brk=f,q.$$arity=1,q))}catch(Za){if(Za===f)return Za.$v;throw Za;}}());if(c(k(f,0)))return e;F=e;(function(){var f=a.new_brk();try{return n(d,"each",[],(t=function(d){var h;null==d&&(d=e);if(c(d["$empty?"]()))return e;(d=b(d.$length(),d.$lstrip().$length()))["$=="](0)&&(F=e,a.brk(e,f));return c(c(h=F)?k(F,d):h)?e:F=d},t.$$s=z,t.$$brk=f,t.$$arity=1,t))}catch(Za){if(Za===f)return Za.$v;throw Za;}})();f["$=="](0)?c(F)&&n(d,"map!",[],(x=function(a){null==a&&(a=e);return c(a["$empty?"]())?a:a.$slice(F,
a.$length())},x.$$s=z,x.$$arity=1,x)):(E=p(" ",f),c(F)?n(d,"map!",[],(u=function(a){null==a&&(a=e);return c(a["$empty?"]())?a:g(E,a.$slice(F,a.$length()))},u.$$s=z,u.$$arity=1,u)):n(d,"map!",[],(C=function(a){null==a&&(a=e);return c(a["$empty?"]())?a:g(E,a)},C.$$s=z,C.$$arity=1,C)));return e},Wa.$$arity=-2);a.defs(d,"$uniform?",ab=function(a,b,c){return a.$count(b)["$=="](c)},ab.$$arity=3);return(a.defs(d,"$sanitize_attribute_name",Xa=function(a){return a.$gsub(r(v,"InvalidAttributeNameCharsRx"),
"").$downcase()},Xa.$$arity=1),e)&&"sanitize_attribute_name"})(d[0],null,d)}(h[0],h)};Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,l=a.const_get_qualified,p=a.const_get_relative,h=a.module,e=a.klass,m=a.truthy,r=a.hash2,q=a.send,t=a.gvars;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $to_s $relative_path_from $new $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $join $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $extract_uri_prefix $end_with? $gsub $private $=~".split(" "));
return function(d,c){d=[h(d,"Asciidoctor")].concat(c);(function(c,$super,d){c=e(c,$super,"PathResolver");var f=[c].concat(d),h,g,n,v,u,z,y,F,E,A,D,B,O,G;c.$$prototype.file_separator=c.$$prototype._partition_path_web=c.$$prototype._partition_path_sys=c.$$prototype.working_dir=k;c.$include(p(f,"Logging"));a.const_set(f[0],"DOT",".");a.const_set(f[0],"DOT_DOT","..");a.const_set(f[0],"DOT_SLASH","./");a.const_set(f[0],"SLASH","/");a.const_set(f[0],"BACKSLASH","\\");a.const_set(f[0],"DOUBLE_SLASH","//");
a.const_set(f[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/);c.$attr_accessor("file_separator");c.$attr_accessor("working_dir");a.def(c,"$initialize",h=function(a,b){var c,e;null==a&&(a=k);null==b&&(b=k);this.file_separator=m(c=m(e=a)?e:l(l("::","File"),"ALT_SEPARATOR"))?c:l(l("::","File"),"SEPARATOR");this.working_dir=m(b)?m(this["$root?"](b))?this.$posixify(b):l("::","File").$expand_path(b):l("::","Dir").$pwd();this._partition_path_sys=r([],{});return this._partition_path_web=r([],{})},h.$$arity=-1);
a.def(c,"$absolute_path?",g=function(a){var b;return m(b=a["$start_with?"](p(f,"SLASH")))?b:this.file_separator["$=="](p(f,"BACKSLASH"))?p(f,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](p(f,"BACKSLASH"))},g.$$arity=1);m(p(f,"RUBY_ENGINE")["$=="]("opal")?l("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):p(f,"RUBY_ENGINE")["$=="]("opal"))?a.def(c,"$root?",n=function(a){var b;return m(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},n.$$arity=1):a.alias(c,
"root?","absolute_path?");a.def(c,"$unc?",v=function(a){return a["$start_with?"](p(f,"DOUBLE_SLASH"))},v.$$arity=1);a.def(c,"$web_root?",u=function(a){return a["$start_with?"](p(f,"SLASH"))},u.$$arity=1);a.def(c,"$descends_from?",z=function(a,c){var e;return c["$=="](a)?0:c["$=="](p(f,"SLASH"))?m(e=a["$start_with?"](p(f,"SLASH")))?1:e:m(e=a["$start_with?"](b(c,p(f,"SLASH"))))?b(c.$length(),1):e},z.$$arity=2);a.def(c,"$relative_path",y=function(b,c){var e;if(m(this["$root?"](b))){if(m(e=this["$descends_from?"](b,
c)))return b.$slice(e,b.$length());try{return p(f,"Pathname").$new(b).$relative_path_from(p(f,"Pathname").$new(c)).$to_s()}catch(ra){if(a.rescue(ra,[p(f,"StandardError")]))try{return b}finally{a.pop_exception()}else throw ra;}}else return b},y.$$arity=2);a.def(c,"$posixify",F=function(a){return m(a)?m(this.file_separator["$=="](p(f,"BACKSLASH"))?a["$include?"](p(f,"BACKSLASH")):this.file_separator["$=="](p(f,"BACKSLASH")))?a.$tr(p(f,"BACKSLASH"),p(f,"SLASH")):a:""},F.$$arity=1);a.alias(c,"posixfy",
"posixify");a.def(c,"$expand_path",E=function(b){var c,e,d=k,h=c=k;var g=this.$partition_path(b);c=a.to_ary(g);d=null==c[0]?k:c[0];c=null==c[1]?k:c[1];g;return m(b["$include?"](p(f,"DOT_DOT")))?(h=[],q(d,"each",[],(e=function(a){null==a&&(a=k);return a["$=="](p(f,"DOT_DOT"))?h.$pop():h["$<<"](a)},e.$$s=this,e.$$arity=1,e)),this.$join_path(h,c)):this.$join_path(d,c)},E.$$arity=1);a.def(c,"$partition_path",A=function(c,e){var d,h,g=k;null==e&&(e=k);if(m(d=(h=m(e)?this._partition_path_web:this._partition_path_sys)["$[]"](c)))return d;
d=this.$posixify(c);m(e)?m(this["$web_root?"](d))?g=p(f,"SLASH"):m(d["$start_with?"](p(f,"DOT_SLASH")))&&(g=p(f,"DOT_SLASH")):m(this["$root?"](d))?g=m(this["$unc?"](d))?p(f,"DOUBLE_SLASH"):m(d["$start_with?"](p(f,"SLASH")))?p(f,"SLASH"):d.$slice(0,b(d.$index(p(f,"SLASH")),1)):m(d["$start_with?"](p(f,"DOT_SLASH")))&&(g=p(f,"DOT_SLASH"));e=(m(g)?d.$slice(g.$length(),d.$length()):d).$split(p(f,"SLASH"));e.$delete(p(f,"DOT"));c=[c,[e,g]];q(h,"[]=",a.to_a(c));h=c.length;h="number"===typeof h?h-1:h["$-"](1);
return c[h]},A.$$arity=-2);a.def(c,"$join_path",D=function(a,b){null==b&&(b=k);return m(b)?""+b+a.$join(p(f,"SLASH")):a.$join(p(f,"SLASH"))},D.$$arity=-2);a.def(c,"$system_path",B=function(c,e,d,h){var g,n,v,t=k,x=k,u=k,z=k,y=t=k,F=k,R=k,E=y=k;null==e&&(e=k);null==d&&(d=k);null==h&&(h=r([],{}));m(d)&&(m(this["$root?"](d))||this.$raise(l("::","SecurityError"),"Jail is not an absolute path: "+d),d=this.$posixify(d));if(m(c)){if(m(this["$root?"](c))){t=this.$expand_path(c);if(m(m(g=d)?this["$descends_from?"](t,
d)["$!"]():g)){if(m(h.$fetch("recover",!0))){this.$logger().$warn(""+(m(g=h["$[]"]("target_name"))?g:"path")+" is outside of jail; recovering automatically");var L=this.$partition_path(t);g=a.to_ary(L);x=null==g[0]?k:g[0];L;L=this.$partition_path(d);g=a.to_ary(L);u=null==g[0]?k:g[0];z=null==g[1]?k:g[1];L;return this.$join_path(b(u,x),z)}this.$raise(l("::","SecurityError"),""+(m(g=h["$[]"]("target_name"))?g:"path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)")}return t}L=this.$partition_path(c);
g=a.to_ary(L);x=null==g[0]?k:g[0];L}else x=[];if(m(x["$empty?"]())){if(m(e["$nil_or_empty?"]()))return m(g=d)?g:this.working_dir;if(m(this["$root?"](e)))if(m(d))e=this.$posixify(e);else return this.$expand_path(e);else L=this.$partition_path(e),g=a.to_ary(L),x=null==g[0]?k:g[0],L,e=m(g=d)?g:this.working_dir}else m(e["$nil_or_empty?"]())?e=m(g=d)?g:this.working_dir:m(this["$root?"](e))?m(d)&&(e=this.$posixify(e)):e=""+(m(g=d)?g:this.working_dir).$chomp("/")+"/"+e;m(m(g=m(L=d)?t=this["$descends_from?"](e,
d)["$!"]():L)?this.file_separator["$=="](p(f,"BACKSLASH")):g)?(L=this.$partition_path(e),g=a.to_ary(L),y=null==g[0]?k:g[0],F=null==g[1]?k:g[1],L,L=this.$partition_path(d),g=a.to_ary(L),u=null==g[0]?k:g[0],z=null==g[1]?k:g[1],L,m(F["$!="](z))&&(m(h.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(m(g=h["$[]"]("target_name"))?g:"path")+" is outside of jail root; recovering automatically"),y=u,t=!1):this.$raise(l("::","SecurityError"),"start path for "+(m(g=h["$[]"]("target_name"))?g:"path")+
" "+e+" refers to location outside jail root: "+d+" (disallowed in safe mode)"))):(L=this.$partition_path(e),g=a.to_ary(L),y=null==g[0]?k:g[0],z=null==g[1]?k:g[1],L);m((R=b(y,x))["$include?"](p(f,"DOT_DOT")))&&(g=[R,[]],y=g[0],R=g[1],g,m(d)?(m(u)||(L=this.$partition_path(d),g=a.to_ary(L),u=null==g[0]?k:g[0],L),E=!1,q(y,"each",[],(n=function(a){var b=n.$$s||this,e;null==a&&(a=k);if(a["$=="](p(f,"DOT_DOT"))){a=R.$size();var g=u.$size();a="number"===typeof a&&"number"===typeof g?a>g:a["$>"](g);if(m(a))return R.$pop();
if(m(h.$fetch("recover",!0))){if(m(E))return k;b.$logger().$warn(""+(m(e=h["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically");return E=!0}return b.$raise(l("::","SecurityError"),""+(m(e=h["$[]"]("target_name"))?e:"path")+" "+c+" refers to location outside jail: "+d+" (disallowed in safe mode)")}return R["$<<"](a)},n.$$s=this,n.$$arity=1,n))):q(y,"each",[],(v=function(a){null==a&&(a=k);return a["$=="](p(f,"DOT_DOT"))?R.$pop():R["$<<"](a)},v.$$s=
this,v.$$arity=1,v)));return m(t)?(t=this.$join_path(R,z),m(this["$descends_from?"](t,d))?t:m(h.$fetch("recover",!0))?(this.$logger().$warn(""+(m(g=h["$[]"]("target_name"))?g:"path")+" is outside of jail; recovering automatically"),m(u)||(L=this.$partition_path(d),g=a.to_ary(L),u=null==g[0]?k:g[0],L),this.$join_path(b(u,x),z)):this.$raise(l("::","SecurityError"),""+(m(g=h["$[]"]("target_name"))?g:"path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)")):this.$join_path(R,z)},B.$$arity=
-2);a.def(c,"$web_path",O=function(b,c){var e,d,g=k,h=k,n=k,l=k,r=k;null==c&&(c=k);b=this.$posixify(b);c=this.$posixify(c);m(m(e=c["$nil_or_empty?"]())?e:this["$web_root?"](b))||(c=this.$extract_uri_prefix(""+c+(m(c["$end_with?"](p(f,"SLASH")))?"":p(f,"SLASH"))+b),e=a.to_ary(c),b=null==e[0]?k:e[0],g=null==e[1]?k:e[1],c);c=this.$partition_path(b,!0);e=a.to_ary(c);h=null==e[0]?k:e[0];n=null==e[1]?k:e[1];c;l=[];q(h,"each",[],(d=function(a){var b;null==a&&(a=k);return a["$=="](p(f,"DOT_DOT"))?m(l["$empty?"]())?
m(m(b=n)?n["$!="](p(f,"DOT_SLASH")):b)?k:l["$<<"](a):l["$[]"](-1)["$=="](p(f,"DOT_DOT"))?l["$<<"](a):l.$pop():l["$<<"](a)},d.$$s=this,d.$$arity=1,d));m((r=this.$join_path(l,n))["$include?"](" "))&&(r=r.$gsub(" ","%20"));return m(g)?""+g+r:r},O.$$arity=-2);c.$private();return(a.def(c,"$extract_uri_prefix",G=function(a){var b;return m(m(b=a["$include?"](":"))?p(f,"UriSniffRx")["$=~"](a):b)?[a.$slice(((b=t["~"])===k?k:b["$[]"](0)).$length(),a.$length()),(b=t["~"])===k?k:b["$[]"](0)]:a},G.$$arity=1),
k)&&"extract_uri_prefix"})(d[0],null,d)}(g[0],g)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var p=[],h=a.nil,e=a.const_get_qualified,m=a.const_get_relative,r=a.module,q=a.klass,t=a.hash2,
n=a.truthy,c=a.send,f=a.gvars,u=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $reverse $prepare_lines $empty? $nil_or_empty? $peek_line $> $slice $[] $length $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $join $read_lines $unshift $start_with? $== $* $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $pop $push $respond_to? $reverse_each $new $tap $each $instance_variables $instance_variable_get $drop $instance_variable_set $class $object_id $inspect $private $prepare_source_array $prepare_source_string $chomp $valid_encoding? $to_s $raise $to_i $attributes $catalog $pop_include $parse $path= $dup $end_with? $keys $rindex $rootname $key? $attr $reverse! $>= $nil? $extensions? $include_processors? $extensions $include_processors $map $skip_front_matter! $adjust_indentation! $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $downcase $error $none? $any? $all? $strip $send $resolve_expr_val $replace_next_line $rstrip $sub_attributes $attribute_missing $info $parse_attributes $find $handles? $instance $process_method $safe $resolve_include_path $method $split_delimited_value $partition $< $to_a $uniq $sort $call $each_line $infinite? $push_include $delete $first $values $value? $create_include_cursor $delete_at $keep_if $read $uriish? $attr? $require_library $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_f".split(" "));
return function(d,p){d=[r(d,"Asciidoctor")].concat(p);(function(d,$super,f){d=q(d,$super,"Reader");var l=[d].concat(f),p,r,v,u,y,z,F,E,L,A,D,B,O,G,I,U,J,K,H,W,na,qa,ba,M,P,Q,aa,pa,S,Aa,X,ua,Ha,Fa,Da,Sa,Qa,Oa;d.$$prototype.file=d.$$prototype.lines=d.$$prototype.look_ahead=d.$$prototype.unescape_next_line=d.$$prototype.lineno=d.$$prototype.process_lines=d.$$prototype.dir=d.$$prototype.path=d.$$prototype.mark=d.$$prototype.source_lines=d.$$prototype.saved=h;d.$include(m(l,"Logging"));(function(c,$super,
e){c=q(c,$super,"Cursor");[c].concat(e);var d,f,g;c.$$prototype.lineno=c.$$prototype.path=h;c.$attr_reader("file","dir","path","lineno");a.def(c,"$initialize",d=function(a,b,c,e){var d;null==b&&(b=h);null==c&&(c=h);null==e&&(e=1);return d=[a,b,c,e],this.file=d[0],this.dir=d[1],this.path=d[2],this.lineno=d[3],d},d.$$arity=-2);a.def(c,"$advance",f=function(a){return this.lineno=b(this.lineno,a)},f.$$arity=1);a.def(c,"$line_info",g=function(){return""+this.path+": line "+this.lineno},g.$$arity=0);return a.alias(c,
"to_s","line_info")})(l[0],null,l);d.$attr_reader("file");d.$attr_reader("dir");d.$attr_reader("path");d.$attr_reader("lineno");d.$attr_reader("source_lines");d.$attr_accessor("process_lines");d.$attr_accessor("unterminated");a.def(d,"$initialize",p=function(b,c,d){null==b&&(b=h);null==c&&(c=h);null==d&&(d=t([],{}));if(n(c["$!"]()))this.file=h,this.dir=".",this.path="<stdin>",this.lineno=1;else if(n(e("::","String")["$==="](c))){this.file=c;c=e("::","File").$split(this.file);var f=a.to_ary(c);this.dir=
null==f[0]?h:f[0];this.path=null==f[1]?h:f[1];c;this.lineno=1}else n(this.file=c.$file())?(this.dir=n(f=c.$dir())?f:e("::","File").$dirname(this.file),this.path=n(f=c.$path())?f:e("::","File").$basename(this.file)):(this.dir=n(f=c.$dir())?f:".",this.path=n(f=c.$path())?f:"<stdin>"),this.lineno=n(f=c.$lineno())?f:1;this.lines=(this.source_lines=this.$prepare_lines(b,d)).$reverse();this.mark=h;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.saved=this.unterminated=h},
p.$$arity=-1);a.def(d,"$has_more_lines?",r=function(){return n(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},r.$$arity=0);a.def(d,"$empty?",v=function(){return n(this.lines["$empty?"]())?(this.look_ahead=0,!0):!1},v.$$arity=0);a.alias(d,"eof?","empty?");a.def(d,"$next_line_empty?",u=function(){return this.$peek_line()["$nil_or_empty?"]()},u.$$arity=0);a.def(d,"$peek_line",y=function(a){var b,c=h;null==a&&(a=!1);return n(n(b=a)?b:g(this.look_ahead,0))?n(this.unescape_next_line)?(c=this.lines["$[]"](-1)).$slice(1,
c.$length()):this.lines["$[]"](-1):n(this.lines["$empty?"]())?(this.look_ahead=0,h):n(b=this.$process_line(this.lines["$[]"](-1)))?b:this.$peek_line()},y.$$arity=-1);a.def(d,"$peek_lines",z=function(b,e){var d,f,g=this,p=h,r=h;null==b&&(b=h);null==e&&(e=!1);p=g.look_ahead;r=[];(function(){var p=a.new_brk();try{return c(n(d=b)?d:m(l,"MAX_INT"),"times",[],(f=function(){var b=f.$$s||this,c;null==b.lineno&&(b.lineno=h);if(n(c=n(e)?b.$shift():b.$read_line()))return r["$<<"](c);n(e)&&(b.lineno=k(b.lineno,
1));a.brk(h,p)},f.$$s=g,f.$$brk=p,f.$$arity=0,f))}catch(Y){if(Y===p)return Y.$v;throw Y;}})();n(r["$empty?"]())||(g.$unshift_all(r),n(e)&&(g.look_ahead=p));return r},z.$$arity=-1);a.def(d,"$read_line",F=function(){var a;return n(n(a=g(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():h},F.$$arity=0);a.def(d,"$read_lines",E=function(){var a;for(a=[];n(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},E.$$arity=0);a.alias(d,"readlines","read_lines");a.def(d,"$read",L=function(){return this.$read_lines().$join(m(l,
"LF"))},L.$$arity=0);a.def(d,"$advance",A=function(){return n(this.$shift())?!0:!1},A.$$arity=0);a.def(d,"$unshift_line",D=function(a){this.$unshift(a);return h},D.$$arity=1);a.alias(d,"restore_line","unshift_line");a.def(d,"$unshift_lines",B=function(a){return this.$unshift_all(a)},B.$$arity=1);a.alias(d,"restore_lines","unshift_lines");a.def(d,"$replace_next_line",O=function(a){this.$shift();this.$unshift(a);return!0},O.$$arity=1);a.alias(d,"replace_line","replace_next_line");a.def(d,"$skip_blank_lines",
G=function(){var a,c;if(n(this["$empty?"]()))return h;for(a=0;n(c=this.$peek_line());)if(n(c["$empty?"]()))this.$shift(),a=b(a,1);else return a},G.$$arity=0);a.def(d,"$skip_comment_lines",I=function(){var a,b=h,c=h;if(n(this["$empty?"]()))return h;for(;n(n(a=b=this.$peek_line())?b["$empty?"]()["$!"]():a);)if(n(b["$start_with?"]("//")))if(n(b["$start_with?"]("///")))if(n(n(a=g(c=b.$length(),3))?b["$=="]("/"["$*"](c)):a))this.$read_lines_until(t(["terminator","skip_first_line","read_last_line","skip_processing",
"context"],{terminator:b,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else this.$shift();else break;return h},I.$$arity=0);a.def(d,"$skip_line_comments",U=function(){var a,b,c=h;if(n(this["$empty?"]()))return[];for(b=[];n(n(a=c=this.$peek_line())?c["$empty?"]()["$!"]():a);)if(n(c["$start_with?"]("//")))b["$<<"](this.$shift());else break;return b},U.$$arity=0);a.def(d,"$terminate",J=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();
this.look_ahead=0;return h},J.$$arity=0);a.def(d,"$read_lines_until",K=function(b){var e,d,f,g,p,r,v=K.$$p,q=v||h,w=h,x,u=h,y,z,F,E=h,I=h;v&&(K.$$p=null);null==b&&(b=t([],{}));v=[];n(n(e=this.process_lines)?b["$[]"]("skip_processing"):e)&&(this.process_lines=!1,w=!0);if(n(x=b["$[]"]("terminator"))){u=n(e=b["$[]"]("cursor"))?e:this.$cursor();var L=y=!1}else y=b["$[]"]("break_on_blank_lines"),L=b["$[]"]("break_on_list_continuation");var A=b["$[]"]("skip_line_comments");var D=z=h;for(n(b["$[]"]("skip_first_line"))&&
this.$shift();n(F=this.$read_line());){if(n(n(x)?F["$=="](x):n(d=n(f=n(g=y)?F["$empty?"]():g)?f:n(g=n(p=n(r=L)?D:r)?F["$=="](m(l,"LIST_CONTINUATION")):p)?(E=["preserve_last_line",!0],c(b,"[]=",a.to_a(E)),E[k(E.length,1)]):g)?d:(f=q!==h)?a.yield1(q,F):q!==h)){if(n(b["$[]"]("read_last_line")))v["$<<"](F);n(b["$[]"]("preserve_last_line"))&&(this.$unshift(F),z=!0);break}n(n(d=n(f=A)?F["$start_with?"]("//"):f)?F["$start_with?"]("///")["$!"]():d)||(v["$<<"](F),D=!0)}n(w)&&(this.process_lines=!0,n(n(e=z)?
x["$!"]():e)&&(this.look_ahead=k(this.look_ahead,1)));n(n(e=n(d=x)?x["$!="](F):d)?I=b.$fetch("context",x):e)&&(u["$=="]("at_mark")&&(u=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+I+" block",t(["source_location"],{source_location:u}))),this.unterminated=!0);return v},K.$$arity=-1);a.def(d,"$shift",H=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=k(this.look_ahead,1));return this.lines.$pop()},H.$$arity=0);a.def(d,"$unshift",
W=function(a){this.lineno=k(this.lineno,1);this.look_ahead=b(this.look_ahead,1);this.lines.$push(a);return h},W.$$arity=1);e("::","RUBY_ENGINE")["$=="]("jruby")?a.def(d,"$unshift_all",na=function(e){var d;this.lineno=k(this.lineno,e.$size());this.look_ahead=b(this.look_ahead,e.$size());n(e["$respond_to?"]("reverse"))?c(this.lines,"push",a.to_a(e.$reverse())):c(e,"reverse_each",[],(d=function(a){var b=d.$$s||this;null==b.lines&&(b.lines=h);null==a&&(a=h);return b.lines.$push(a)},d.$$s=this,d.$$arity=
1,d));return h},na.$$arity=1):a.def(d,"$unshift_all",qa=function(e){this.lineno=k(this.lineno,e.$size());this.look_ahead=b(this.look_ahead,e.$size());c(this.lines,"push",a.to_a(e.$reverse()));return h},qa.$$arity=1);a.def(d,"$cursor",ba=function(){return m(l,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},ba.$$arity=0);a.def(d,"$cursor_at_line",M=function(a){return m(l,"Cursor").$new(this.file,this.dir,this.path,a)},M.$$arity=1);a.def(d,"$cursor_at_mark",P=function(){return n(this.mark)?
c(m(l,"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},P.$$arity=0);a.def(d,"$cursor_before_mark",Q=function(){if(n(this.mark)){var b=this.mark;var c=a.to_ary(b);var e=null==c[0]?h:c[0];var d=null==c[1]?h:c[1];var f=null==c[2]?h:c[2];c=null==c[3]?h:c[3];b;return m(l,"Cursor").$new(e,d,f,k(c,1))}return m(l,"Cursor").$new(this.file,this.dir,this.path,k(this.lineno,1))},Q.$$arity=0);a.def(d,"$cursor_at_prev_line",aa=function(){return m(l,"Cursor").$new(this.file,this.dir,this.path,k(this.lineno,1))},
aa.$$arity=0);a.def(d,"$mark",pa=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},pa.$$arity=0);a.def(d,"$line_info",S=function(){return""+this.path+": line "+this.lineno},S.$$arity=0);a.def(d,"$lines",Aa=function(){return this.lines.$reverse()},Aa.$$arity=0);a.def(d,"$string",X=function(){return this.lines.$reverse().$join(m(l,"LF"))},X.$$arity=0);a.def(d,"$source",ua=function(){return this.source_lines.$join(m(l,"LF"))},ua.$$arity=0);a.def(d,"$save",Ha=function(){var b;this.saved=
c(t([],{}),"tap",[],(b=function(d){var f=b.$$s||this,g;null==d&&(d=h);return c(f.$instance_variables(),"each",[],(g=function(b){var f=g.$$s||this,l,p=h;null==b&&(b=h);if(n(n(l=b["$=="]("@saved"))?l:b["$=="]("@source_lines")))return h;b=[b,n(e("::","Array")["$==="](p=f.$instance_variable_get(b)))?p.$drop(0):p];c(d,"[]=",a.to_a(b));return b[k(b.length,1)]},g.$$s=f,g.$$arity=1,g))},b.$$s=this,b.$$arity=1,b));return h},Ha.$$arity=0);a.def(d,"$restore_save",Fa=function(){var a;return n(this.saved)?(c(this.saved,
"each",[],(a=function(b,c){var e=a.$$s||this;null==b&&(b=h);null==c&&(c=h);return e.$instance_variable_set(b,c)},a.$$s=this,a.$$arity=2,a)),this.saved=h):h},Fa.$$arity=0);a.def(d,"$discard_save",Da=function(){return this.saved=h},Da.$$arity=0);a.def(d,"$to_s",Sa=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+"}>"},Sa.$$arity=0);d.$private();a.def(d,"$prepare_lines",Qa=function(b,c){var d=h;null==c&&(c=t([],{}));try{return n(d=c["$[]"]("normalize"))?
n(e("::","Array")["$==="](b))?m(l,"Helpers").$prepare_source_array(b,d["$!="]("chomp")):m(l,"Helpers").$prepare_source_string(b,d["$!="]("chomp")):n(e("::","Array")["$==="](b))?b.$drop(0):n(b)?b.$chomp().$split(m(l,"LF"),-1):[]}catch(Pa){if(a.rescue(Pa,[m(l,"StandardError")]))try{return n((n(e("::","Array")["$==="](b))?b.$join():b.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(e("::","ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{a.pop_exception()}else throw Pa;
}},Qa.$$arity=-2);return(a.def(d,"$process_line",Oa=function(a){n(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},Oa.$$arity=1),h)&&"process_line"})(d[0],null,d);(function(d,$super,p){d=q(d,$super,"PreprocessorReader");var r=[d].concat(p),v,y,z,F,E,A,D,L,B,O,G,U,J,K,I,H,W,ba,M,P;d.$$prototype.include_stack=d.$$prototype.lines=d.$$prototype.file=d.$$prototype.dir=d.$$prototype.path=d.$$prototype.lineno=d.$$prototype.maxdepth=d.$$prototype.process_lines=d.$$prototype.includes=
d.$$prototype.document=d.$$prototype.unescape_next_line=d.$$prototype.include_processor_extensions=d.$$prototype.look_ahead=d.$$prototype.skipping=d.$$prototype.conditional_stack=h;d.$attr_reader("include_stack");a.def(d,"$initialize",v=function(b,e,d,f){var k,l;v.$$p&&(v.$$p=null);null==e&&(e=h);null==d&&(d=h);null==f&&(f=t([],{}));this.document=b;c(this,a.find_super_dispatcher(this,"initialize",v,!1),[e,d,f],null);n(g(l=(n(k=b.$attributes()["$[]"]("max-include-depth"))?k:64).$to_i(),0))?this.maxdepth=
t(["abs","curr","rel"],{abs:l,curr:l,rel:l}):this.maxdepth=h;this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=h},v.$$arity=-2);a.def(d,"$has_more_lines?",y=function(){return n(this.$peek_line())?!0:!1},y.$$arity=0);a.def(d,"$empty?",z=function(){return n(this.$peek_line())?!1:!0},z.$$arity=0);a.alias(d,"eof?","empty?");a.def(d,"$peek_line",F=function(b){var e=F.$$p,d;e&&(F.$$p=null);var f=0;var g=
arguments.length;for(d=Array(g);f<g;f++)d[f]=arguments[f];null==b&&(b=!1);if(n(e=c(this,a.find_super_dispatcher(this,"peek_line",F,!1),d,e)))return e;if(n(this.include_stack["$empty?"]()))return h;this.$pop_include();return this.$peek_line(b)},F.$$arity=-1);a.def(d,"$push_include",E=function(d,f,l,p,v){var q,u=h,x=h,y=h;null==f&&(f=h);null==l&&(l=h);null==p&&(p=1);null==v&&(v=t([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);
if(n(this.file=f)){if(n(e("::","String")["$==="](f)))this.dir=e("::","File").$dirname(f);else if(n(m(r,"RUBY_ENGINE_OPAL")))this.dir=e("::","URI").$parse(e("::","File").$dirname(f=f.$to_s()));else{var z=[(u=e("::","File").$dirname(f.$path()))["$=="]("/")?"":u];c(this.dir=f.$dup(),"path=",a.to_a(z));z[k(z.length,1)];f=f.$to_s()}this.path=l=n(q=l)?q:e("::","File").$basename(f);n(this.process_lines=c(f,"end_with?",a.to_a(m(r,"ASCIIDOC_EXTENSIONS").$keys())))&&(z=[l.$slice(0,l.$rindex(".")),n(v["$[]"]("partial-option"))?
h:!0],c(this.includes,"[]=",a.to_a(z)),z[k(z.length,1)])}else this.dir=".",this.process_lines=!0,n(this.path=l)?(z=[m(r,"Helpers").$rootname(l),n(v["$[]"]("partial-option"))?h:!0],c(this.includes,"[]=",a.to_a(z)),z[k(z.length,1)]):this.path="<stdin>";this.lineno=p;n(n(q=this.maxdepth)?v["$key?"]("depth"):q)&&(n(g(f=v["$[]"]("depth").$to_i(),0))?(n(g(l=b(this.include_stack.$size(),f),x=this.maxdepth["$[]"]("abs")))&&(l=f=x),this.maxdepth=t(["abs","curr","rel"],{abs:x,curr:l,rel:f})):this.maxdepth=
t(["abs","curr","rel"],{abs:this.maxdepth["$[]"]("abs"),curr:this.include_stack.$size(),rel:0}));if(n((this.lines=this.$prepare_lines(d,t(["normalize","condense","indent"],{normalize:n(q=this.process_lines)?q:"chomp",condense:!1,indent:v["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(n(v["$key?"]("leveloffset")))this.lines=b(b([n(y=this.document.$attr("leveloffset"))?":leveloffset: "+y:":leveloffset!:",""],this.lines.$reverse()),["",":leveloffset: "+v["$[]"]("leveloffset")]),this.lineno=
k(this.lineno,2);else this.lines["$reverse!"]();this.look_ahead=0}return this},E.$$arity=-2);a.def(d,"$include_depth",A=function(){return this.include_stack.$size()},A.$$arity=0);a.def(d,"$exceeds_max_depth?",D=function(){var a,b;return n(a=n(b=this.maxdepth)?l(this.include_stack.$size(),this.maxdepth["$[]"]("curr")):b)?this.maxdepth["$[]"]("rel"):a},D.$$arity=0);a.alias(d,"exceeded_max_depth?","exceeds_max_depth?");a.def(d,"$shift",L=function(){var b=L.$$p,e=h,d;b&&(L.$$p=null);var f=0;var g=arguments.length;
for(d=Array(g);f<g;f++)d[f]=arguments[f];return n(this.unescape_next_line)?(this.unescape_next_line=!1,(e=c(this,a.find_super_dispatcher(this,"shift",L,!1),d,b)).$slice(1,e.$length())):c(this,a.find_super_dispatcher(this,"shift",L,!1),d,b)},L.$$arity=0);a.def(d,"$include_processors?",B=function(){var a;return n(this.include_processor_extensions["$nil?"]())?n(n(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():
this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},B.$$arity=0);a.def(d,"$create_include_cursor",O=function(a,b,c){var d=h;n(e("::","String")["$==="](a))?d=e("::","File").$dirname(a):n(m(r,"RUBY_ENGINE_OPAL"))?d=e("::","File").$dirname(a=a.$to_s()):(d=(d=e("::","File").$dirname(a.$path()))["$=="]("")?"/":d,a=a.$to_s());return m(r,"Cursor").$new(a,d,b,c)},O.$$arity=3);a.def(d,"$to_s",G=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+
", line: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+c(this.include_stack,"map",[],(a=function(a){null==a&&(a=h);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},G.$$arity=0);d.$private();a.def(d,"$prepare_lines",U=function(b,e){var d,f,g=U.$$p,l=h,p=h,v;g&&(U.$$p=null);var q=0;var u=arguments.length;for(v=Array(u);q<u;q++)v[q]=arguments[q];null==e&&(e=t([],{}));g=c(this,a.find_super_dispatcher(this,"prepare_lines",U,!1),v,g);n(n(d=n(f=this.document)?
this.document.$attributes()["$[]"]("skip-front-matter"):f)?l=this["$skip_front_matter!"](g):d)&&(d=["front-matter",l.$join(m(r,"LF"))],c(this.document.$attributes(),"[]=",a.to_a(d)),d[k(d.length,1)]);if(n(e.$fetch("condense",!0)))for(;n(n(f=p=g["$[]"](-1))?p["$empty?"]():f);)g.$pop();if(n(e["$[]"]("indent")))m(r,"Parser")["$adjust_indentation!"](g,e["$[]"]("indent").$to_i(),this.document.$attr("tabsize").$to_i());return g},U.$$arity=-2);a.def(d,"$process_line",J=function(a){var c,e;if(!n(this.process_lines))return a;
if(n(a["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),a;if(n(n(c=n(e=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():e)?a["$include?"]("::"):c)){if(n(n(c=a["$include?"]("if"))?m(r,"ConditionalDirectiveRx")["$=~"](a):c)){if(((c=f["~"])===h?h:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),a.$slice(1,a.$length());if(n(this.$preprocess_conditional_directive((c=f["~"])===h?h:c["$[]"](2),(c=f["~"])===h?h:c["$[]"](3),(c=f["~"])===h?h:c["$[]"](4),
(c=f["~"])===h?h:c["$[]"](5))))return this.$shift(),h;this.look_ahead=b(this.look_ahead,1);return a}if(n(this.skipping))return this.$shift(),h;if(n(n(c=a["$start_with?"]("inc","\\inc"))?m(r,"IncludeDirectiveRx")["$=~"](a):c)){if(((c=f["~"])===h?h:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),a.$slice(1,a.$length());if(n(this.$preprocess_include_directive((c=f["~"])===h?h:c["$[]"](2),(c=f["~"])===h?h:c["$[]"](3))))return h;this.look_ahead=b(this.look_ahead,
1);return a}this.look_ahead=b(this.look_ahead,1);return a}if(n(this.skipping))return this.$shift(),h;this.look_ahead=b(this.look_ahead,1);return a},J.$$arity=1);a.def(d,"$preprocess_conditional_directive",K=function(b,e,d,g){var l,p,v,q,u,x=h,y=h,z=h,F=h,E=F=x=h;n(x=e["$empty?"]())||(e=e.$downcase());if(b["$=="]("endif"))return n(g)?this.$logger().$error(this.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+e+"["+g+"]",t(["source_location"],{source_location:this.$cursor()}))):
n(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched preprocessor directive: endif::"+e+"[]",t(["source_location"],{source_location:this.$cursor()}))):n(n(l=x)?l:e["$=="]((y=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=n(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$logger().$error(this.$message_with_context("mismatched preprocessor directive: endif::"+
e+"[], expected endif::"+y["$[]"]("target")+"[]",t(["source_location"],{source_location:this.$cursor()}))),!0;if(n(this.skipping))z=!1;else if(F=b,"ifdef"["$==="](F)){if(n(x))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+g+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;F=d;z=","["$==="](F)?c(e.$split(",",-1),"none?",[],(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},
p.$$s=this,p.$$arity=1,p)):"+"["$==="](F)?c(e.$split("+",-1),"any?",[],(v=function(a){var b=v.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)["$!"]()},v.$$s=this,v.$$arity=1,v)):this.document.$attributes()["$key?"](e)["$!"]()}else if("ifndef"["$==="](F)){if(n(x))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+g+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;
F=d;z=","["$==="](F)?c(e.$split(",",-1),"any?",[],(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},q.$$s=this,q.$$arity=1,q)):"+"["$==="](F)?c(e.$split("+",-1),"all?",[],(u=function(a){var b=u.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},u.$$s=this,u.$$arity=1,u)):this.document.$attributes()["$key?"](e)}else if("ifeval"["$==="](F))if(n(x))if(n(n(l=g)?m(r,"EvalExpressionRx")["$=~"](g.$strip()):
l)){x=(l=f["~"])===h?h:l["$[]"](1);F=(l=f["~"])===h?h:l["$[]"](2);E=(l=f["~"])===h?h:l["$[]"](3);a:{try{z=n(this.$resolve_expr_val(x).$send(F,this.$resolve_expr_val(E)))?!1:!0;break a}catch(Da){if(a.rescue(Da,[m(r,"StandardError")]))try{z=!0;break a}finally{a.pop_exception()}else throw Da;}z=void 0}}else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - "+(n(g)?"invalid expression":"missing expression")+": ifeval::["+g+"]",t(["source_location"],{source_location:this.$cursor()}))),
!0;else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+e+"["+g+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;n(n(l=b["$=="]("ifeval"))?l:g["$!"]())?(n(z)&&(this.skipping=!0),this.conditional_stack["$<<"](t(["target","skip","skipping"],{target:e,skip:z,skipping:this.skipping}))):n(n(l=this.skipping)?l:z)||(this.$replace_next_line(g.$rstrip()),this.$unshift(""),n(g["$start_with?"]("include::"))&&(this.look_ahead=
k(this.look_ahead,1)));return!0},K.$$arity=4);a.def(d,"$preprocess_include_directive",I=function(d,p){var v,q,x,z,y,F,E,I,A,D,L,T,B=this,O=h,G=h,U=h,J=h,K=h,H=h,W=h,xa=h,ea=h,ca=h,fa=h,da=ea=h,w=ea=h,C=h,ma=h,N=h,Z=h,oa=h,ta=h,ra=h,ba=h,M=h,V=h,ja=h,P=h,na=h;O=B.document;if(n(n(v=(G=d)["$include?"](m(r,"ATTR_REF_HEAD")))?(G=O.$sub_attributes(d,t(["attribute_missing"],{attribute_missing:(U=n(q=O.$attributes()["$[]"]("attribute-missing"))?q:m(r,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":
U})))["$empty?"]():v)){if(n((v=U["$=="]("drop-line"))?O.$sub_attributes(b(d," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():U["$=="]("drop-line")))return c(B.$logger(),"info",[],(x=function(){var a=x.$$s||this;return a.$message_with_context("include dropped due to missing attribute: include::"+d+"["+p+"]",t(["source_location"],{source_location:a.$cursor()}))},x.$$s=B,x.$$arity=0,x)),B.$shift(),!0;if(n(O.$parse_attributes(p,
[],t(["sub_input"],{sub_input:!0}))["$[]"]("optional-option")))return c(B.$logger(),"info",[],(z=function(){var a=z.$$s||this;return a.$message_with_context("optional include dropped "+(n(U["$=="]("warn")?O.$sub_attributes(b(d," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():U["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+d+"["+p+"]",t(["source_location"],{source_location:a.$cursor()}))},
z.$$s=B,z.$$arity=0,z)),B.$shift(),!0;B.$logger().$warn(B.$message_with_context("include dropped "+(n((v=U["$=="]("warn"))?O.$sub_attributes(b(d," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():U["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+d+"["+p+"]",t(["source_location"],{source_location:B.$cursor()})));return B.$replace_next_line("Unresolved directive in "+B.path+" - include::"+
d+"["+p+"]")}if(n(n(v=B["$include_processors?"]())?J=c(B.include_processor_extensions,"find",[],(y=function(a){null==a&&(a=h);return a.$instance()["$handles?"](G)},y.$$s=B,y.$$arity=1,y)):v))return B.$shift(),J.$process_method()["$[]"](O,B,G,O.$parse_attributes(p,[],t(["sub_input"],{sub_input:!0}))),!0;if(n(l(O.$safe(),e(m(r,"SafeMode"),"SECURE"))))return B.$replace_next_line("link:"+G+"[]");if(n(B.maxdepth)){if(n(l(B.include_stack.$size(),B.maxdepth["$[]"]("curr"))))return B.$logger().$error(B.$message_with_context("maximum include depth of "+
B.maxdepth["$[]"]("rel")+" exceeded",t(["source_location"],{source_location:B.$cursor()}))),h;K=O.$parse_attributes(p,[],t(["sub_input"],{sub_input:!0}));q=B.$resolve_include_path(G,p,K);v=a.to_ary(q);H=null==v[0]?h:v[0];W=null==v[1]?h:v[1];xa=null==v[2]?h:v[2];q;ea=W;if("file"["$==="](ea))ca=e("::","File").$method("open"),fa=m(r,"FILE_READ_MODE");else if("uri"["$==="](ea))ca=e("::","OpenURI").$method("open_uri"),fa=m(r,"URI_READ_MODE");else return H;if(!n(m(r,"RUBY_ENGINE_OPAL"))){if(n(v=ea=K["$[]"]("encoding")))a:{try{var ka=
e("::","Encoding").$find(ea);break a}catch($a){if(a.rescue($a,[m(r,"StandardError")]))try{ka=h;break a}finally{a.pop_exception()}else throw $a;}ka=void 0}else ka=v;n(ka)&&(da=[1,ea],c(ea=fa.$split(":"),"[]=",a.to_a(da)),da[k(da.length,1)],fa=ea.$join(":"))}w=C=h;n(p)&&(n(K["$key?"]("lines"))?(w=[],c(B.$split_delimited_value(K["$[]"]("lines")),"each",[],(F=function(c){null==c&&(c=h);if(n(c["$include?"](".."))){var d=c.$partition("..");var f=a.to_ary(d);c=null==f[0]?h:f[0];var g=null==f[2]?h:f[2];d;
d=w;n(f=g["$empty?"]())||(f=g=g.$to_i(),f="number"===typeof f?0>f:f["$<"](0));c=n(f)?[c.$to_i(),e(e("::","Float"),"INFINITY")]:a.Range.$new(c.$to_i(),g,!1).$to_a();return w=b(d,c)}return w["$<<"](c.$to_i())},F.$$s=B,F.$$arity=1,F)),w=n(w["$empty?"]())?h:w.$sort().$uniq()):n(K["$key?"]("tag"))?n(n(v=(ma=K["$[]"]("tag"))["$empty?"]())?v:ma["$=="]("!"))||(C=n(ma["$start_with?"]("!"))?u(ma.$slice(1,ma.$length()),!1):u(ma,!0)):n(K["$key?"]("tags"))&&(C=t([],{}),c(B.$split_delimited_value(K["$[]"]("tags")),
"each",[],(E=function(b){var e;null==b&&(b=h);if(n(n(e=b["$empty?"]())?e:b["$=="]("!")))return h;da=n(b["$start_with?"]("!"))?[b.$slice(1,b.$length()),!1]:[b,!0];c(C,"[]=",a.to_a(da));return da[k(da.length,1)]},E.$$s=B,E.$$arity=1,E)),n(C["$empty?"]())&&(C=h)));if(n(w)){v=[[],h,0];N=v[0];Z=v[1];oa=v[2];v;try{(function(){var d=a.new_brk();try{return c(ca,"call",[H,fa],(I=function(d){var f=I.$$s||this,g,k=h;null==d&&(d=h);k=h;return function(){var l=a.new_brk();try{return c(d,"each_line",[],(g=function(c){var d,
f,g=h;null==c&&(c=h);oa=b(oa,1);if(n(n(d=k)?d:n(f=e("::","Float")["$==="](g=w["$[]"](0)))?k=g["$infinite?"]():f))return Z=n(d=Z)?d:oa,N["$<<"](c);g["$=="](oa)&&(Z=n(d=Z)?d:oa,N["$<<"](c),w.$shift());if(n(w["$empty?"]()))a.brk(h,l);else return h},g.$$s=f,g.$$brk=l,g.$$arity=1,g))}catch(gb){if(gb===l)return gb.$v;throw gb;}}()},I.$$s=B,I.$$brk=d,I.$$arity=1,I))}catch(fb){if(fb===d)return fb.$v;throw fb;}})()}catch($a){if(a.rescue($a,[m(r,"StandardError")]))try{return B.$logger().$error(B.$message_with_context("include "+
W+" not readable: "+H,t(["source_location"],{source_location:B.$cursor()}))),B.$replace_next_line("Unresolved directive in "+B.path+" - include::"+G+"["+p+"]")}finally{a.pop_exception()}else throw $a;}B.$shift();n(Z)&&(da=["partial-option",""],c(K,"[]=",a.to_a(da)),da[k(da.length,1)],B.$push_include(N,H,xa,Z,K))}else if(n(C)){v=[[],h,0,[],e("::","Set").$new(),h];N=v[0];Z=v[1];oa=v[2];ta=v[3];ra=v[4];ba=v[5];v;n(C["$key?"]("**"))?(M=V=C.$delete("**"),n(C["$key?"]("*"))?ja=C.$delete("*"):n(n(v=M["$!"]())?
C.$values().$first()["$=="](!1):v)&&(ja=!0)):n(C["$key?"]("*"))?C.$keys().$first()["$=="]("*")?M=V=(ja=C.$delete("*"))["$!"]():(M=V=!1,ja=C.$delete("*")):M=V=C["$value?"](!0)["$!"]();try{c(ca,"call",[H,fa],(A=function(e){var d=A.$$s||this,g,k=h,l=h;null==e&&(e=h);var w=["::","[]"];k=w[0];l=w[1];w;return c(e,"each_line",[],(g=function(e){var d=g.$$s||this,w,p,v,q=h,u=h,x=h;null==e&&(e=h);oa=b(oa,1);if(n(n(w=n(p=e["$include?"](k))?e["$include?"](l):p)?m(r,"TagDirectiveRx")["$=~"](e):w)){q=(w=f["~"])===
h?h:w["$[]"](2);if(n((w=f["~"])===h?h:w["$[]"](1)))return q["$=="](ba)?(ta.$pop(),p=n(ta["$empty?"]())?[h,V]:ta["$[]"](-1),w=a.to_ary(p),ba=null==w[0]?h:w[0],M=null==w[1]?h:w[1],p):n(C["$key?"](q))?(u=d.$create_include_cursor(H,G,oa),n(x=c(ta,"rindex",[],(v=function(a){null==a&&(a=h);return a["$=="](q)},v.$$s=d,v.$$arity=1,v.$$has_trailing_comma_in_args=!0,v)))?(x["$=="](0)?ta.$shift():ta.$delete_at(x),d.$logger().$warn(d.$message_with_context("mismatched end tag (expected '"+ba+"' but found '"+q+
"') at line "+oa+" of include "+W+": "+H,t(["source_location","include_location"],{source_location:d.$cursor(),include_location:u})))):d.$logger().$warn(d.$message_with_context("unexpected end tag '"+q+"' at line "+oa+" of include "+W+": "+H,t(["source_location","include_location"],{source_location:d.$cursor(),include_location:u})))):h;if(n(C["$key?"](q))){if(n(M=C["$[]"](q)))ra["$<<"](q);return ta["$<<"]([ba=q,M,oa])}return n(ja["$nil?"]()["$!"]())?(M=n(n(w=ba)?M["$!"]():w)?!1:ja,ta["$<<"]([ba=q,
M,oa])):h}return n(M)?(Z=n(w=Z)?w:oa,N["$<<"](e)):h},g.$$s=d,g.$$arity=1,g))},A.$$s=B,A.$$arity=1,A))}catch($a){if(a.rescue($a,[m(r,"StandardError")]))try{return B.$logger().$error(B.$message_with_context("include "+W+" not readable: "+H,t(["source_location"],{source_location:B.$cursor()}))),B.$replace_next_line("Unresolved directive in "+B.path+" - include::"+G+"["+p+"]")}finally{a.pop_exception()}else throw $a;}n(ta["$empty?"]())||c(ta,"each",[],(D=function(a,b,c){b=D.$$s||this;null==a&&(a=h);null==
c&&(c=h);return b.$logger().$warn(b.$message_with_context("detected unclosed tag '"+a+"' starting at line "+c+" of include "+W+": "+H,t(["source_location","include_location"],{source_location:b.$cursor(),include_location:b.$create_include_cursor(H,G,c)})))},D.$$s=B,D.$$arity=3,D));n((P=k(c(C,"keep_if",[],(L=function(a,b){null==b&&(b=h);return b},L.$$s=B,L.$$arity=2,L)).$keys(),ra.$to_a()))["$empty?"]())||B.$logger().$warn(B.$message_with_context("tag"+(n(g(P.$size(),1))?"s":"")+" '"+P.$join(", ")+
"' not found in include "+W+": "+H,t(["source_location"],{source_location:B.$cursor()})));B.$shift();n(Z)&&(n(n(v=n(q=V)?ja["$!="](!1):q)?C["$empty?"]():v)||(da=["partial-option",""],c(K,"[]=",a.to_a(da)),da[k(da.length,1)]),B.$push_include(N,H,xa,Z,K))}else try{na=c(ca,"call",[H,fa],(T=function(a){null==a&&(a=h);return a.$read()},T.$$s=B,T.$$arity=1,T)),B.$shift(),B.$push_include(na,H,xa,1,K)}catch($a){if(a.rescue($a,[m(r,"StandardError")]))try{return B.$logger().$error(B.$message_with_context("include "+
W+" not readable: "+H,t(["source_location"],{source_location:B.$cursor()}))),B.$replace_next_line("Unresolved directive in "+B.path+" - include::"+G+"["+p+"]")}finally{a.pop_exception()}else throw $a;}return!0}return h},I.$$arity=2);a.def(d,"$resolve_include_path",H=function(a,b,d){var f,g,k,l=h,p=h;l=h;l=this.document;if(n(n(f=m(r,"Helpers")["$uriish?"](a))?f:n(e("::","String")["$==="](this.dir))?h:a=""+this.dir+"/"+a)){if(!n(l["$attr?"]("allow-uri-read")))return this.$replace_next_line("link:"+
a+"["+b+"]");n(l["$attr?"]("cache-uri"))?n((g=e("::","OpenURI","skip_raise"))&&(f=e(g,"Cache","skip_raise"))?"constant":h)||m(r,"Helpers").$require_library("open-uri/cached","open-uri-cached"):n(m(r,"RUBY_ENGINE_OPAL")["$!"]())&&e("::","OpenURI");return[e("::","URI").$parse(a),"uri",a]}p=l.$normalize_system_path(a,this.dir,h,t(["target_name"],{target_name:"include file"}));if(!n(e("::","File")["$file?"](p))){if(n(d["$[]"]("optional-option")))return c(this.$logger(),"info",[],(k=function(){var a=k.$$s||
this;return a.$message_with_context("optional include dropped because include file not found: "+p,t(["source_location"],{source_location:a.$cursor()}))},k.$$s=this,k.$$arity=0,k)),this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+p,t(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+a+"["+b+"]")}l=l.$path_resolver().$relative_path(p,l.$base_dir());return[p,"file",l]},
H.$$arity=3);a.def(d,"$pop_include",W=function(){if(!n(this.include_stack["$empty?"]())){var b=this.include_stack.$pop();var c=a.to_ary(b);this.lines=null==c[0]?h:c[0];this.file=null==c[1]?h:c[1];this.dir=null==c[2]?h:c[2];this.path=null==c[3]?h:c[3];this.lineno=null==c[4]?h:c[4];this.maxdepth=null==c[5]?h:c[5];this.process_lines=null==c[6]?h:c[6];b;this.look_ahead=0}return h},W.$$arity=0);a.def(d,"$split_delimited_value",ba=function(a){return n(a["$include?"](","))?a.$split(","):a.$split(";")},ba.$$arity=
1);a.def(d,"$skip_front_matter!",M=function(e,d){var f;null==d&&(d=!0);var g=h;if(e["$[]"](0)["$=="]("---")){var k=e.$drop(0);e.$shift();g=[];n(d)&&(this.lineno=b(this.lineno,1));for(;n(n(f=e["$empty?"]()["$!"]())?e["$[]"](0)["$!="]("---"):f);)g["$<<"](e.$shift()),n(d)&&(this.lineno=b(this.lineno,1));n(e["$empty?"]())?(c(e,"unshift",a.to_a(k)),n(d)&&(this.lineno=0),g=h):(e.$shift(),n(d)&&(this.lineno=b(this.lineno,1)))}return g},M.$$arity=-2);return(a.def(d,"$resolve_expr_val",P=function(a){var b,
c;n(n(b=n(c=a["$start_with?"]('"'))?a["$end_with?"]('"'):c)?b:n(c=a["$start_with?"]("'"))?a["$end_with?"]("'"):c)?(b=!0,a=a.$slice(1,k(a.$length(),1))):b=!1;n(a["$include?"](m(r,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,t(["attribute_missing"],{attribute_missing:"drop"})));return n(b)?a:n(a["$empty?"]())?h:a["$=="]("true")?!0:a["$=="]("false")?!1:n(a.$rstrip()["$empty?"]())?" ":n(a["$include?"]("."))?a.$to_f():a.$to_i()},P.$$arity=1),h)&&"resolve_expr_val"})(d[0],m(d,"Reader"),d)}(p[0],
p)};Opal.modules["asciidoctor/section"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var k=[],l=a.nil,p=a.const_get_relative,h=a.module,e=a.klass,m=a.hash2,r=a.send,q=a.truthy;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $> $== $sectnum $reftext $! $empty? $sub_placeholder $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));
return function(d,k){d=[h(d,"Asciidoctor")].concat(k);(function(c,$super,d){c=e(c,$super,"Section");var h=[c].concat(d),k,n,v,t,u,z,y,F;c.$$prototype.document=c.$$prototype.next_section_index=c.$$prototype.level=c.$$prototype.parent=c.$$prototype.numeral=c.$$prototype.numbered=c.$$prototype.sectname=c.$$prototype.title=c.$$prototype.blocks=l;c.$attr_accessor("index");c.$attr_accessor("sectname");c.$attr_accessor("special");c.$attr_accessor("numbered");c.$attr_reader("caption");a.def(c,"$initialize",
k=function(c,e,d,g){var n,v;k.$$p&&(k.$$p=null);null==c&&(c=l);null==e&&(e=l);null==d&&(d=!1);null==g&&(g=m([],{}));r(this,a.find_super_dispatcher(this,"initialize",k,!1),[c,"section",g],null);q(p(h,"Section")["$==="](c))?(n=[q(v=e)?v:b(c.$level(),1),c.$special()],this.level=n[0],this.special=n[1]):(n=[q(v=e)?v:1,!1],this.level=n[0],this.special=n[1]);n;this.numbered=d;return this.index=0},k.$$arity=-1);a.alias(c,"name","title");a.def(c,"$generate_id",n=function(){return p(h,"Section").$generate_id(this.$title(),
this.document)},n.$$arity=0);a.def(c,"$sections?",v=function(){return g(this.next_section_index,0)},v.$$arity=0);a.def(c,"$sectnum",t=function(a,b){var c;null==a&&(a=".");null==b&&(b=l);b=q(c=b)?c:b["$=="](!1)?"":a;return q(q(c=g(this.level,1))?p(h,"Section")["$==="](this.parent):c)?""+this.parent.$sectnum(a,a)+this.numeral+b:""+this.numeral+b},t.$$arity=-1);a.def(c,"$xreftext",u=function(a){var b,c=l,e=l,d=l;null==a&&(a=l);q(q(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:q(a)?(q(this.numbered)?
"full"["$==="](a)?(a=q(q(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$sub_placeholder(this.$sub_quotes(q(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=q(d=this.document.$attributes()["$[]"](""+e+"-refsig"))?""+d+" "+this.$sectnum(".",",")+" "+a:""+this.$sectnum(".",",")+" "+a):a="short"["$==="](a)?q(d=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+d+" "+this.$sectnum(".",""):
this.$sectnum(".",""):q(q(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title():a=q(q(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},u.$$arity=-1);a.def(c,"$<<",z=function(b){var c=z.$$p,e;c&&(z.$$p=null);var d=0;var g=arguments.length;for(e=Array(g);d<g;d++)e[d]=arguments[d];b.$context()["$=="]("section")&&
this.$assign_numeral(b);return r(this,a.find_super_dispatcher(this,"<<",z,!1),e,c)},z.$$arity=1);a.def(c,"$to_s",y=function(){var b=y.$$p,c;b&&(y.$$p=null);var e=0;var d=arguments.length;for(c=Array(d);e<d;e++)c[e]=arguments[e];return q(this.title)?(b=q(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+b.$inspect()+", blocks: "+this.blocks.$size()+"}>"):r(this,a.find_super_dispatcher(this,"to_s",y,!1),c,b)},y.$$arity=
0);return(a.defs(c,"$generate_id",F=function(c,e){var d,g,k,n=l,m=g=l;var v=e.$attributes();var t=q(d=v["$[]"]("idprefix"))?d:"_";q(k=v["$[]"]("idseparator"))?(q(d=k.$length()["$=="](1))?v=d:q(g=(n=k["$empty?"]())["$!"]())?(g=["idseparator",k.$chr()],r(v,"[]=",a.to_a(g)),k=g,v=g.length,v="number"===typeof v?v-1:v["$-"](1),v=k=k[v]):v=g,q(v)&&(m=q(q(d=k["$=="]("-"))?d:k["$=="]("."))?" .-":" "+k+".-")):(d=["_"," _.-"],k=d[0],m=d[1],d);c=""+t+c.$downcase().$gsub(p(h,"InvalidSectionIdCharsRx"),"");q(n)?
c=c.$delete(" "):(c=c.$tr_s(m,k),q(c["$end_with?"](k))&&(c=c.$chop()),q(q(d=t["$empty?"]())?c["$start_with?"](k):d)&&(c=c.$slice(1,c.$length())));if(q(e.$catalog()["$[]"]("refs")["$key?"](c))){e=e.$catalog()["$[]"]("refs");for(d=p(h,"Compliance").$unique_id_start_index();q(e["$[]"](t=""+c+k+d));)d=b(d,1);return t}return c},F.$$arity=2),l)&&"generate_id"})(d[0],p(d,"AbstractBlock"),d)}(k[0],k)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.const_get_relative,
p=a.module,h=a.klass,e=a.truthy,m=a.hash2;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $stylesheet_basename $for $read_stylesheet $coderay_stylesheet_data $coderay_stylesheet_name $pygments_stylesheet_data $pygments_stylesheet_name".split(" "));return function(b,d){b=[p(b,"Asciidoctor")].concat(d);(function(b,$super,c){b=h(b,$super,"Stylesheets");var d=[b].concat(c),p,r,v,q,t,u,x,z,y,F,E,A,B;b.$$prototype.primary_stylesheet_data=g;a.const_set(d[0],
"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(d[0],"STYLESHEETS_DIR",k("::","File").$join(l(d,"DATA_DIR"),"stylesheets"));b.__instance__=b.$new();a.defs(b,"$instance",p=function(){null==this.__instance__&&(this.__instance__=g);return this.__instance__},p.$$arity=0);a.def(b,"$primary_stylesheet_name",r=function(){return l(d,"DEFAULT_STYLESHEET_NAME")},r.$$arity=0);a.def(b,"$primary_stylesheet_data",v=function(){var a;return this.primary_stylesheet_data=e(a=this.primary_stylesheet_data)?
a:k("::","File").$read(k("::","File").$join(l(d,"STYLESHEETS_DIR"),"asciidoctor-default.css"),m(["mode"],{mode:l(d,"FILE_READ_MODE")})).$rstrip()},v.$$arity=0);a.def(b,"$embed_primary_stylesheet",q=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},q.$$arity=0);a.def(b,"$write_primary_stylesheet",t=function(a){null==a&&(a=".");return k("::","File").$write(k("::","File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),m(["mode"],{mode:l(d,"FILE_WRITE_MODE")}))},
t.$$arity=-1);a.def(b,"$coderay_stylesheet_name",u=function(){return l(d,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},u.$$arity=0);a.def(b,"$coderay_stylesheet_data",x=function(){return l(d,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},x.$$arity=0);a.def(b,"$embed_coderay_stylesheet",z=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},z.$$arity=0);a.def(b,"$write_coderay_stylesheet",y=function(a){null==a&&(a=".");return k("::","File").$write(k("::",
"File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),m(["mode"],{mode:l(d,"FILE_WRITE_MODE")}))},y.$$arity=-1);a.def(b,"$pygments_stylesheet_name",F=function(a){null==a&&(a=g);return l(d,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(a)},F.$$arity=-1);a.def(b,"$pygments_stylesheet_data",E=function(a){null==a&&(a=g);return l(d,"SyntaxHighlighter").$for("pygments").$read_stylesheet(a)},E.$$arity=-1);a.def(b,"$embed_pygments_stylesheet",A=function(a){null==a&&
(a=g);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},A.$$arity=-1);return(a.def(b,"$write_pygments_stylesheet",B=function(a,b){null==a&&(a=".");null==b&&(b=g);return k("::","File").$write(k("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b),m(["mode"],{mode:l(d,"FILE_WRITE_MODE")}))},B.$$arity=-1),g)&&"write_pygments_stylesheet"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,b){return"number"===typeof a&&
"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=[],m=a.nil,r=a.const_get_qualified,q=a.const_get_relative,t=a.module,n=
a.klass,c=a.hash2,f=a.send,u=a.truthy,y=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $[] $> $to_i $< $== $[]= $- $attributes $truncate $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $round $map $shift $reinitialize $head= $nil? $unshift $pop $foot= $parent $sourcemap $dup $header_row? $table $style $merge $delete $=== $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $catalog_inline_anchor $=~ $apply_subs $attr_writer $convert $text $!= $file $lineno $include $to_set $mark $key? $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $! $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $close_row $private $rows $effective_column_visits".split(" "));
return function(e,d){e=[t(e,"Asciidoctor")].concat(d);(function(e,$super,d){e=n(e,$super,"Table");var r=[e].concat(d),v,t,x,y,R;e.$$prototype.attributes=e.$$prototype.document=e.$$prototype.has_header_option=e.$$prototype.rows=e.$$prototype.columns=m;a.const_set(r[0],"DEFAULT_PRECISION",4);(function(b,$super,e){b=n(b,$super,"Rows");[b].concat(e);var d,f,g;b.$$prototype.head=b.$$prototype.body=b.$$prototype.foot=m;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",d=function(a,b,c){null==
a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},d.$$arity=-1);a.alias(b,"[]","send");a.def(b,"$by_section",f=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},f.$$arity=0);return(a.def(b,"$to_h",g=function(){return c(["head","body","foot"],{head:this.head,body:this.body,foot:this.foot})},g.$$arity=0),m)&&"to_h"})(r[0],null,r);e.$attr_accessor("columns");e.$attr_accessor("rows");e.$attr_accessor("has_header_option");e.$attr_reader("caption");
a.def(e,"$initialize",v=function(c,e){var d,h,n=m,t=m,x=m;v.$$p&&(v.$$p=null);f(this,a.find_super_dispatcher(this,"initialize",v,!1),[c,"table"],null);this.rows=q(r,"Rows").$new();this.columns=[];this.has_header_option=!1;u(n=e["$[]"]("width"))?u(u(d=b(t=n.$to_i(),100))?d:g(t,1))&&!u(t["$=="](0)?u(h=n["$=="]("0"))?h:n["$=="]("0%"):t["$=="](0))&&(t=100):t=100;c=["tablepcwidth",t];f(this.attributes,"[]=",a.to_a(c));c[k(c.length,1)];u(this.document.$attributes()["$[]"]("pagewidth"))&&(c=["tableabswidth",
(x=l(p(t,100),this.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(q(r,"DEFAULT_PRECISION")))["$=="](x.$to_i())?x.$to_i():x],f(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]);return u(e["$[]"]("rotate-option"))?(c=["orientation","landscape"],f(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]):m},v.$$arity=2);a.def(e,"$header_row?",t=function(){var a,b;return u(u(a=b=this.has_header_option)?this.rows.$body()["$empty?"]():a)?b:m},t.$$arity=0);a.def(e,"$create_columns",x=function(c){var e,
d,n=m,l=m,p=m,v=m;v=m;n=[];l=m;p=0;f(c,"each",[],(e=function(a){var b=e.$$s||this,c;null==a&&(a=m);var d=a["$[]"]("width");n["$<<"](q(r,"Column").$new(b,n.$size(),a));return u(g(d,0))?(l=u(c=l)?c:[])["$<<"](n["$[]"](-1)):p=h(p,d)},e.$$s=this,e.$$arity=1,e));u(b(v=(this.columns=n).$size(),0))&&(v=["colcount",v],f(this.attributes,"[]=",a.to_a(v)),v[k(v.length,1)],u(u(d=b(p,0))?d:l)||(p=m),this.$assign_column_widths(p,l));return m},x.$$arity=1);a.def(e,"$assign_column_widths",y=function(a,e){var d,g,
n,l=m,v=m,t=m,x=m,y=m;null==a&&(a=m);null==e&&(e=m);l=q(r,"DEFAULT_PRECISION");v=t=0;u(a)?(u(e)&&(u(b(a,100))?(x=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(x=p(k(100,a),e.$size()).$truncate(l),x.$to_i()["$=="](x)&&(x=x.$to_i()),a=100),y=c(["width","autowidth-option"],{width:x,"autowidth-option":""}),f(e,"each",[],(d=function(a){null==a&&(a=m);return a.$update_attributes(y)},d.$$s=this,d.$$arity=1,d))),f(this.columns,"each",[],(g=function(b){null==
b&&(b=m);return v=h(v,t=b.$assign_width(m,a,l))},g.$$s=this,g.$$arity=1,g))):(t=p(100,this.columns.$size()).$truncate(l),t.$to_i()["$=="](t)&&(t=t.$to_i()),f(this.columns,"each",[],(n=function(a){null==a&&(a=m);return v=h(v,a.$assign_width(t,m,l))},n.$$s=this,n.$$arity=1,n)));v["$=="](100)||this.columns["$[]"](-1).$assign_width(h(k(100,v),t).$round(l),m,l);return m},y.$$arity=-1);return(a.def(e,"$partition_header_footer",R=function(c){var e,d,g,h=m,n=m,l=m;h=(n=["rowcount",(l=this.rows.$body()).$size()],
f(this.attributes,"[]=",a.to_a(n)),n[k(n.length,1)]);u(b(h,0))&&(u(this.has_header_option)?(n=[[f(l.$shift(),"map",[],(e=function(a){null==a&&(a=m);return a.$reinitialize(!0)},e.$$s=this,e.$$arity=1,e))]],f(this.rows,"head=",a.to_a(n)),n[k(n.length,1)],h=k(h,1)):u(this.has_header_option["$nil?"]())&&(this.has_header_option=!1,l.$unshift(f(l.$shift(),"map",[],(d=function(a){null==a&&(a=m);return a.$reinitialize(!1)},d.$$s=this,d.$$arity=1,d)))));u(u(g=b(h,0))?c["$[]"]("footer-option"):g)&&(n=[[l.$pop()]],
f(this.rows,"foot=",a.to_a(n)),n[k(n.length,1)]);return m},R.$$arity=1),m)&&"partition_header_footer"})(e[0],q(e,"AbstractBlock"),e);(function(b,$super,e){b=n(b,$super,"Column");[b].concat(e);var d,g,r,v;b.$$prototype.attributes=m;b.$attr_accessor("style");a.def(b,"$initialize",d=function(b,e,g){var n;d.$$p&&(d.$$p=null);null==g&&(g=c([],{}));f(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,"table_column"],null);this.style=g["$[]"]("style");b=["colnumber",h(e,1)];f(g,"[]=",a.to_a(b));b[k(b.length,
1)];u(n=g["$[]"]("width"))?n:(b=["width",1],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);u(n=g["$[]"]("halign"))?n:(b=["halign","left"],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);u(n=g["$[]"]("valign"))?n:(b=["valign","top"],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);return this.$update_attributes(g)},d.$$arity=-3);a.alias(b,"table","parent");a.def(b,"$assign_width",g=function(b,c,e){var d=m;u(c)&&(b=p(l(this.attributes["$[]"]("width").$to_f(),100),c).$truncate(e),b.$to_i()["$=="](b)&&(b=b.$to_i()));u(this.$parent().$attributes()["$[]"]("tableabswidth"))&&
(c=["colabswidth",(d=l(p(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(e))["$=="](d.$to_i())?d.$to_i():d],f(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]);c=["colpcwidth",b];f(this.attributes,"[]=",a.to_a(c));return c[k(c.length,1)]},g.$$arity=3);a.def(b,"$block?",r=function(){return!1},r.$$arity=0);return(a.def(b,"$inline?",v=function(){return!1},v.$$arity=0),m)&&"inline?"})(q(e,"Table"),q(e,"AbstractNode"),e);(function(b,$super,e){b=n(b,$super,"Cell");var d=[b].concat(e),
p,v,t,x,z,F,R,E,A,B;b.$$prototype.document=b.$$prototype.reinitialize_args=b.$$prototype.attributes=b.$$prototype.cursor=b.$$prototype.text=b.$$prototype.subs=b.$$prototype.style=b.$$prototype.inner_document=b.$$prototype.source_location=b.$$prototype.colspan=b.$$prototype.rowspan=m;a.const_set(d[0],"DOUBLE_LF",l(q(d,"LF"),2));b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",p=function(b,e,n,l){var r,v,t,x=
m,y=m,z=m,F=m,R=m,E=m,A=m;p.$$p&&(p.$$p=null);null==n&&(n=c([],{}));null==l&&(l=c([],{}));f(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,"table_cell"],null);this.cursor=this.reinitialize_args=m;u(this.document.$sourcemap())&&(this.source_location=l["$[]"]("cursor").$dup());u(b)&&(u(x=b.$table()["$header_row?"]())?u((r=x["$=="]("implicit"))?y=u(v=b.$style())?v:u(t=n)?n["$[]"]("style"):t:x["$=="]("implicit"))&&(u(u(r=y["$=="]("asciidoc"))?r:y["$=="]("literal"))&&(this.reinitialize_args=[b,
e,u(r=n)?n.$merge():r,l]),y=m):y=b.$style(),this.$update_attributes(b.$attributes()));if(u(n))if(u(n["$empty?"]())?this.colspan=this.rowspan=m:(r=[n.$delete("colspan"),n.$delete("rowspan")],this.colspan=r[0],this.rowspan=r[1],r,u(x)||(y=u(r=n["$[]"]("style"))?r:y),this.$update_attributes(n)),b=y,"asciidoc"["$==="](b))if(z=!0,F=l["$[]"]("cursor"),u((e=e.$rstrip())["$start_with?"](q(d,"LF")))){for(b=1;u((e=e.$slice(1,e.$length()))["$start_with?"](q(d,"LF")));)b=h(b,1);F.$advance(b)}else e=e.$lstrip();
else if("literal"["$==="](b))for(R=!0,e=e.$rstrip();u(e["$start_with?"](q(d,"LF")));)e=e.$slice(1,e.$length());else E=!0,e=u(e)?e.$strip():"";else this.colspan=this.rowspan=m,y["$=="]("asciidoc")&&(z=!0,F=l["$[]"]("cursor"));u(z)?(l=this.document.$attributes().$delete("doctitle"),x=e.$split(q(d,"LF"),-1),!u(x["$empty?"]())&&u((A=x["$[]"](0))["$include?"]("::"))&&(z=q(d,"PreprocessorReader").$new(this.document,[A]).$readlines(),u(A["$=="](z["$[]"](0))?g(z.$size(),2):A["$=="](z["$[]"](0)))||(x.$shift(),
u(z["$empty?"]())||f(x,"unshift",a.to_a(z)))),this.inner_document=q(d,"Document").$new(x,c(["standalone","parent","cursor"],{standalone:!1,parent:this.document,cursor:F})),u(l["$nil?"]())||(F=["doctitle",l],f(this.document.$attributes(),"[]=",a.to_a(F)),F[k(F.length,1)]),this.subs=m):u(R)?(this.content_model="verbatim",this.subs=q(d,"BASIC_SUBS")):(u(E)&&(u(x)?this.cursor=l["$[]"]("cursor"):this.$catalog_inline_anchor(e,l["$[]"]("cursor"))),this.content_model="simple",this.subs=q(d,"NORMAL_SUBS"));
this.text=e;return this.style=y},p.$$arity=-3);a.def(b,"$reinitialize",v=function(b){if(u(b))this.reinitialize_args=m;else{if(u(this.reinitialize_args))return f(r(q(d,"Table"),"Cell"),"new",a.to_a(this.reinitialize_args));this.style=this.attributes["$[]"]("style")}u(this.cursor)&&this.$catalog_inline_anchor();return this},v.$$arity=1);a.def(b,"$catalog_inline_anchor",t=function(a,b){null==a&&(a=this.text);null==b&&(b=m);if(!u(b)){var c=[this.cursor,m];b=c[0];this.cursor=c[1];c}return u(u(c=a["$start_with?"]("[["))?
q(d,"LeadingInlineAnchorRx")["$=~"](a):c)?q(d,"Parser").$catalog_inline_anchor((c=y["~"])===m?m:c["$[]"](1),(c=y["~"])===m?m:c["$[]"](2),this,b,this.document):m},t.$$arity=-1);a.def(b,"$text",x=function(){return this.$apply_subs(this.text,this.subs)},x.$$arity=0);b.$attr_writer("text");a.def(b,"$content",z=function(){var a,b,e=m,g=m;return(e=this.style)["$=="]("asciidoc")?this.inner_document.$convert():u(this.text["$include?"](q(d,"DOUBLE_LF")))?f(this.$text().$split(q(d,"BlankLineRx")),"map",[],
(a=function(b){var f=a.$$s||this,g;null==b&&(b=m);return u(u(g=e)?e["$!="]("header"):g)?q(d,"Inline").$new(f.$parent(),"quoted",b,c(["type"],{type:e})).$convert():b},a.$$s=this,a.$$arity=1,a)):u((g=this.$text())["$empty?"]())?[]:u(u(b=e)?e["$!="]("header"):b)?[q(d,"Inline").$new(this.$parent(),"quoted",g,c(["type"],{type:e})).$convert()]:[g]},z.$$arity=0);a.def(b,"$lines",F=function(){return this.text.$split(q(d,"LF"))},F.$$arity=0);a.def(b,"$source",R=function(){return this.text},R.$$arity=0);a.def(b,
"$file",E=function(){var a;return u(a=this.source_location)?this.source_location.$file():a},E.$$arity=0);a.def(b,"$lineno",A=function(){var a;return u(a=this.source_location)?this.source_location.$lineno():a},A.$$arity=0);return(a.def(b,"$to_s",B=function(){var b,c=B.$$p,e;c&&(B.$$p=null);var d=0;var g=arguments.length;for(e=Array(g);d<g;d++)e[d]=arguments[d];return""+f(this,a.find_super_dispatcher(this,"to_s",B,!1),e,c)+" - [text: "+this.text+", colspan: "+(u(b=this.colspan)?b:1)+", rowspan: "+(u(b=
this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},B.$$arity=0),m)&&"to_s"})(q(e,"Table"),q(e,"AbstractBlock"),e);(function(e,$super,d){e=n(e,$super,"ParserContext");var g=[e].concat(d),l,p,v,t,x,y,z,F,E,R,A,B,D,I,L,G,O,J,K;e.$$prototype.delimiter=e.$$prototype.delimiter_rx=e.$$prototype.buffer=e.$$prototype.cellspecs=e.$$prototype.cell_open=e.$$prototype.format=e.$$prototype.start_cursor_data=e.$$prototype.reader=e.$$prototype.table=e.$$prototype.current_row=e.$$prototype.colcount=e.$$prototype.column_visits=
e.$$prototype.active_rowspans=e.$$prototype.linenum=m;e.$include(q(g,"Logging"));a.const_set(g[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(g[0],"DELIMITERS",c(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));e.$attr_accessor("table");e.$attr_accessor("format");e.$attr_reader("colcount");e.$attr_accessor("buffer");e.$attr_reader("delimiter");e.$attr_reader("delimiter_re");a.def(e,"$initialize",l=function(b,e,d){var f;null==
d&&(d=c([],{}));this.start_cursor_data=(this.reader=b).$mark();this.table=e;u(d["$key?"]("format"))?u(q(g,"FORMATS")["$include?"](f=d["$[]"]("format")))?f["$=="]("tsv")?this.format="csv":u((this.format=f)["$=="]("psv")?e.$document()["$nested?"]():(this.format=f)["$=="]("psv"))&&(f="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+f,c(["source_location"],{source_location:b.$cursor_at_prev_line()}))),b=["psv",u(e.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],
f=b[1],b):(b=["psv",u(e.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],f=b[1],b);u(d["$key?"]("separator"))?u((d=d["$[]"]("separator"))["$nil_or_empty?"]())?(f=q(g,"DELIMITERS")["$[]"](f),b=a.to_ary(f),this.delimiter=null==b[0]?m:b[0],this.delimiter_rx=null==b[1]?m:b[1],f):d["$=="]("\\t")?(f=q(g,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(f),this.delimiter=null==b[0]?m:b[0],this.delimiter_rx=null==b[1]?m:b[1],f):(b=[d,new RegExp(r("::","Regexp").$escape(d))],this.delimiter=b[0],this.delimiter_rx=
b[1],b):(f=q(g,"DELIMITERS")["$[]"](f),b=a.to_ary(f),this.delimiter=null==b[0]?m:b[0],this.delimiter_rx=null==b[1]?m:b[1],f);this.colcount=u(e.$columns()["$empty?"]())?-1:e.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},l.$$arity=-3);a.def(e,"$starts_with_delimiter?",p=function(a){return a["$start_with?"](this.delimiter)},p.$$arity=1);a.def(e,"$match_delimiter",v=function(a){return this.delimiter_rx.$match(a)},
v.$$arity=1);a.def(e,"$skip_past_delimiter",t=function(a){this.buffer=""+this.buffer+a+this.delimiter;return m},t.$$arity=1);a.def(e,"$skip_past_escaped_delimiter",x=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return m},x.$$arity=1);a.def(e,"$buffer_has_unclosed_quotes?",y=function(a,b){var c,e,d=m;null==a&&(a=m);null==b&&(b='"');if((a=u(a)?h(this.buffer,a).$strip():this.buffer.$strip())["$=="](b))return!0;if(u(a["$start_with?"](b))){var f=h(b,b);return u(u(c=u(e=d=a["$end_with?"](b))?
a["$end_with?"](f):e)?c:a["$start_with?"](f))?u(c=(a=a.$gsub(f,""))["$start_with?"](b))?a["$end_with?"](b)["$!"]():c:d["$!"]()}return!1},y.$$arity=-1);a.def(e,"$take_cellspec",z=function(){return this.cellspecs.$shift()},z.$$arity=0);a.def(e,"$push_cellspec",F=function(a){var b;null==a&&(a=c([],{}));this.cellspecs["$<<"](u(b=a)?b:c([],{}));return m},F.$$arity=-1);a.def(e,"$keep_cell_open",E=function(){this.cell_open=!0;return m},E.$$arity=0);a.def(e,"$mark_cell_closed",R=function(){this.cell_open=
!1;return m},R.$$arity=0);a.def(e,"$cell_open?",A=function(){return this.cell_open},A.$$arity=0);a.def(e,"$cell_closed?",B=function(){return this.cell_open["$!"]()},B.$$arity=0);a.def(e,"$close_open_cell",D=function(a){null==a&&(a=c([],{}));this.$push_cellspec(a);u(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return m},D.$$arity=-1);a.def(e,"$close_cell",I=function(e){try{var d,n,l=m,p=m,v=m,t=m;null==e&&(e=!1);this.format["$=="]("psv")?(l=this.buffer,this.buffer="",u(p=this.$take_cellspec())?
v=u(d=p.$delete("repeatcol"))?d:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",c(["source_location"],{source_location:f(r(q(g,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),p=c([],{}),v=1)):(l=this.buffer.$strip(),this.buffer="",p=m,v=1,u(u(d=this.format["$=="]("csv")?l["$empty?"]()["$!"]():this.format["$=="]("csv"))?l["$include?"](t='"'):d)&&(u(u(d=l["$start_with?"](t))?l["$end_with?"](t):d)?u(l=l.$slice(1,k(l.$length(),
2)))?l=l.$strip().$squeeze(t):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",c(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),l=""):l=l.$squeeze(t)));f(1,"upto",[v],(n=function(d){var t=n.$$s||this,x,y,z,F,E=m,R=m,A=m;E=m;null==t.colcount&&(t.colcount=m);null==t.table&&(t.table=m);null==t.current_row&&(t.current_row=m);null==t.reader&&(t.reader=m);null==t.column_visits&&(t.column_visits=m);null==t.linenum&&(t.linenum=
m);null==d&&(d=m);t.colcount["$=="](-1)?(t.table.$columns()["$<<"](E=r(q(g,"Table"),"Column").$new(t.table,k(h(t.table.$columns().$size(),d),1))),u(u(x=u(y=p)?p["$key?"]("colspan"):y)?b(R=k(p["$[]"]("colspan").$to_i(),1),0):x)&&(A=t.table.$columns().$size(),f(R,"times",[],(z=function(a){var b=z.$$s||this;null==b.table&&(b.table=m);null==a&&(a=m);return b.table.$columns()["$<<"](r(q(g,"Table"),"Column").$new(b.table,h(A,a)))},z.$$s=t,z.$$arity=1,z)))):u(E=t.table.$columns()["$[]"](t.current_row.$size()))||
(t.$logger().$error(t.$message_with_context("dropping cell because it exceeds specified number of columns",c(["source_location"],{source_location:t.reader.$cursor_before_mark()}))),a.ret(m));E=r(q(g,"Table"),"Cell").$new(E,l,p,c(["cursor"],{cursor:t.reader.$cursor_before_mark()}));t.reader.$mark();u(u(x=E.$rowspan()["$!"]())?x:E.$rowspan()["$=="](1))||t.$activate_rowspan(E.$rowspan(),u(x=E.$colspan())?x:1);t.column_visits=h(t.column_visits,u(x=E.$colspan())?x:1);t.current_row["$<<"](E);return u(u(x=
t["$end_of_row?"]())?u(y=u(F=t.colcount["$!="](-1))?F:b(t.linenum,0))?y:u(F=e)?d["$=="](v):F:x)?t.$close_row():m},n.$$s=this,n.$$arity=1,n));this.cell_open=!1;return m}catch(va){if(va===a.returner)return va.$v;throw va;}},I.$$arity=-1);e.$private();a.def(e,"$close_row",L=function(){var b,c=m;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();u(b=this.active_rowspans["$[]"](0))?
b:(c=[0,0],f(this.active_rowspans,"[]=",a.to_a(c)),c[k(c.length,1)]);return m},L.$$arity=0);a.def(e,"$activate_rowspan",G=function(b,c){var e;f(1,"upto",[k(b,1)],(e=function(b){var d=e.$$s||this,g;null==d.active_rowspans&&(d.active_rowspans=m);null==b&&(b=m);b=[b,h(u(g=d.active_rowspans["$[]"](b))?g:0,c)];f(d.active_rowspans,"[]=",a.to_a(b));return b[k(b.length,1)]},e.$$s=this,e.$$arity=1,e));return m},G.$$arity=2);a.def(e,"$end_of_row?",O=function(){var a;return u(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},
O.$$arity=0);a.def(e,"$effective_column_visits",J=function(){return h(this.column_visits,this.active_rowspans["$[]"](0))},J.$$arity=0);return(a.def(e,"$advance",K=function(){return this.linenum=h(this.linenum,1)},K.$$arity=0),m)&&"advance"})(q(e,"Table"),null,e)}(e[0],e)};Opal.modules["asciidoctor/writer"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,l=a.const_get_qualified,p=a.const_get_relative,h=a.module,e=a.truthy,m=a.hash2;a.add_stubs(["$respond_to?",
"$write","$+","$chomp","$include"]);return function(d,g){d=[h(d,"Asciidoctor")].concat(g);(function(d,g){d=h(d,"Writer");var c=[d].concat(g),f;a.def(d,"$write",f=function(a,d){e(d["$respond_to?"]("write"))?d.$write(b(a.$chomp(),p(c,"LF"))):l("::","File").$write(d,a,m(["mode"],{mode:p(c,"FILE_WRITE_MODE")}));return k},f.$$arity=2)})(d[0],d);(function(b,e){b=h(b,"VoidWriter");e=[b].concat(e);var c;b.$include(p(e,"Writer"));a.def(b,"$write",c=function(a,b){return k},c.$$arity=2)})(d[0],d)}(g[0],g)};
Opal.modules["asciidoctor/load"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,p=a.const_get_qualified,h=a.const_get_relative,e=a.module,m=a.hash2,r=a.truthy,q=a.send;a.add_stubs("$merge $[] $start $key? $!= $logger $new $logger= $- $! $=== $dup $tap $each $partition $[]= $split $gsub $+ $respond_to? $keys $raise $join $ancestors $class $== $at $to_i $mtime $absolute_path $path $dirname $basename $extname $read $rewind $drop $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load".split(" "));
return function(d,k){d=e(d,"Asciidoctor");k=[d].concat(k);(function(c,e){var d=[c].concat(e),f,k;a.def(c,"$load",f=function(c,e){var f,k,n,v,t,u,y=l,z=l,F=l,E=l,A=l,R=l,B=l,D=l,L=l,G=l;null==e&&(e=m([],{}));try{e=e.$merge();r(y=e["$[]"]("timings"))&&y.$start("read");r(r(f=e["$key?"]("logger"))?(z=e["$[]"]("logger"))["$!="](h(d,"LoggerManager").$logger()):f)&&(F=[r(f=z)?f:h(d,"NullLogger").$new()],q(h(d,"LoggerManager"),"logger=",a.to_a(F)),F[b(F.length,1)]);r((E=e["$[]"]("attributes"))["$!"]())?E=
m([],{}):r(p("::","Hash")["$==="](E))?E=E.$merge():r(r(f=(n=p("::","Java","skip_raise"))&&(k=p(n,"JavaUtil","skip_raise"))&&p(k,"Map","skip_raise")?"constant":l)?p(p(p("::","Java"),"JavaUtil"),"Map")["$==="](E):f)?E=E.$dup():r(p("::","Array")["$==="](E))?E=q(m([],{}),"tap",[],(v=function(c){var e=v.$$s||this,d;null==c&&(c=l);return q(E,"each",[],(d=function(e){null==e&&(e=l);e=e.$partition("=");var d=a.to_ary(e);var f=null==d[0]?l:d[0];d=null==d[2]?l:d[2];e;F=[f,d];q(c,"[]=",a.to_a(F));return F[b(F.length,
1)]},d.$$s=e,d.$$arity=1,d))},v.$$s=this,v.$$arity=1,v)):r(p("::","String")["$==="](E))?E=q(m([],{}),"tap",[],(t=function(c){var e=t.$$s||this,f;null==c&&(c=l);return q(E.$gsub(h(d,"SpaceDelimiterRx"),g("\\1",h(d,"NULL"))).$gsub(h(d,"EscapedSpaceRx"),"\\1").$split(h(d,"NULL")),"each",[],(f=function(e){null==e&&(e=l);e=e.$partition("=");var d=a.to_ary(e);var f=null==d[0]?l:d[0];d=null==d[2]?l:d[2];e;F=[f,d];q(c,"[]=",a.to_a(F));return F[b(F.length,1)]},f.$$s=e,f.$$arity=1,f))},t.$$s=this,t.$$arity=
1,t)):r(r(f=E["$respond_to?"]("keys"))?E["$respond_to?"]("[]"):f)?E=q(m([],{}),"tap",[],(u=function(c){var e=u.$$s||this,d;null==c&&(c=l);return q(E.$keys(),"each",[],(d=function(e){null==e&&(e=l);F=[e,E["$[]"](e)];q(c,"[]=",a.to_a(F));return F[b(F.length,1)]},d.$$s=e,d.$$arity=1,d))},u.$$s=this,u.$$arity=1,u)):this.$raise(p("::","ArgumentError"),"illegal type for attributes option: "+E.$class().$ancestors().$join(" < "));if(r(p("::","File")["$==="](c)))F=["input_mtime",h(d,"RUBY_ENGINE")["$=="]("jruby")?
p("::","Time").$at(c.$mtime().$to_i()):c.$mtime()],q(e,"[]=",a.to_a(F)),F[b(F.length,1)],F=["docfile",A=p("::","File").$absolute_path(c.$path())],q(E,"[]=",a.to_a(F)),F[b(F.length,1)],F=["docdir",p("::","File").$dirname(A)],q(E,"[]=",a.to_a(F)),F[b(F.length,1)],F=["docname",h(d,"Helpers").$basename(A,(F=["docfilesuffix",h(d,"Helpers").$extname(A)],q(E,"[]=",a.to_a(F)),F[b(F.length,1)]))],q(E,"[]=",a.to_a(F)),F[b(F.length,1)],R=c.$read();else if(r(c["$respond_to?"]("read"))){try{c.$rewind()}catch(I){if(a.rescue(I,
[h(d,"StandardError")]))try{l}finally{a.pop_exception()}else throw I;}R=c.$read()}else r(p("::","String")["$==="](c))?R=c:r(p("::","Array")["$==="](c))?R=c.$drop(0):r(c)&&this.$raise(p("::","ArgumentError"),"unsupported input type: "+c.$class());r(y)&&(y.$record("read"),y.$start("parse"));F=["attributes",E];q(e,"[]=",a.to_a(F));F[b(F.length,1)];B=e["$[]"]("parse")["$=="](!1)?h(d,"Document").$new(R,e):h(d,"Document").$new(R,e).$parse();r(y)&&y.$record("parse");return B}catch(I){if(a.rescue(I,[h(d,
"StandardError")])){D=I;try{try{L="asciidoctor: FAILED: "+(r(f=E["$[]"]("docfile"))?f:"<stdin>")+": Failed to load AsciiDoc document",r(D["$respond_to?"]("exception"))?(G=D.$exception(""+L+" - "+D.$message()),G.$set_backtrace(D.$backtrace())):(G=D.$class().$new(L,D),F=[D.$stack_trace()],q(G,"stack_trace=",a.to_a(F)),F[b(F.length,1)])}catch(V){if(a.rescue(V,[h(d,"StandardError")]))try{G=D}finally{a.pop_exception()}else throw V;}return this.$raise(G)}finally{a.pop_exception()}}else throw I;}},f.$$arity=
-2);return(a.def(c,"$load_file",k=function(a,b){var c;null==b&&(b=m([],{}));return q(p("::","File"),"open",[a,h(d,"FILE_READ_MODE")],(c=function(a){var e=c.$$s||this;null==a&&(a=l);return e.$load(a,b)},c.$$s=this,c.$$arity=1,c))},k.$$arity=-2),l)&&"load_file"})(a.get_singleton_class(d),k)}(k[0],k)};Opal.modules["asciidoctor/convert"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}
var k=[],l=a.nil,p=a.const_get_qualified,h=a.const_get_relative,e=a.module,m=a.hash2,r=a.truthy,q=a.send;a.add_stubs("$delete $merge $=== $absolute_path $path $load $respond_to? $[]= $- $key? $fetch $[] $dirname $expand_path $join $attributes $outfilesuffix $== $raise $pwd $>= $safe $normalize_system_path $mkdir_p $directory? $! $convert $write $< $attr? $basebackend? $attr $uriish? $include? $syntax_highlighter $write_stylesheet? $write_primary_stylesheet $instance $to_s $!= $read_asset $file? $write_stylesheet $open".split(" "));
return function(d,k){d=e(d,"Asciidoctor");k=[d].concat(k);(function(c,e){var d=[c].concat(e),f,k;a.def(c,"$convert",f=function(c,e){var f,k,n,v,t,u,y=l,F=l,z=t=l,E=l,A=l,B=l,R=l,D=l,G=l,L=l,I=l,J=l;null==e&&(e=m([],{}));(e=e.$merge()).$delete("parse");var O=e.$delete("to_dir");var K=e.$delete("mkdirs");var H=u=e.$delete("to_file");if((!0)["$==="](H)||l["$==="](H))r(y=O)||r(p("::","File")["$==="](c))&&(F=p("::","File").$absolute_path(c.$path())),u=l;else if((!1)["$==="](H))u=l;else{if("/dev/null"["$==="](H))return this.$load(c,
e);r(t=u["$respond_to?"]("write"))||(H=["to_file",y=u],q(e,"[]=",a.to_a(H)),H[b(H.length,1)])}r(e["$key?"]("standalone"))||(r(r(f=F)?f:y)?(H=["standalone",e.$fetch("header_footer",!0)],q(e,"[]=",a.to_a(H)),H[b(H.length,1)]):r(e["$key?"]("header_footer"))&&(H=["standalone",e["$[]"]("header_footer")],q(e,"[]=",a.to_a(H)),H[b(H.length,1)]));r(F)?(H=["to_dir",z=p("::","File").$dirname(F)],q(e,"[]=",a.to_a(H)),H[b(H.length,1)]):r(y)&&(r(O)?(H=r(u)?["to_dir",p("::","File").$dirname(p("::","File").$expand_path(u,
O))]:["to_dir",p("::","File").$expand_path(O)],q(e,"[]=",a.to_a(H)),H[b(H.length,1)]):r(u)&&(H=["to_dir",p("::","File").$dirname(p("::","File").$expand_path(u))],q(e,"[]=",a.to_a(H)),H[b(H.length,1)]));H=this.$load(c,e);r(F)?(E=p("::","File").$join(z,""+H.$attributes()["$[]"]("docname")+H.$outfilesuffix()),E["$=="](F)&&this.$raise(p("::","IOError"),"input file and output file cannot be the same: "+E)):r(y)?(e=r(e["$key?"]("base_dir"))?p("::","File").$expand_path(e["$[]"]("base_dir")):p("::","Dir").$pwd(),
y=r(g(H.$safe(),p(h(d,"SafeMode"),"SAFE")))?e:l,r(O)?(z=H.$normalize_system_path(O,e,y,m(["target_name","recover"],{target_name:"to_dir",recover:!1})),r(u)?(E=H.$normalize_system_path(u,z,l,m(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=p("::","File").$dirname(E)):E=p("::","File").$join(z,""+H.$attributes()["$[]"]("docname")+H.$outfilesuffix())):r(u)&&(E=H.$normalize_system_path(u,e,y,m(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=p("::","File").$dirname(E)),
r(r(f=p("::","File")["$==="](c))?E["$=="](p("::","File").$absolute_path(c.$path())):f)&&this.$raise(p("::","IOError"),"input file and output file cannot be the same: "+E),r(K)?h(d,"Helpers").$mkdir_p(z):r(p("::","File")["$directory?"](z))||this.$raise(p("::","IOError"),"target directory does not exist: "+O+" (hint: set :mkdirs option)")):(E=u,z=l);c=r(r(f=E)?t["$!"]():f)?H.$convert(m(["outfile","outdir"],{outfile:E,outdir:z})):H.$convert();return r(E)?(H.$write(c,E),r(t=t["$!"]())&&(t=H.$safe(),E=
p(h(d,"SafeMode"),"SECURE"),t="number"===typeof t&&"number"===typeof E?t<E:t["$<"](E)),r(r(f=r(k=r(n=r(v=t)?H["$attr?"]("linkcss"):v)?H["$attr?"]("copycss"):n)?H["$basebackend?"]("html"):k)?(r(k=A=H.$attr("stylesdir"))?h(d,"Helpers")["$uriish?"](A):k)["$!"]():f)&&(r(B=H.$attr("stylesheet"))&&(r(h(d,"DEFAULT_STYLESHEET_KEYS")["$include?"](B))?R=!0:r(h(d,"Helpers")["$uriish?"](B)["$!"]())&&(D=!0)),n=r(f=G=H.$syntax_highlighter())?G["$write_stylesheet?"](H):f,r(r(f=r(k=R)?k:D)?f:n)&&(k=H.$normalize_system_path(A,
z,r(g(H.$safe(),p(h(d,"SafeMode"),"SAFE")))?z:l),r(K)?h(d,"Helpers").$mkdir_p(k):r(p("::","File")["$directory?"](k))||this.$raise(p("::","IOError"),"target stylesheet directory does not exist: "+k+" (hint: set :mkdirs option)"),r(R)?h(d,"Stylesheets").$instance().$write_primary_stylesheet(k):r(D)&&(L=r(r(f=(L=H.$attr("copycss"))["$=="](""))?f:L["$=="](!0))?H.$normalize_system_path(B):H.$normalize_system_path(L.$to_s()),z=H.$normalize_system_path(B,k,r(g(H.$safe(),p(h(d,"SafeMode"),"SAFE")))?z:l),
r(r(f=L["$!="](z))?I=H.$read_asset(L,m(["warn_on_failure","label"],{warn_on_failure:p("::","File")["$file?"](z)["$!"](),label:"stylesheet"})):f)&&(r(r(f=(J=p("::","File").$dirname(z))["$!="](k))?p("::","File")["$directory?"](J)["$!"]():f)&&(r(K)?h(d,"Helpers").$mkdir_p(J):this.$raise(p("::","IOError"),"target stylesheet directory does not exist: "+J+" (hint: set :mkdirs option)")),p("::","File").$write(z,I,m(["mode"],{mode:h(d,"FILE_WRITE_MODE")})))),r(n)&&G.$write_stylesheet(H,k))),H):c},f.$$arity=
-2);a.def(c,"$convert_file",k=function(a,b){var c;null==b&&(b=m([],{}));return q(p("::","File"),"open",[a,h(d,"FILE_READ_MODE")],(c=function(a){var e=c.$$s||this;null==a&&(a=l);return e.$convert(a,b)},c.$$s=this,c.$$arity=1,c))},k.$$arity=-2);a.alias(c,"render","convert");return a.alias(c,"render_file","convert_file")})(a.get_singleton_class(d),k)}(k[0],k)};Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.const_get_relative,m=a.module,
h=a.klass,e=a.send,q=a.hash2,r=a.truthy;a.add_stubs("$register_for $merge $proc $[]= $- $attr $[] $== $attr? $join $map $split $lstrip".split(" "));return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=h(b,$super,"HighlightJsAdapter");var f=[b].concat(d),k,n,m,p;b.$register_for("highlightjs","highlight.js");a.def(b,"$initialize",k=function(b){var d=k.$$p,f;d&&(k.$$p=null);var g=0;var h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];a.slice.call(arguments,0,arguments.length);
e(this,a.find_super_dispatcher(this,"initialize",k,!1),f,d);return this.name=this.pre_class="highlightjs"},k.$$arity=-1);a.def(b,"$format",n=function(b,d,f){var h;n.$$p&&(n.$$p=null);return e(this,a.find_super_dispatcher(this,"format",n,!1),[b,d,f.$merge(q(["transform"],{transform:e(this,"proc",[],(h=function(b,f){null==f&&(f=g);b=["class","language-"+(r(d)?d:"none")+" hljs"];e(f,"[]=",a.to_a(b));f=b.length;f="number"===typeof f?f-1:f["$-"](1);return b[f]},h.$$s=this,h.$$arity=2,h))}))],null)},n.$$arity=
3);a.def(b,"$docinfo?",m=function(a){return!0},m.$$arity=1);return(a.def(b,"$docinfo",p=function(a,b,d){var h,k=this,n=g;n=b.$attr("highlightjsdir",""+d["$[]"]("cdn_base_url")+"/highlight.js/"+l(f,"HIGHLIGHT_JS_VERSION"));return a["$=="]("head")?'<link rel="stylesheet" href="'+n+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+d["$[]"]("self_closing_tag_slash")+">":'<script src="'+n+'/highlight.min.js">\x3c/script>\n'+function(){return r(b["$attr?"]("highlightjs-languages"))?e(b.$attr("highlightjs-languages").$split(","),
"map",[],(h=function(a){null==a&&(a=g);return'<script src="'+n+"/languages/"+a.$lstrip()+'.min.js">\x3c/script>\n'},h.$$s=k,h.$$arity=1,h)).$join():""}()+"<script>\nif (!hljs.initHighlighting.called) {\n  hljs.initHighlighting.called = true\n  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })\n}\n\x3c/script>"},p.$$arity=3),g)&&"docinfo"})(l(b,"SyntaxHighlighter"),k(l(b,"SyntaxHighlighter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/syntax_highlighter"]=
function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.top,k=[],l=a.nil,m=a.const_get_qualified,h=a.const_get_relative,e=a.module,q=a.hash2,r=a.send,t=a.truthy,u=a.klass;a.add_stubs("$attr_reader $raise $class $extend $private_class_method $register $map $to_s $each $[]= $registry $- $[] $for $=== $new $name $private $include $== $delete $join $content".split(" "));(function(d,c){d=[e(d,"Asciidoctor")].concat(c);(function(c,d){c=e(c,"SyntaxHighlighter");
var f=[c].concat(d),g,k,n,p,v,y,F,z,E;c.$attr_reader("name");a.def(c,"$initialize",g=function(a,b,c){null==c&&q([],{});return this.name=this.pre_class=a},g.$$arity=-2);a.def(c,"$docinfo?",k=function(a){return l},k.$$arity=1);a.def(c,"$docinfo",n=function(a,b,c){return this.$raise(m("::","NotImplementedError"),""+h(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},n.$$arity=3);a.def(c,"$highlight?",p=function(){return l},p.$$arity=
0);a.def(c,"$highlight",v=function(a,b,c,e){return this.$raise(m("::","NotImplementedError"),""+h(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},v.$$arity=4);a.def(c,"$format",y=function(a,b,c){return this.$raise(m("::","NotImplementedError"),""+h(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},y.$$arity=3);a.def(c,"$write_stylesheet?",F=function(a){return l},F.$$arity=1);a.def(c,"$write_stylesheet",
z=function(a,b){return this.$raise(m("::","NotImplementedError"),""+h(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},z.$$arity=2);a.defs(c,"$included",E=function(a){return a.$extend(h(f,"Config"))},E.$$arity=1);c.$private_class_method("included");(function(b,c){b=e(b,"Config");var d=[b].concat(c),f;a.def(b,"$register_for",f=function(b){var c;var e=a.slice.call(arguments,0,arguments.length);return r(h(d,"SyntaxHighlighter"),
"register",[this].concat(a.to_a(r(e,"map",[],(c=function(a){null==a&&(a=l);return a.$to_s()},c.$$s=this,c.$$arity=1,c)))))},f.$$arity=-1)})(f[0],f);(function(c,d){c=e(c,"Factory");var f=[c].concat(d),g,k,n,p;a.def(c,"$register",g=function(c,e){var d;var f=a.slice.call(arguments,1,arguments.length);return r(f,"each",[],(d=function(e){var f=d.$$s||this;null==e&&(e=l);e=[e,c];r(f.$registry(),"[]=",a.to_a(e));return e[b(e.length,1)]},d.$$s=this,d.$$arity=1,d))},g.$$arity=-2);a.def(c,"$for",k=function(a){return this.$registry()["$[]"](a)},
k.$$arity=1);a.def(c,"$create",n=function(a,b,c){var e;null==b&&(b="html5");null==c&&(c=q([],{}));return t(e=this.$for(a))?(t(m("::","Class")["$==="](e))&&(e=e.$new(a,b,c)),t(e.$name())||this.$raise(m("::","NameError"),""+e.$class()+" must specify a value for `name'"),e):l},n.$$arity=-2);c.$private();a.def(c,"$registry",p=function(){return this.$raise(m("::","NotImplementedError"),""+h(f,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},p.$$arity=0)})(f[0],f);(function(b,
$super,c){b=u(b,$super,"CustomFactory");c=[b].concat(c);var e;b.$include(h(c,"Factory"));a.def(b,"$initialize",e=function(a){var b;null==a&&(a=l);return this.registry=t(b=a)?b:q([],{})},e.$$arity=-1);b.$private();return b.$attr_reader("registry")})(f[0],null,f);(function(b,c){b=e(b,"DefaultFactory");var d=[b].concat(c),f;b.$include(h(d,"Factory"));a.class_variable_set(d[0],"@@registry",q([],{}));b.$private();a.def(b,"$registry",f=function(){var a;return null==(a=d[0].$$cvars["@@registry"])?l:a},f.$$arity=
0);h(d,"RUBY_ENGINE")["$=="]("opal")||l})(f[0],f);(function(a,$super,b){a=u(a,$super,"DefaultFactoryProxy");b=[a].concat(b);a.$include(h(b,"DefaultFactory"));h(b,"RUBY_ENGINE")["$=="]("opal");return l})(f[0],h(f,"CustomFactory"),f);(function(c,$super,e){c=u(c,$super,"Base");e=[c].concat(e);var d;c.$$prototype.pre_class=l;c.$include(h(e,"SyntaxHighlighter"));return(a.def(c,"$format",d=function(c,e,d){var f,g,h=l,k=l,n=k=h=l;h=t(d["$[]"]("nowrap"))?""+this.pre_class+" highlight nowrap":""+this.pre_class+
" highlight";return t(k=d["$[]"]("transform"))?(k["$[]"](h=q(["class"],{"class":h}),k=t(e)?q(["data-lang"],{"data-lang":e}):q([],{})),t(e=k.$delete("data-lang"))&&(n=["data-lang",e],r(k,"[]=",a.to_a(n)),n[b(n.length,1)]),"<pre"+r(h,"map",[],(f=function(a,b){null==a&&(a=l);null==b&&(b=l);return" "+a+'="'+b+'"'},f.$$s=this,f.$$arity=2,f)).$join()+"><code"+r(k,"map",[],(g=function(a,b){null==a&&(a=l);null==b&&(b=l);return" "+a+'="'+b+'"'},g.$$s=this,g.$$arity=2,g)).$join()+">"+c.$content()+"</code></pre>"):
'<pre class="'+h+'"><code'+(t(e)?' data-lang="'+e+'"':"")+">"+c.$content()+"</code></pre>"},d.$$arity=3),l)&&"format"})(f[0],null,f);c.$extend(h(f,"DefaultFactory"))})(d[0],d)})(k[0],k);g.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs");h(k,"RUBY_ENGINE")["$=="]("opal");return l};Opal.modules["asciidoctor/timings"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],k=a.nil,l=a.const_get_qualified,m=a.const_get_relative,
h=a.module,e=a.klass,q=a.hash2,r=a.send,t=a.truthy,u=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $sprintf $to_f $read_parse $convert $read_parse_convert $private $const_defined? $== $clock_gettime".split(" "));return function(d,c){d=[h(d,"Asciidoctor")].concat(c);(function(c,$super,d){c=e(c,$super,"Timings");var f=[c].concat(d),g,h,n,p,v,y,F,z,E,A,B,D,G,H,J,K,O,M,I;c.$$prototype.timers=c.$$prototype.log=k;a.def(c,"$initialize",g=function(){this.log=q([],{});return this.timers=
q([],{})},g.$$arity=0);a.def(c,"$start",h=function(c){c=[c,this.$now()];r(this.timers,"[]=",a.to_a(c));return c[b(c.length,1)]},h.$$arity=1);a.def(c,"$record",n=function(c){c=[c,b(this.$now(),this.timers.$delete(c))];r(this.log,"[]=",a.to_a(c));return c[b(c.length,1)]},n.$$arity=1);a.def(c,"$time",p=function(b){var c;var e=k;e=a.slice.call(arguments,0,arguments.length);e=r(e,"reduce",[0],(c=function(a,b){var e=c.$$s||this,d;null==e.log&&(e.log=k);null==a&&(a=k);null==b&&(b=k);b=t(d=e.log["$[]"](b))?
d:0;return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)},c.$$s=this,c.$$arity=2,c));return t("number"===typeof e?0<e:e["$>"](0))?e:k},p.$$arity=-1);a.def(c,"$read",v=function(){return this.$time("read")},v.$$arity=0);a.def(c,"$parse",y=function(){return this.$time("parse")},y.$$arity=0);a.def(c,"$read_parse",F=function(){return this.$time("read","parse")},F.$$arity=0);a.def(c,"$convert",z=function(){return this.$time("convert")},z.$$arity=0);a.def(c,"$read_parse_convert",E=function(){return this.$time("read",
"parse","convert")},E.$$arity=0);a.def(c,"$write",A=function(){return this.$time("write")},A.$$arity=0);a.def(c,"$total",B=function(){return this.$time("read","parse","convert","write")},B.$$arity=0);a.def(c,"$print_report",D=function(a,b){null==u.stdout&&(u.stdout=k);null==a&&(a=u.stdout);null==b&&(b=k);t(b)&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+this.$sprintf("%05.5f",this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+this.$sprintf("%05.5f",this.$convert().$to_f()));
return a.$puts("  Total time (read, parse and convert): "+this.$sprintf("%05.5f",this.$read_parse_convert().$to_f()))},D.$$arity=-1);c.$private();return t(t(G=l("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((H=l("::","Process","skip_raise"))&&(J=H,J)&&(K=J)&&((O=K.$clock_gettime)&&!O.$$stub||K["$respond_to_missing?"]("clock_gettime"))?"method":k)["$=="]("method"):G)?(a.const_set(f[0],"CLOCK_ID",l(l("::","Process"),"CLOCK_MONOTONIC")),(a.def(c,"$now",M=function(){return l("::","Process").$clock_gettime(m(f,
"CLOCK_ID"))},M.$$arity=0),k)&&"now"):(a.def(c,"$now",I=function(){return l("::","Time").$now()},I.$$arity=0),k)&&"now"})(d[0],null,d)}(g[0],g)};Opal.modules["asciidoctor/converter/composite"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.const_get_relative,m=a.module,h=a.klass,e=a.hash2,q=a.send,r=a.truthy;a.add_stubs("$attr_reader $each $respond_to? $composed $init_backend_traits $backend_traits $new $find_converter $[]= $- $convert $converter_for $node_name $[] $handles? $raise".split(" "));
return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=h(b,$super,"CompositeConverter");[b].concat(d);var f,l,n,m;b.$$prototype.converter_cache=b.$$prototype.converters=g;b.$attr_reader("converters");a.def(b,"$initialize",f=function(b,d,f){var h,l;var n=a.slice.call(arguments,1,arguments.length);var m=a.extract_kwargs(n);if(null==m)m=e([],{});else if(!m.$$is_hash)throw a.ArgumentError.$new("expected kwargs");m=m.$$smap.backend_traits_source;null==m&&(m=g);this.backend=b;q(this.converters=
n,"each",[],(h=function(a){var b=h.$$s||this;null==a&&(a=g);return r(a["$respond_to?"]("composed"))?a.$composed(b):g},h.$$s=this,h.$$arity=1,h));r(m)&&this.$init_backend_traits(m.$backend_traits());return this.converter_cache=q(k("::","Hash"),"new",[],(l=function(b,e){var d=l.$$s||this;null==b&&(b=g);null==e&&(e=g);e=[e,d.$find_converter(e)];q(b,"[]=",a.to_a(e));b=e.length;b="number"===typeof b?b-1:b["$-"](1);return e[b]},l.$$s=this,l.$$arity=2,l))},f.$$arity=-2);a.def(b,"$convert",l=function(a,b,
e){var d;null==b&&(b=g);null==e&&(e=g);return this.$converter_for(b=r(d=b)?d:a.$node_name()).$convert(a,b,e)},l.$$arity=-2);a.def(b,"$converter_for",n=function(a){return this.converter_cache["$[]"](a)},n.$$arity=1);return(a.def(b,"$find_converter",m=function(b){try{var e;q(this.converters,"each",[],(e=function(e){null==e&&(e=g);if(r(e["$handles?"](b)))a.ret(e);else return g},e.$$s=this,e.$$arity=1,e));return this.$raise("Could not find a converter to handle transform: "+b)}catch(x){if(x===a.returner)return x.$v;
throw x;}},m.$$arity=1),g)&&"find_converter"})(l(b,"Converter"),k(l(b,"Converter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function m(a,b){return"number"===
typeof a&&"number"===typeof b?a<b:a["$<"](b)}var h=[],e=a.nil,q=a.const_get_qualified,r=a.const_get_relative,t=a.module,u=a.klass,n=a.send,c=a.hash2,f=a.truthy,y=a.gvars;a.add_stubs("$register_for $default= $- $== $[] $init_backend_traits $node_name $=== $convert_inline_quoted $convert_paragraph $convert_inline_anchor $convert_section $convert_listing $convert_literal $convert_ulist $convert_olist $convert_dlist $convert_admonition $convert_colist $convert_embedded $convert_example $convert_floating_title $convert_image $convert_inline_break $convert_inline_button $convert_inline_callout $convert_inline_footnote $convert_inline_image $convert_inline_indexterm $convert_inline_kbd $convert_inline_menu $convert_open $convert_page_break $convert_preamble $convert_quote $convert_sidebar $convert_stem $convert_table $convert_thematic_break $convert_verse $convert_video $convert_document $convert_toc $convert_pass $convert_audio $empty? $attr $attr? $<< $include? $sub_replacements $gsub $extname $slice $length $doctitle $normalize_web_path $primary_stylesheet_data $instance $read_contents $syntax_highlighter $size $docinfo $id $sections? $doctype $role? $role $join $noheader $convert $converter $generate_manname_section $header? $notitle $title $header $each $authors $> $name $email $sub_macros $+ $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $docinfo? $[]= $delete_at $inspect $!= $to_i $attributes $document $sections $level $caption $captioned_title $numbered $<= $< $sectname $sectnum $convert_outline $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_attribute_value $append_link_constraint_attrs $highlight? $to_sym $format $* $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $columns $to_h $rows $colspan $rowspan $unshift $shift $split $pop $nil_or_empty? $type $catalog $get_root_document $xreftext $target $reftext $chop $sub $match $private $upcase $nested? $parent_document $to_s $handles? $send".split(" "));
return function(d,h){d=[t(d,"Asciidoctor")].concat(h);(function(d,$super,h){d=u(d,$super,"Html5Converter");var p=[d].concat(h),v,t,F,z,E,A,B,D,G,H,J,K,L,O,I,M,U,P,Q,S,ba,W,aa,pa,X,ia,la,va,ha,sa,Ka,ua,Ha,Fa,Da,Sa,Qa,Oa,Ga,za,Ya,Pa,Va,Wa,ab,Xa,Y;h=e;d.$$prototype.void_element_slash=d.$$prototype.xml_mode=d.$$prototype.refs=d.$$prototype.resolving_xref=e;d.$register_for("html5");h=[["",""]];n(a.const_set(p[0],"QUOTE_TAGS",c("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),
{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",a.to_a(h));h[b(h.length,1)];a.const_set(p[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/);a.const_set(p[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);r(p,"RUBY_ENGINE")["$=="]("opal")?(a.const_set(p[0],
"SvgPreambleRx",new RegExp("^"+r(p,"CC_ALL")+"*?(?=<svg[\\s>])")),a.const_set(p[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/)):e;a.const_set(p[0],"DimensionAttributeRx",new RegExp("\\s(?:width|height|style)=([\"'])"+r(p,"CC_ANY")+"*?\\1"));a.def(d,"$initialize",v=function(a,b){null==b&&(b=c([],{}));this.backend=a;b["$[]"]("htmlsyntax")["$=="]("xml")?(a="xml",this.xml_mode=!0,this.void_element_slash="/"):(a="html",this.xml_mode=e,this.void_element_slash="");return this.$init_backend_traits(c(["basebackend",
"filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:a,outfilesuffix:".html",supports_templates:!0}))},v.$$arity=-2);a.def(d,"$convert",t=function(b,c,d){var f=t.$$p,g;f&&(t.$$p=null);var h=0;var k=arguments.length;for(g=Array(k);h<k;h++)g[h]=arguments[h];null==c&&(c=b.$node_name());null==d&&(d=e);h=c;return"inline_quoted"["$==="](h)?this.$convert_inline_quoted(b):"paragraph"["$==="](h)?this.$convert_paragraph(b):"inline_anchor"["$==="](h)?this.$convert_inline_anchor(b):
"section"["$==="](h)?this.$convert_section(b):"listing"["$==="](h)?this.$convert_listing(b):"literal"["$==="](h)?this.$convert_literal(b):"ulist"["$==="](h)?this.$convert_ulist(b):"olist"["$==="](h)?this.$convert_olist(b):"dlist"["$==="](h)?this.$convert_dlist(b):"admonition"["$==="](h)?this.$convert_admonition(b):"colist"["$==="](h)?this.$convert_colist(b):"embedded"["$==="](h)?this.$convert_embedded(b):"example"["$==="](h)?this.$convert_example(b):"floating_title"["$==="](h)?this.$convert_floating_title(b):
"image"["$==="](h)?this.$convert_image(b):"inline_break"["$==="](h)?this.$convert_inline_break(b):"inline_button"["$==="](h)?this.$convert_inline_button(b):"inline_callout"["$==="](h)?this.$convert_inline_callout(b):"inline_footnote"["$==="](h)?this.$convert_inline_footnote(b):"inline_image"["$==="](h)?this.$convert_inline_image(b):"inline_indexterm"["$==="](h)?this.$convert_inline_indexterm(b):"inline_kbd"["$==="](h)?this.$convert_inline_kbd(b):"inline_menu"["$==="](h)?this.$convert_inline_menu(b):
"open"["$==="](h)?this.$convert_open(b):"page_break"["$==="](h)?this.$convert_page_break(b):"preamble"["$==="](h)?this.$convert_preamble(b):"quote"["$==="](h)?this.$convert_quote(b):"sidebar"["$==="](h)?this.$convert_sidebar(b):"stem"["$==="](h)?this.$convert_stem(b):"table"["$==="](h)?this.$convert_table(b):"thematic_break"["$==="](h)?this.$convert_thematic_break(b):"verse"["$==="](h)?this.$convert_verse(b):"video"["$==="](h)?this.$convert_video(b):"document"["$==="](h)?this.$convert_document(b):
"toc"["$==="](h)?this.$convert_toc(b):"pass"["$==="](h)?this.$convert_pass(b):"audio"["$==="](h)?this.$convert_audio(b):n(this,a.find_super_dispatcher(this,"convert",t,!1),g,f)},t.$$arity=-2);a.def(d,"$convert_document",F=function(d){var h,l,m,w,q,v=e,t=e,u=e,x=e,y=e,F=e,z=e,E=e,A=e,B=E=e,D=e,I=E=E=E=e,G=e,H=B=G=e,J=e,K=e;t=t=F=e;v="<br"+(t=this.void_element_slash)+">";f((u=d.$attr("asset-uri-scheme","https"))["$empty?"]())||(u=""+u+":");x=""+u+"//cdnjs.cloudflare.com/ajax/libs";y=d["$attr?"]("linkcss");
F=f(d["$attr?"]("max-width"))?' style="max-width: '+d.$attr("max-width")+';"':"";z=["<!DOCTYPE html>"];E=f(d["$attr?"]("nolang"))?"":' lang="'+d.$attr("lang","en")+'"';z["$<<"]("<html"+(f(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+E+">");z["$<<"]('<head>\n<meta charset="'+d.$attr("encoding","UTF-8")+'"'+t+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+t+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+t+'>\n<meta name="generator" content="Asciidoctor '+
d.$attr("asciidoctor-version")+'"'+t+">");if(f(d["$attr?"]("app-name")))z["$<<"]('<meta name="application-name" content="'+d.$attr("app-name")+'"'+t+">");if(f(d["$attr?"]("description")))z["$<<"]('<meta name="description" content="'+d.$attr("description")+'"'+t+">");if(f(d["$attr?"]("keywords")))z["$<<"]('<meta name="keywords" content="'+d.$attr("keywords")+'"'+t+">");if(f(d["$attr?"]("authors")))z["$<<"]('<meta name="author" content="'+(f((A=d.$sub_replacements(d.$attr("authors")))["$include?"]("<"))?
A.$gsub(r(p,"XmlSanitizeRx"),""):A)+'"'+t+">");if(f(d["$attr?"]("copyright")))z["$<<"]('<meta name="copyright" content="'+d.$attr("copyright")+'"'+t+">");f(d["$attr?"]("favicon"))&&(f((E=d.$attr("favicon"))["$empty?"]())?(E="favicon.ico",B="image/x-icon"):B=f(D=r(p,"Helpers").$extname(E,e))?D["$=="](".ico")?"image/x-icon":"image/"+D.$slice(1,D.$length()):"image/x-icon",z["$<<"]('<link rel="icon" type="'+B+'" href="'+E+'"'+t+">"));z["$<<"]("<title>"+d.$doctitle(c(["sanitize","use_fallback"],{sanitize:!0,
use_fallback:!0}))+"</title>");if(f(r(p,"DEFAULT_STYLESHEET_KEYS")["$include?"](d.$attr("stylesheet")))){if(f(E=d.$attr("webfonts")))z["$<<"]('<link rel="stylesheet" href="'+u+"//fonts.googleapis.com/css?family="+(f(E["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":E)+'"'+t+">");if(f(y))z["$<<"]('<link rel="stylesheet" href="'+d.$normalize_web_path(r(p,"DEFAULT_STYLESHEET_NAME"),d.$attr("stylesdir",""),!1)+'"'+
t+">");else z["$<<"]("<style>\n"+r(p,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")}else if(f(d["$attr?"]("stylesheet")))if(f(y))z["$<<"]('<link rel="stylesheet" href="'+d.$normalize_web_path(d.$attr("stylesheet"),d.$attr("stylesdir",""))+'"'+t+">");else z["$<<"]("<style>\n"+d.$read_contents(d.$attr("stylesheet"),c(["start","warn_on_failure","label"],{start:d.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(f(d["$attr?"]("icons","font")))if(f(d["$attr?"]("iconfont-remote")))z["$<<"]('<link rel="stylesheet" href="'+
d.$attr("iconfont-cdn",""+x+"/font-awesome/"+r(p,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+t+">");else E=""+d.$attr("iconfont-name","font-awesome")+".css",z["$<<"]('<link rel="stylesheet" href="'+d.$normalize_web_path(E,d.$attr("stylesdir",""),!1)+'"'+t+">");if(f(E=d.$syntax_highlighter()))z["$<<"](I=z.$size());if(!f((G=d.$docinfo())["$empty?"]()))z["$<<"](G);z["$<<"]("</head>");G=f(d.$id())?' id="'+d.$id()+'"':"";H=f(f(h=f(l=f(m=B=d["$sections?"]())?d["$attr?"]("toc-class"):m)?d["$attr?"]("toc"):
l)?d["$attr?"]("toc-placement","auto"):h)?[d.$doctype(),d.$attr("toc-class"),"toc-"+d.$attr("toc-position","header")]:[d.$doctype()];if(f(d["$role?"]()))H["$<<"](d.$role());z["$<<"]("<body"+G+' class="'+H.$join(" ")+'">');if(!f((G=d.$docinfo("header"))["$empty?"]()))z["$<<"](G);if(!f(d.$noheader())){z["$<<"]('<div id="header"'+F+">");if(d.$doctype()["$=="]("manpage")){z["$<<"]("<h1>"+d.$doctitle()+" Manual Page</h1>");if(f(f(h=f(l=B)?d["$attr?"]("toc"):l)?d["$attr?"]("toc-placement","auto"):h))z["$<<"]('<div id="toc" class="'+
d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+"</div>\n"+d.$converter().$convert(d,"outline")+"\n</div>");if(f(d["$attr?"]("manpurpose")))z["$<<"](this.$generate_manname_section(d))}else{if(f(d["$header?"]())){if(!f(d.$notitle()))z["$<<"]("<h1>"+d.$header().$title()+"</h1>");J=[];K=1;n(d.$authors(),"each",[],(w=function(a){null==a&&(a=e);J["$<<"]('<span id="author'+(f(g(K,1))?K:"")+'" class="author">'+d.$sub_replacements(a.$name())+"</span>"+v);if(f(a.$email()))J["$<<"]('<span id="email'+
(f(g(K,1))?K:"")+'" class="email">'+d.$sub_macros(a.$email())+"</span>"+v);return K=k(K,1)},w.$$s=this,w.$$arity=1,w));if(f(d["$attr?"]("revnumber")))J["$<<"]('<span id="revnumber">'+(f(h=d.$attr("version-label"))?h:"").$downcase()+" "+d.$attr("revnumber")+(f(d["$attr?"]("revdate"))?",":"")+"</span>");if(f(d["$attr?"]("revdate")))J["$<<"]('<span id="revdate">'+d.$attr("revdate")+"</span>");if(f(d["$attr?"]("revremark")))J["$<<"](""+v+'<span id="revremark">'+d.$attr("revremark")+"</span>");f(J["$empty?"]())||
(z["$<<"]('<div class="details">'),z.$concat(J),z["$<<"]("</div>"))}if(f(f(h=f(l=B)?d["$attr?"]("toc"):l)?d["$attr?"]("toc-placement","auto"):h))z["$<<"]('<div id="toc" class="'+d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+"</div>\n"+d.$converter().$convert(d,"outline")+"\n</div>")}z["$<<"]("</div>")}z["$<<"]('<div id="content"'+F+">\n"+d.$content()+"\n</div>");f(f(h=d["$footnotes?"]())?d["$attr?"]("nofootnotes")["$!"]():h)&&(z["$<<"]('<div id="footnotes"'+F+">\n<hr"+
t+">"),n(d.$footnotes(),"each",[],(q=function(a){null==a&&(a=e);return z["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},q.$$s=this,q.$$arity=1,q)),z["$<<"]("</div>"));if(!f(d.$nofooter())){z["$<<"]('<div id="footer"'+F+">");z["$<<"]('<div id="footer-text">');if(f(d["$attr?"]("revnumber")))z["$<<"](""+d.$attr("version-label")+" "+d.$attr("revnumber")+v);if(f(f(h=d["$attr?"]("last-update-label"))?d["$attr?"]("reproducible")["$!"]():
h))z["$<<"](""+d.$attr("last-update-label")+" "+d.$attr("docdatetime"));z["$<<"]("</div>");z["$<<"]("</div>")}if(f(E)&&(f(E["$docinfo?"]("head"))?(F=[I,E.$docinfo("head",d,c(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:x,linkcss:y,self_closing_tag_slash:t}))],n(z,"[]=",a.to_a(F)),F[b(F.length,1)]):z.$delete_at(I),f(E["$docinfo?"]("footer"))))z["$<<"](E.$docinfo("footer",d,c(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:x,linkcss:y,self_closing_tag_slash:t})));
f(d["$attr?"]("stem"))&&(t=d.$attr("eqnums","none"),f(t["$empty?"]())&&(t="AMS"),t=' equationNumbers: { autoNumber: "'+t+'" } ',z["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+r(p,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+r(p,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+r(p,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+
'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+t+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n\x3c/script>\n<script src="'+x+"/mathjax/"+r(p,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));
if(!f((G=d.$docinfo("footer"))["$empty?"]()))z["$<<"](G);z["$<<"]("</body>");z["$<<"]("</html>");return z.$join(r(p,"LF"))},F.$$arity=1);a.def(d,"$convert_embedded",z=function(a){var b,c,d,g,h=e,k=e,l=e;h=[];if(a.$doctype()["$=="]("manpage")){if(f(a.$notitle())||(k=f(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$doctitle()+" Manual Page</h1>")),f(a["$attr?"]("manpurpose")))h["$<<"](this.$generate_manname_section(a))}else f(f(b=a["$header?"]())?a.$notitle()["$!"]():b)&&(k=f(a.$id())?' id="'+
a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$header().$title()+"</h1>"));if(f(f(b=f(c=f(d=a["$sections?"]())?a["$attr?"]("toc"):d)?(l=a.$attr("toc-placement"))["$!="]("macro"):c)?l["$!="]("preamble"):b))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+a.$converter().$convert(a,"outline")+"\n</div>");h["$<<"](a.$content());f(f(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(h["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),n(a.$footnotes(),
"each",[],(g=function(a){null==a&&(a=e);return h["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),h["$<<"]("</div>"));return h.$join(r(p,"LF"))},z.$$arity=1);a.def(d,"$convert_outline",E=function(a,b){var d,g,h,k=e,w=e,q=e,v=e;null==b&&(b=c([],{}));if(!f(a["$sections?"]()))return e;k=f(d=b["$[]"]("sectnumlevels"))?d:(f(g=a.$document().$attributes()["$[]"]("sectnumlevels"))?
g:3).$to_i();w=f(d=b["$[]"]("toclevels"))?d:(f(g=a.$document().$attributes()["$[]"]("toclevels"))?g:2).$to_i();q=a.$sections();v=['<ul class="sectlevel'+q["$[]"](0).$level()+'">'];n(q,"each",[],(h=function(b){var d=h.$$s||this,g,n=e,q=e;null==b&&(b=e);var t=b.$level();if(f(b.$caption()))var u=b.$captioned_title();else f(f(g=b.$numbered())?l(t,k):g)?f(f(g=m(t,2))?a.$document().$doctype()["$=="]("book"):g)?(u=b.$sectname(),u="chapter"["$==="](u)?(f(n=a.$document().$attributes()["$[]"]("chapter-signifier"))?
""+n+" ":"")+b.$sectnum()+" "+b.$title():"part"["$==="](u)?(f(n=a.$document().$attributes()["$[]"]("part-signifier"))?""+n+" ":"")+b.$sectnum(e,":")+" "+b.$title():""+b.$sectnum()+" "+b.$title()):u=""+b.$sectnum()+" "+b.$title():u=b.$title();f(u["$include?"]("<a"))&&(u=u.$gsub(r(p,"DropAnchorRx"),""));return f(f(g=m(t,w))?q=d.$convert_outline(b,c(["toclevels","sectnumlevels"],{toclevels:w,sectnumlevels:k})):g)?(v["$<<"]('<li><a href="#'+b.$id()+'">'+u+"</a>"),v["$<<"](q),v["$<<"]("</li>")):v["$<<"]('<li><a href="#'+
b.$id()+'">'+u+"</a></li>")},h.$$s=this,h.$$arity=1,h));v["$<<"]("</ul>");return v.$join(r(p,"LF"))},E.$$arity=-2);a.def(d,"$convert_section",A=function(a){var b,c=e,d=e;var g=a.$document().$attributes();var h=a.$level();if(f(a.$caption()))var n=a.$captioned_title();else f(f(n=a.$numbered())?l(h,(f(b=g["$[]"]("sectnumlevels"))?b:3).$to_i()):n)?f(f(n=m(h,2))?a.$document().$doctype()["$=="]("book"):n)?(n=a.$sectname(),n="chapter"["$==="](n)?(f(c=g["$[]"]("chapter-signifier"))?""+c+" ":"")+a.$sectnum()+
" "+a.$title():"part"["$==="](n)?(f(c=g["$[]"]("part-signifier"))?""+c+" ":"")+a.$sectnum(e,":")+" "+a.$title():""+a.$sectnum()+" "+a.$title()):n=""+a.$sectnum()+" "+a.$title():n=a.$title();f(a.$id())?(c=' id="'+(b=a.$id())+'"',f(g["$[]"]("sectlinks"))&&(n='<a class="link" href="#'+b+'">'+n+"</a>"),f(g["$[]"]("sectanchors"))&&(n=g["$[]"]("sectanchors")["$=="]("after")?""+n+'<a class="anchor" href="#'+b+'"></a>':'<a class="anchor" href="#'+b+'"></a>'+n)):c="";return h["$=="](0)?"<h1"+c+' class="sect0'+
(f(d=a.$role())?" "+d:"")+'">'+n+"</h1>\n"+a.$content():'<div class="sect'+h+(f(d=a.$role())?" "+d:"")+'">\n<h'+k(h,1)+c+">"+n+"</h"+k(h,1)+">\n"+(h["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},A.$$arity=1);a.def(d,"$convert_admonition",B=function(a){var b,c=e;var d=f(a.$id())?' id="'+a.$id()+'"':"";var g=a.$attr("name");var h=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var k=f(a.$document()["$attr?"]("icons"))?f(f(b=a.$document()["$attr?"]("icons",
"font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+g+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(g)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+d+' class="admonitionblock '+g+(f(c=a.$role())?" "+c:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+k+'\n</td>\n<td class="content">\n'+h+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},B.$$arity=1);a.def(d,"$convert_audio",D=function(a){var b;
var c=this.xml_mode;var e=f(a.$id())?' id="'+a.$id()+'"':"";var d=' class="'+["audioblock",a.$role()].$compact().$join(" ")+'"';var g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=a.$attr("start");var k=a.$attr("end");h=f(f(b=h)?b:k)?"#t="+(f(b=h)?b:"")+(f(k)?","+k:""):"";return"<div"+e+d+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+h+'"'+(f(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",c):"")+(f(a["$option?"]("nocontrols"))?
"":this.$append_boolean_attribute("controls",c))+(f(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},D.$$arity=1);a.def(d,"$convert_colist",G=function(a){var b,c=e,d=e,g=e,h=g=e,l=e;c=[];d=f(a.$id())?' id="'+a.$id()+'"':"";g=["colist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';c["$<<"]("<div"+d+g+">");if(f(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");if(f(a.$document()["$attr?"]("icons"))){c["$<<"]("<table>");
var m=[a.$document()["$attr?"]("icons","font"),0];h=m[0];l=m[1];m;n(a.$items(),"each",[],(b=function(d){var g=b.$$s||this;null==g.void_element_slash&&(g.void_element_slash=e);null==d&&(d=e);l=k(l,1);g=f(h)?'<i class="conum" data-value="'+l+'"></i><b>'+l+"</b>":'<img src="'+a.$icon_uri("callouts/"+l)+'" alt="'+l+'"'+g.void_element_slash+">";return c["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+d.$text()+(f(d["$blocks?"]())?k(r(p,"LF"),d.$content()):"")+"</td>\n</tr>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</table>")}else c["$<<"]("<ol>"),
n(a.$items(),"each",[],(m=function(a){null==a&&(a=e);return c["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(f(a["$blocks?"]())?k(r(p,"LF"),a.$content()):"")+"\n</li>")},m.$$s=this,m.$$arity=1,m)),c["$<<"]("</ol>");c["$<<"]("</div>");return c.$join(r(p,"LF"))},G.$$arity=1);a.def(d,"$convert_dlist",H=function(a){var b,c,d,g,h=e,k=e,l=e,m=l=l=e,q=k=e;h=[];k=f(a.$id())?' id="'+a.$id()+'"':"";l=a.$style();l="qanda"["$==="](l)?["qlist","qanda",a.$role()]:"horizontal"["$==="](l)?["hdlist",a.$role()]:["dlist",a.$style(),
a.$role()];l=' class="'+l.$compact().$join(" ")+'"';h["$<<"]("<div"+k+l+">");if(f(a["$title?"]()))h["$<<"]('<div class="title">'+a.$title()+"</div>");l=a.$style();"qanda"["$==="](l)?(h["$<<"]("<ol>"),n(a.$items(),"each",[],(b=function(a,c){var d=b.$$s||this,g;null==a&&(a=e);null==c&&(c=e);h["$<<"]("<li>");n(a,"each",[],(g=function(a){null==a&&(a=e);return h["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=d,g.$$arity=1,g));if(f(c)){if(f(c["$text?"]()))h["$<<"]("<p>"+c.$text()+"</p>");if(f(c["$blocks?"]()))h["$<<"](c.$content())}return h["$<<"]("</li>")},
b.$$s=this,b.$$arity=2,b)),h["$<<"]("</ol>")):"horizontal"["$==="](l)?(m=this.void_element_slash,h["$<<"]("<table>"),f(f(c=a["$attr?"]("labelwidth"))?c:a["$attr?"]("itemwidth"))&&(h["$<<"]("<colgroup>"),k=f(a["$attr?"]("labelwidth"))?' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+k+m+">"),k=f(a["$attr?"]("itemwidth"))?' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+k+m+">"),h["$<<"]("</colgroup>")),n(a.$items(),"each",[],(d=function(b,c){var g=
d.$$s||this,k,l=e;null==b&&(b=e);null==c&&(c=e);h["$<<"]("<tr>");h["$<<"]('<td class="hdlist1'+(f(a["$option?"]("strong"))?" strong":"")+'">');l=!0;n(b,"each",[],(k=function(a){null==a&&(a=e);if(!f(l))h["$<<"]("<br"+m+">");h["$<<"](a.$text());return l=e},k.$$s=g,k.$$arity=1,k));h["$<<"]("</td>");h["$<<"]('<td class="hdlist2">');if(f(c)){if(f(c["$text?"]()))h["$<<"]("<p>"+c.$text()+"</p>");if(f(c["$blocks?"]()))h["$<<"](c.$content())}h["$<<"]("</td>");return h["$<<"]("</tr>")},d.$$s=this,d.$$arity=
2,d)),h["$<<"]("</table>")):(h["$<<"]("<dl>"),q=f(a.$style())?"":' class="hdlist1"',n(a.$items(),"each",[],(g=function(a,b){var c=g.$$s||this,d;null==a&&(a=e);null==b&&(b=e);n(a,"each",[],(d=function(a){null==a&&(a=e);return h["$<<"]("<dt"+q+">"+a.$text()+"</dt>")},d.$$s=c,d.$$arity=1,d));if(!f(b))return e;h["$<<"]("<dd>");if(f(b["$text?"]()))h["$<<"]("<p>"+b.$text()+"</p>");if(f(b["$blocks?"]()))h["$<<"](b.$content());return h["$<<"]("</dd>")},g.$$s=this,g.$$arity=2,g)),h["$<<"]("</dl>"));h["$<<"]("</div>");
return h.$join(r(p,"LF"))},H.$$arity=1);a.def(d,"$convert_example",J=function(a){var b=e;var c=f(a.$id())?' id="'+a.$id()+'"':"";if(f(a["$option?"]("collapsible"))){var d=f(a.$role())?' class="'+a.$role()+'"':"";b=f(a["$title?"]())?'<summary class="title">'+a.$title()+"</summary>":'<summary class="title">Details</summary>';return"<details"+c+d+(f(a["$option?"]("open"))?" open":"")+">\n"+b+'\n<div class="content">\n'+a.$content()+"\n</div>\n</details>"}d=f(a["$title?"]())?'<div class="title">'+a.$captioned_title()+
"</div>\n":"";return"<div"+c+' class="exampleblock'+(f(b=a.$role())?" "+b:"")+'">\n'+d+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},J.$$arity=1);a.def(d,"$convert_floating_title",K=function(a){var b="h"+k(a.$level(),1);var c=f(a.$id())?' id="'+a.$id()+'"':"";var e=[a.$style(),a.$role()].$compact();return"<"+b+c+' class="'+e.$join(" ")+'">'+a.$title()+"</"+b+">"},K.$$arity=1);a.def(d,"$convert_image",L=function(a){var b,c;var e=a.$attr("target");var d=f(a["$attr?"]("width"))?' width="'+
a.$attr("width")+'"':"";var g=f(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";f(f(b=f(c=a["$attr?"]("format","svg"))?c:e["$include?"](".svg"))?m(a.$document().$safe(),q(r(p,"SafeMode"),"SECURE")):b)?f(a["$option?"]("inline"))?e=f(b=this.$read_svg_contents(a,e))?b:'<span class="alt">'+a.$alt()+"</span>":f(a["$option?"]("interactive"))?(b=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+d+g+this.void_element_slash+
">":'<span class="alt">'+a.$alt()+"</span>",e='<object type="image/svg+xml" data="'+a.$image_uri(e)+'"'+d+g+">"+b+"</object>"):e='<img src="'+a.$image_uri(e)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+d+g+this.void_element_slash+">":e='<img src="'+a.$image_uri(e)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+d+g+this.void_element_slash+">";f(a["$attr?"]("link"))&&(e='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+e+"</a>");b=f(a.$id())?
' id="'+a.$id()+'"':"";d=["imageblock"];if(f(a["$attr?"]("float")))d["$<<"](a.$attr("float"));if(f(a["$attr?"]("align")))d["$<<"]("text-"+a.$attr("align"));if(f(a.$role()))d["$<<"](a.$role());d=' class="'+d.$join(" ")+'"';a=f(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+b+d+'>\n<div class="content">\n'+e+"\n</div>"+a+"\n</div>"},L.$$arity=1);a.def(d,"$convert_listing",O=function(d){var g,h=e,l=e,m=e,p=e,q=e,r=e,v=e;var w=f(g=d["$option?"]("nowrap"))?g:d.$document()["$attr?"]("prewrap")["$!"]();
d.$style()["$=="]("source")?(h=d.$attr("language"),f(l=d.$document().$syntax_highlighter())?(m=f(l["$highlight?"]())?c(["css_mode","style"],{css_mode:(f(g=(p=d.$document().$attributes())["$[]"](""+l.$name()+"-css"))?g:"class").$to_sym(),style:p["$[]"](""+l.$name()+"-style")}):c([],{}),w=["nowrap",w],n(m,"[]=",a.to_a(w)),w[b(w.length,1)]):(q='<pre class="highlight'+(f(w)?" nowrap":"")+'"><code'+(f(h)?' class="language-'+h+'" data-lang="'+h+'"':"")+">",r="</code></pre>")):(q="<pre"+(f(w)?' class="nowrap"':
"")+">",r="</pre>");w=f(d.$id())?' id="'+d.$id()+'"':"";p=f(d["$title?"]())?'<div class="title">'+d.$captioned_title()+"</div>\n":"";return"<div"+w+' class="listingblock'+(f(v=d.$role())?" "+v:"")+'">\n'+p+'<div class="content">\n'+(f(l)?l.$format(d,h,m):k(k(q,f(g=d.$content())?g:""),r))+"\n</div>\n</div>"},O.$$arity=1);a.def(d,"$convert_literal",I=function(a){var b,c=e;var d=f(a.$id())?' id="'+a.$id()+'"':"";var g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=f(b=a.$document()["$attr?"]("prewrap")["$!"]())?
b:a["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(f(c=a.$role())?" "+c:"")+'">\n'+g+'<div class="content">\n<pre'+(f(h)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},I.$$arity=1);a.def(d,"$convert_stem",M=function(c){var d,g,h=e,k=e,l=e,m=e,q=e,v=d=e,w=e;h=f(c.$id())?' id="'+c.$id()+'"':"";k=f(c["$title?"]())?'<div class="title">'+c.$title()+"</div>\n":"";d=r(p,"BLOCK_MATH_DELIMITERS")["$[]"](l=c.$style().$to_sym());var t=a.to_ary(d);m=null==t[0]?e:t[0];q=null==t[1]?
e:t[1];d;f(d=c.$content())?(f((t=l["$=="]("asciimath"))?d["$include?"](r(p,"LF")):l["$=="]("asciimath"))&&(v=""+r(p,"LF")+"<br"+this.void_element_slash+">",d=n(d,"gsub",[r(p,"StemBreakRx")],(g=function(){var a,c=""+q,d=b(((a=y["~"])===e?e:a["$[]"](0)).$count(r(p,"LF")),1);a="number"===typeof v&&"number"===typeof d?v*d:v["$*"](d);return c+a+r(p,"LF")+m},g.$$s=this,g.$$arity=0,g))),f(f(t=d["$start_with?"](m))?d["$end_with?"](q):t)||(d=""+m+d+q)):d="";return"<div"+h+' class="stemblock'+(f(w=c.$role())?
" "+w:"")+'">\n'+k+'<div class="content">\n'+d+"\n</div>\n</div>"},M.$$arity=1);a.def(d,"$convert_olist",U=function(a){var b,c=e,d=e,g=e,h=d=g=e,k=g=e;c=[];d=f(a.$id())?' id="'+a.$id()+'"':"";g=["olist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';c["$<<"]("<div"+d+g+">");if(f(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");d=f(h=a.$list_marker_keyword())?' type="'+h+'"':"";g=f(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";k=f(a["$option?"]("reversed"))?
this.$append_boolean_attribute("reversed",this.xml_mode):"";c["$<<"]('<ol class="'+a.$style()+'"'+d+g+k+">");n(a.$items(),"each",[],(b=function(a){null==a&&(a=e);if(f(a.$id()))c["$<<"]('<li id="'+a.$id()+'"'+(f(a.$role())?' class="'+a.$role()+'"':"")+">");else if(f(a.$role()))c["$<<"]('<li class="'+a.$role()+'">');else c["$<<"]("<li>");c["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ol>");c["$<<"]("</div>");
return c.$join(r(p,"LF"))},U.$$arity=1);a.def(d,"$convert_open",P=function(a){var b,c,d=e;if((c=a.$style())["$=="]("abstract")){if(f(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),"";var h=f(a.$id())?' id="'+a.$id()+'"':"";var k=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+
h+' class="quoteblock abstract'+(f(d=a.$role())?" "+d:"")+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(f((b=c["$=="]("partintro"))?f(h=f(k=g(a.$level(),0))?k:a.$parent().$context()["$!="]("section"))?h:a.$document().$doctype()["$!="]("book"):c["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),"";h=f(a.$id())?' id="'+a.$id()+'"':"";k=f(a["$title?"]())?'<div class="title">'+
a.$title()+"</div>\n":"";return"<div"+h+' class="openblock'+(f(f(b=c)?c["$!="]("open"):b)?" "+c:"")+(f(d=a.$role())?" "+d:"")+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},P.$$arity=1);a.def(d,"$convert_page_break",Q=function(a){return'<div style="page-break-after: always;"></div>'},Q.$$arity=1);a.def(d,"$convert_paragraph",S=function(a){var b=f(a.$role())?(f(a.$id())?' id="'+a.$id()+'"':"")+' class="paragraph '+a.$role()+'"':f(a.$id())?' id="'+a.$id()+'" class="paragraph"':
' class="paragraph"';return f(a["$title?"]())?"<div"+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div"+b+">\n<p>"+a.$content()+"</p>\n</div>"},S.$$arity=1);a.alias(d,"convert_pass","content_only");a.def(d,"$convert_preamble",ba=function(a){var b,c,d=e;var g=f(f(b=f(c=(d=a.$document())["$attr?"]("toc-placement","preamble"))?d["$sections?"]():c)?d["$attr?"]("toc"):b)?'\n<div id="toc" class="'+d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+
"</div>\n"+d.$converter().$convert(d,"outline")+"\n</div>":"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},ba.$$arity=1);a.def(d,"$convert_quote",W=function(a){var b=f(a.$id())?' id="'+a.$id()+'"':"";var c=' class="'+["quoteblock",a.$role()].$compact().$join(" ")+'"';var d=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):e;var h=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):
e;if(f(f(g)?g:h)){var k=f(h)?"<cite>"+h+"</cite>":"";g=f(g)?"&#8212; "+g+(f(h)?"<br"+this.void_element_slash+">\n":""):"";k='\n<div class="attribution">\n'+g+k+"\n</div>"}else k="";return"<div"+b+c+">"+d+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+k+"\n</div>"},W.$$arity=1);a.def(d,"$convert_thematic_break",aa=function(a){return"<hr"+this.void_element_slash+">"},aa.$$arity=1);a.def(d,"$convert_sidebar",pa=function(a){var b=e;var c=f(a.$id())?' id="'+a.$id()+'"':"";var d=f(a["$title?"]())?'<div class="title">'+
a.$title()+"</div>\n":"";return"<div"+c+' class="sidebarblock'+(f(b=a.$role())?" "+b:"")+'">\n<div class="content">\n'+d+a.$content()+"\n</div>\n</div>"},pa.$$arity=1);a.def(d,"$convert_table",X=function(a){var b,c,d,h=e,l=e,m=e,q=m=e,v=q=e,t=e,w=m=t=e;h=[];l=f(a.$id())?' id="'+a.$id()+'"':"";(m=a.$attr("frame","all","table-frame"))["$=="]("topbot")&&(m="ends");m=["tableblock","frame-"+m,"grid-"+a.$attr("grid","all","table-grid")];if(f(q=a.$attr("stripes",e,"table-stripes")))m["$<<"]("stripes-"+q);
q="";if(f(f(b=v=a["$option?"]("autowidth"))?a["$attr?"]("width")["$!"]():b))m["$<<"]("fit-content");else if((t=a.$attr("tablepcwidth"))["$=="](100))m["$<<"]("stretch");else q=' style="width: '+t+'%;"';if(f(a["$attr?"]("float")))m["$<<"](a.$attr("float"));if(f(t=a.$role()))m["$<<"](t);m=' class="'+m.$join(" ")+'"';h["$<<"]("<table"+l+m+q+">");if(f(a["$title?"]()))h["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");f(g(a.$attr("rowcount"),0))&&(w=this.void_element_slash,h["$<<"]("<colgroup>"),
f(v)?h=k(h,r(p,"Array").$new(a.$columns().$size(),"<col"+w+">")):n(a.$columns(),"each",[],(c=function(a){null==a&&(a=e);return h["$<<"](f(a["$option?"]("autowidth"))?"<col"+w+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+w+">")},c.$$s=this,c.$$arity=1,c)),h["$<<"]("</colgroup>"),n(a.$rows().$to_h(),"each",[],(d=function(b,c){var g=d.$$s||this,k;null==b&&(b=e);null==c&&(c=e);if(f(c["$empty?"]()))return e;h["$<<"]("<t"+b+">");n(c,"each",[],(k=function(c){var d=k.$$s||this,g;null==c&&(c=e);h["$<<"]("<tr>");
n(c,"each",[],(g=function(c){var d,g=e;null==c&&(c=e);if(b["$=="]("head"))g=c.$text();else{var k=c.$style();g="asciidoc"["$==="](k)?'<div class="content">'+c.$content()+"</div>":"literal"["$==="](k)?'<div class="literal"><pre>'+c.$text()+"</pre></div>":f((g=c.$content())["$empty?"]())?"":'<p class="tableblock">'+g.$join('</p>\n<p class="tableblock">')+"</p>"}k=f(f(d=b["$=="]("head"))?d:c.$style()["$=="]("header"))?"th":"td";d=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+
'"';var l=f(c.$colspan())?' colspan="'+c.$colspan()+'"':"";c=f(c.$rowspan())?' rowspan="'+c.$rowspan()+'"':"";var n=f(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return h["$<<"]("<"+k+d+l+c+n+">"+g+"</"+k+">")},g.$$s=d,g.$$arity=1,g));return h["$<<"]("</tr>")},k.$$s=g,k.$$arity=1,k));return h["$<<"]("</t"+b+">")},d.$$s=this,d.$$arity=2,d)));h["$<<"]("</table>");return h.$join(r(p,"LF"))},X.$$arity=1);a.def(d,"$convert_toc",ia=function(a){var b,
d,g=e;if(!f(f(b=f(d=(g=a.$document())["$attr?"]("toc-placement","macro"))?g["$sections?"]():d)?g["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";f(a.$id())?(b=' id="'+a.$id()+'"',d=' id="'+a.$id()+'title"'):(b=' id="toc"',d=' id="toctitle"');var h=f(a["$title?"]())?a.$title():g.$attr("toc-title");var k=f(a["$attr?"]("levels"))?a.$attr("levels").$to_i():e;a=f(a["$role?"]())?a.$role():g.$attr("toc-class","toc");return"<div"+b+' class="'+a+'">\n<div'+d+' class="title">'+h+"</div>\n"+g.$converter().$convert(g,
"outline",c(["toclevels"],{toclevels:k}))+"\n</div>"},ia.$$arity=1);a.def(d,"$convert_ulist",la=function(a){var b,c=e,d=e,g=e,h=e,k=e,l=e,m=e;c=[];d=f(a.$id())?' id="'+a.$id()+'"':"";g=["ulist",a.$style(),a.$role()].$compact();h=k="";f(l=a["$option?"]("checklist"))?(g.$unshift(g.$shift(),"checklist"),m=' class="checklist"',f(a["$option?"]("interactive"))?f(this.xml_mode)?(h='<input type="checkbox" data-item-complete="1" checked="checked"/> ',k='<input type="checkbox" data-item-complete="0"/> '):(h=
'<input type="checkbox" data-item-complete="1" checked> ',k='<input type="checkbox" data-item-complete="0"> '):f(a.$document()["$attr?"]("icons","font"))?(h='<i class="fa fa-check-square-o"></i> ',k='<i class="fa fa-square-o"></i> '):(h="&#10003; ",k="&#10063; ")):m=f(a.$style())?' class="'+a.$style()+'"':"";c["$<<"]("<div"+d+' class="'+g.$join(" ")+'">');if(f(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");c["$<<"]("<ul"+m+">");n(a.$items(),"each",[],(b=function(a){var b;null==
a&&(a=e);if(f(a.$id()))c["$<<"]('<li id="'+a.$id()+'"'+(f(a.$role())?' class="'+a.$role()+'"':"")+">");else if(f(a.$role()))c["$<<"]('<li class="'+a.$role()+'">');else c["$<<"]("<li>");if(f(f(b=l)?a["$attr?"]("checkbox"):b))c["$<<"]("<p>"+(f(a["$attr?"]("checked"))?h:k)+a.$text()+"</p>");else c["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ul>");c["$<<"]("</div>");return c.$join(r(p,"LF"))},la.$$arity=1);
a.def(d,"$convert_verse",va=function(a){var b=f(a.$id())?' id="'+a.$id()+'"':"";var c=' class="'+["verseblock",a.$role()].$compact().$join(" ")+'"';var d=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):e;var h=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):e;if(f(f(g)?g:h)){var k=f(h)?"<cite>"+h+"</cite>":"";g=f(g)?"&#8212; "+g+(f(h)?"<br"+this.void_element_slash+">\n":""):"";k='\n<div class="attribution">\n'+g+k+"\n</div>"}else k=
"";return"<div"+b+c+">"+d+'\n<pre class="content">'+a.$content()+"</pre>"+k+"\n</div>"},va.$$arity=1);a.def(d,"$convert_video",ha=function(b){var c,d,g=this,h=e,k=e,l=e,n=e,m=e,p=e,q=e,v=e,r=e,t=e,w=e,u=e,x=e,y=e,z=e,F=e,E=e,A=e,B=e,D=e,I=e,G=e,H=e,J=e,K=e,L=e,O=e,M=e,U=e,P=e,T=e,Q=e,da=e,ca=e,ea=e,S=e,ba=e;h=g.xml_mode;k=f(b.$id())?' id="'+b.$id()+'"':"";l=["videoblock"];if(f(b["$attr?"]("float")))l["$<<"](b.$attr("float"));if(f(b["$attr?"]("align")))l["$<<"]("text-"+b.$attr("align"));if(f(b.$role()))l["$<<"](b.$role());
n=' class="'+l.$join(" ")+'"';m=f(b["$title?"]())?'\n<div class="title">'+b.$title()+"</div>":"";p=f(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':"";q=f(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':"";return function(){v=b.$attr("poster");if("vimeo"["$==="](v))return f((r=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(r=""+r+":"),t=f(b["$attr?"]("start"))?"#at="+b.$attr("start"):"",w=["?"],d=b.$attr("target").$split("/",2),c=a.to_ary(d),u=null==c[0]?e:c[0],x=
null==c[1]?e:c[1],d,y=f(x=f(c=x)?c:b.$attr("hash"))?""+(f(c=w.$pop())?c:"&amp;")+"h="+x:"",z=f(b["$option?"]("autoplay"))?""+(f(c=w.$pop())?c:"&amp;")+"autoplay=1":"",F=f(b["$option?"]("loop"))?""+(f(c=w.$pop())?c:"&amp;")+"loop=1":"",E=f(b["$option?"]("muted"))?""+(f(c=w.$pop())?c:"&amp;")+"muted=1":"","<div"+k+n+">"+m+'\n<div class="content">\n<iframe'+p+q+' src="'+r+"//player.vimeo.com/video/"+u+y+z+F+E+t+'" frameborder="0"'+(f(b["$option?"]("nofullscreen"))?"":g.$append_boolean_attribute("allowfullscreen",
h))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](v))return f((r=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(r=""+r+":"),A=f(b["$option?"]("related"))?1:0,B=f(b["$attr?"]("start"))?"&amp;start="+b.$attr("start"):"",D=f(b["$attr?"]("end"))?"&amp;end="+b.$attr("end"):"",z=f(b["$option?"]("autoplay"))?"&amp;autoplay=1":"",F=f(I=b["$option?"]("loop"))?"&amp;loop=1":"",G=f(b["$option?"]("muted"))?"&amp;mute=1":"",H=f(b["$option?"]("nocontrols"))?"&amp;controls=0":"",f(b["$option?"]("nofullscreen"))?
(J="&amp;fs=0",K=""):(J="",K=g.$append_boolean_attribute("allowfullscreen",h)),L=f(b["$option?"]("modest"))?"&amp;modestbranding=1":"",O=f(b["$attr?"]("theme"))?"&amp;theme="+b.$attr("theme"):"",M=f(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):"",d=b.$attr("target").$split("/",2),c=a.to_ary(d),u=null==c[0]?e:c[0],U=null==c[1]?e:c[1],d,f(U=f(c=U)?c:b.$attr("list"))?P="&amp;list="+U:(d=u.$split(",",2),c=a.to_ary(d),u=null==c[0]?e:c[0],T=null==c[1]?e:c[1],d,P=f(T=f(c=T)?c:b.$attr("playlist"))?"&amp;playlist="+
u+","+T:f(I)?"&amp;playlist="+u:""),"<div"+k+n+">"+m+'\n<div class="content">\n<iframe'+p+q+' src="'+r+"//www.youtube.com/embed/"+u+"?rel="+A+B+D+z+F+G+H+P+J+L+O+M+'" frameborder="0"'+K+"></iframe>\n</div>\n</div>";Q=f((da=b.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+b.$media_uri(da)+'"';ca=f((da=b.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+da+'"';ea=b.$attr("start");S=b.$attr("end");ba=f(f(c=ea)?c:S)?"#t="+(f(c=ea)?c:"")+(f(S)?","+S:""):"";return"<div"+k+n+">"+m+'\n<div class="content">\n<video src="'+
b.$media_uri(b.$attr("target"))+ba+'"'+p+q+Q+(f(b["$option?"]("autoplay"))?g.$append_boolean_attribute("autoplay",h):"")+(f(b["$option?"]("muted"))?g.$append_boolean_attribute("muted",h):"")+(f(b["$option?"]("nocontrols"))?"":g.$append_boolean_attribute("controls",h))+(f(b["$option?"]("loop"))?g.$append_boolean_attribute("loop",h):"")+ca+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},ha.$$arity=1);a.def(d,"$convert_inline_anchor",sa=function(a){var b,c,d=this,g=e,
h=e,k=e,l=e,n=e,m=e,q=e,v=e;return function(){g=a.$type();if("xref"["$==="](g))return f(h=a.$attributes()["$[]"]("path"))?(k=d.$append_link_constraint_attrs(a,f(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),l=f(b=a.$text())?b:h):(k=f(a.$role())?' class="'+a.$role()+'"':"",f(l=a.$text())||(f(r(p,"AbstractNode")["$==="](n=f(b=(d.refs=f(c=d.refs)?c:a.$document().$catalog()["$[]"]("refs"))["$[]"](m=a.$attributes()["$[]"]("refid")))?b:f(m["$nil_or_empty?"]())?q=d.$get_root_document(a):e))?f(f(b=d.resolving_xref=
f(c=d.resolving_xref)?c:v=!0)?v:b)?(f(l=n.$xreftext(a.$attr("xrefstyle",e,!0)))?f(l["$include?"]("<a"))&&(l=l.$gsub(r(p,"DropAnchorRx"),"")):l=f(q)?"[^top]":"["+m+"]",d.resolving_xref=e):l=f(q)?"[^top]":"["+m+"]":l="["+m+"]")),'<a href="'+a.$target()+'"'+k+">"+l+"</a>";if("ref"["$==="](g))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](g)){k=f(a.$id())?[' id="'+a.$id()+'"']:[];if(f(a.$role()))k["$<<"](' class="'+a.$role()+'"');if(f(a["$attr?"]("title")))k["$<<"](' title="'+a.$attr("title")+'"');
return'<a href="'+a.$target()+'"'+d.$append_link_constraint_attrs(a,k).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](g))return'<a id="'+a.$id()+'"></a>['+(f(b=a.$reftext())?b:a.$id())+"]";d.$logger().$warn("unknown anchor type: "+a.$type().$inspect());return e}()},sa.$$arity=1);a.def(d,"$convert_inline_break",Ka=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},Ka.$$arity=1);a.def(d,"$convert_inline_button",ua=function(a){return'<b class="button">'+a.$text()+"</b>"},ua.$$arity=
1);a.def(d,"$convert_inline_callout",Ha=function(a){if(f(a.$document()["$attr?"]("icons","font")))return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>";if(f(a.$document()["$attr?"]("icons"))){var b=a.$icon_uri("callouts/"+a.$text());return'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return f(q("::","Array")["$==="](b=a.$attributes()["$[]"]("guard")))?'&lt;!--<b class="conum">('+a.$text()+")</b>--&gt;":""+b+'<b class="conum">('+a.$text()+")</b>"},Ha.$$arity=
1);a.def(d,"$convert_inline_footnote",Fa=function(a){var b;if(f(b=a.$attr("index"))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>";a=f(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+a+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+
a.$text()+"]</sup>":e},Fa.$$arity=1);a.def(d,"$convert_inline_image",Da=function(a){var b,c,d,g,h=e;var k=a.$target();(d=f(b=a.$type())?b:"image")["$=="]("icon")?(g=a.$document().$attr("icons"))["$=="]("font")?(k="fa fa-"+k,f(a["$attr?"]("size"))&&(k=""+k+" fa-"+a.$attr("size")),f(a["$attr?"]("flip"))?k=""+k+" fa-flip-"+a.$attr("flip"):f(a["$attr?"]("rotate"))&&(k=""+k+" fa-rotate-"+a.$attr("rotate")),g=f(a["$attr?"]("title"))?' title="'+a.$attr("title")+'"':"",k='<i class="'+k+'"'+g+"></i>"):f(g)?
(g=f(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':"",f(a["$attr?"]("height"))&&(g=""+g+' height="'+a.$attr("height")+'"'),f(a["$attr?"]("title"))&&(g=""+g+' title="'+a.$attr("title")+'"'),k='<img src="'+a.$icon_uri(k)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+g+this.void_element_slash+">"):k="["+a.$alt()+"&#93;":(g=f(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':"",f(a["$attr?"]("height"))&&(g=""+g+' height="'+a.$attr("height")+'"'),f(a["$attr?"]("title"))&&(g=""+g+' title="'+
a.$attr("title")+'"'),f(f(b=f(c=a["$attr?"]("format","svg"))?c:k["$include?"](".svg"))?m(a.$document().$safe(),q(r(p,"SafeMode"),"SECURE")):b)?f(a["$option?"]("inline"))?k=f(b=this.$read_svg_contents(a,k))?b:'<span class="alt">'+a.$alt()+"</span>":f(a["$option?"]("interactive"))?(b=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+g+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",k='<object type="image/svg+xml" data="'+
a.$image_uri(k)+'"'+g+">"+b+"</object>"):k='<img src="'+a.$image_uri(k)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+g+this.void_element_slash+">":k='<img src="'+a.$image_uri(k)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+g+this.void_element_slash+">");f(a["$attr?"]("link"))&&(k='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+k+"</a>");f(h=a.$role())?d=f(a["$attr?"]("float"))?""+d+" "+a.$attr("float")+" "+h:""+d+" "+h:f(a["$attr?"]("float"))&&
(d=""+d+" "+a.$attr("float"));return'<span class="'+d+'">'+k+"</span>"},Da.$$arity=1);a.def(d,"$convert_inline_indexterm",Sa=function(a){return a.$type()["$=="]("visible")?a.$text():""},Sa.$$arity=1);a.def(d,"$convert_inline_kbd",Qa=function(a){var b;return(b=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+b.$join("</kbd>+<kbd>")+"</kbd></span>"},Qa.$$arity=1);a.def(d,"$convert_inline_menu",Oa=function(a){var b=e,c=e;var d=f(a.$document()["$attr?"]("icons",
"font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ';var g="</b>"+d+'<b class="submenu">';var h=a.$attr("menu");return f((b=a.$attr("submenus"))["$empty?"]())?f(c=a.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+h+"</b>"+d+'<b class="menuitem">'+c+"</b></span>":'<b class="menuref">'+h+"</b>":'<span class="menuseq"><b class="menu">'+h+"</b>"+d+'<b class="submenu">'+b.$join(g)+"</b>"+d+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},
Oa.$$arity=1);a.def(d,"$convert_inline_quoted",Ga=function(b){var c=r(p,"QUOTE_TAGS")["$[]"](b.$type());var d=a.to_ary(c);var g=null==d[0]?e:d[0];var h=null==d[1]?e:d[1];d=null==d[2]?e:d[2];c;return f(b.$id())?(c=f(b.$role())?' class="'+b.$role()+'"':"",f(d)?""+g.$chop()+' id="'+b.$id()+'"'+c+">"+b.$text()+h:'<span id="'+b.$id()+'"'+c+">"+g+b.$text()+h+"</span>"):f(b.$role())?f(d)?""+g.$chop()+' class="'+b.$role()+'">'+b.$text()+h:'<span class="'+b.$role()+'">'+g+b.$text()+h+"</span>":""+g+b.$text()+
h},Ga.$$arity=1);a.def(d,"$read_svg_contents",za=function(b,d){var g,h=e,k=e,l=e,m=e;if(f(h=b.$read_contents(d,c(["start","normalize","label","warn_if_empty"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(f(h["$empty?"]()))return e;f(h["$start_with?"]("<svg"))||(h=h.$sub(r(p,"SvgPreambleRx"),""));k=l=m=e;n(["width","height"],"each",[],(g=function(a){var c,d;null==a&&(a=e);if(!f(b["$attr?"](a)))return e;if(!f(l)){if((m=f(c=m)?c:f(d=h.$match(r(p,"SvgStartTagRx")))?
d:"no_match")["$=="]("no_match"))return e;l=(k=m["$[]"](0)).$gsub(r(p,"DimensionAttributeRx"),"")}return l=""+l.$chop()+" "+a+'="'+b.$attr(a)+'">'},g.$$s=this,g.$$arity=1,g));f(l)&&(h=""+l+h["$[]"](a.Range.$new(k.$length(),-1,!1)))}return h},za.$$arity=2);d.$private();a.def(d,"$append_boolean_attribute",Ya=function(a,b){return f(b)?" "+a+'="'+a+'"':" "+a},Ya.$$arity=2);a.def(d,"$append_link_constraint_attrs",Pa=function(a,b){var c,d=e,g;null==b&&(b=[]);f(a["$option?"]("nofollow"))&&(d="nofollow");
if(f(g=a.$attributes()["$[]"]("window"))){if(b["$<<"](' target="'+g+'"'),f(f(c=g["$=="]("_blank"))?c:a["$option?"]("noopener")))b["$<<"](f(d)?' rel="'+d+' noopener"':' rel="noopener"')}else if(f(d))b["$<<"](' rel="'+d+'"');return b},Pa.$$arity=-2);a.def(d,"$encode_attribute_value",Va=function(a){return f(a["$include?"]('"'))?a.$gsub('"',"&quot;"):a},Va.$$arity=1);a.def(d,"$generate_manname_section",Wa=function(a){var b,c=e,d=e,g=e;var h=a.$attr("manname-title","Name");f(f(b=c=a.$sections()["$[]"](0))?
(d=c.$title())["$=="](d.$upcase()):b)&&(h=h.$upcase());return"<h2"+(f(g=a.$attr("manname-id"))?' id="'+g+'"':"")+">"+h+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("mannames").$join(", ")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Wa.$$arity=1);a.def(d,"$get_root_document",ab=function(a){for(;f((a=a.$document())["$nested?"]());)a=a.$parent_document();return a},ab.$$arity=1);a.def(d,"$method_missing",Xa=function(b,c){var d,g=Xa.$$p,h=e,k;g&&(Xa.$$p=null);var l=0;var m=arguments.length;for(k=Array(m);l<
m;l++)k[l]=arguments[l];l=a.slice.call(arguments,1,arguments.length);return f(f(d=(h=b.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](h):d)?n(this,"send",["convert_"+h].concat(a.to_a(l))):n(this,a.find_super_dispatcher(this,"method_missing",Xa,!1),k,g)},Xa.$$arity=-2);return(a.def(d,"$respond_to_missing?",Y=function(b,c){var d,g=e;a.slice.call(arguments,1,arguments.length);return f(d=(g=b.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](g):d},Y.$$arity=-2),e)&&"respond_to_missing?"})(r(d,
"Converter"),q(r(d,"Converter"),"Base"),d)}(h[0],h)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var m=[],h=a.nil,e=a.const_get_qualified,q=a.const_get_relative,r=a.module,t=a.klass,
u=a.truthy,n=a.hash2,c=a.send,f=a.hash;a.add_stubs("$== $[]= $config $- $const_defined? $singleton_class? $include $const_get $extend $attr_reader $merge $class $update $raise $document $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $assign_caption $=== $parse_blocks $empty? $include? $sub_attributes $parse $each $define_method $unshift $shift $send $size $binding $receiver $define_singleton_method $instance_exec $to_proc $call $option $flatten $respond_to? $to_s $partition $to_i $<< $compact $inspect $attr_accessor $to_set $match? $resolve_regexp $method $register $values $groups $arity $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $instance_variable_get $kind $private $join $map $split $capitalize $instance_variable_set $resolve_args $enable_dsl $singleton_class $process_block_given? $source_location $freeze $resolve_class $< $update_config $as_symbol $name $name= $pop $-@ $next_auto_id $generate_name".split(" "));
q(m,"RUBY_ENGINE")["$=="]("opal")||h;return function(d,m){d=[r(d,"Asciidoctor")].concat(m);(function(d,m){d=r(d,"Extensions");m=[d].concat(m);(function(d,$super,f){d=t(d,$super,"Processor");var l=[d].concat(f),m,p,r,v,x,y,z,E,A,B,F,D;d.$$prototype.config=h;(function(d,e){[d].concat(e);var f,g,k;a.def(d,"$config",f=function(){var a;null==this.config&&(this.config=h);return this.config=u(a=this.config)?a:n([],{})},f.$$arity=0);a.def(d,"$option",g=function(d,e){d=[d,e];c(this.$config(),"[]=",a.to_a(d));
return d[b(d.length,1)]},g.$$arity=2);a.def(d,"$enable_dsl",k=function(){return u(this["$const_defined?"]("DSL"))?u(this["$singleton_class?"]())?this.$include(this.$const_get("DSL")):this.$extend(this.$const_get("DSL")):h},k.$$arity=0);return a.alias(d,"use_dsl","enable_dsl")})(a.get_singleton_class(d),l);d.$attr_reader("config");a.def(d,"$initialize",m=function(a){null==a&&(a=n([],{}));return this.config=this.$class().$config().$merge(a)},m.$$arity=-1);a.def(d,"$update_config",p=function(a){return this.config.$update(a)},
p.$$arity=1);a.def(d,"$process",r=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(e("::","NotImplementedError"),""+q(l,"Processor")+" subclass "+this.$class()+" must implement the #process method")},r.$$arity=-1);a.def(d,"$create_section",v=function(d,e,f,m){var p,r,v,t=h,x=h;null==m&&(m=n([],{}));var y=d.$document();var z=(r=y.$doctype())["$=="]("book");var E=u(p=m["$[]"]("level"))?p:g(d.$level(),1);if(u(v=f.$delete("style")))if(u(u(p=z)?v["$=="]("abstract"):p)){p=["chapter",
1];var A=p[0];E=p[1];p}else p=[v,!0],A=p[0],t=p[1],p,E["$=="](0)&&(E=1);else u(z)?A=E["$=="](0)?"part":u(k(E,1))?"section":"chapter":u(r["$=="]("manpage")?e.$casecmp("synopsis")["$=="](0):r["$=="]("manpage"))?(p=["synopsis",!0],A=p[0],t=p[1],p):A="section";r=q(l,"Section").$new(d,E);p=[e,A];r["$title="](p[0]);r["$sectname="](p[1]);p;u(t)?(x=[!0],c(r,"special=",a.to_a(x)),x[b(x.length,1)],u(m.$fetch("numbered",v["$=="]("appendix")))?(x=[!0],c(r,"numbered=",a.to_a(x)),x[b(x.length,1)]):u(u(p=m["$key?"]("numbered")["$!"]())?
y["$attr?"]("sectnums","all"):p)&&(x=[u(u(p=z)?E["$=="](1):p)?"chapter":!0],c(r,"numbered=",a.to_a(x)),x[b(x.length,1)])):u(k(E,0))?u(m.$fetch("numbered",y["$attr?"]("sectnums")))&&(x=[u(r.$special())?u(p=d.$numbered())?!0:p:!0],c(r,"numbered=",a.to_a(x)),x[b(x.length,1)]):u(m.$fetch("numbered",u(p=z)?y["$attr?"]("partnums"):p))&&(x=[!0],c(r,"numbered=",a.to_a(x)),x[b(x.length,1)]);(d=f["$[]"]("id"))["$=="](!1)?f.$delete("id"):(x=[(x=["id",u(p=d)?p:u(y["$attr?"]("sectids"))?q(l,"Section").$generate_id(r.$title(),
y):h],c(f,"[]=",a.to_a(x)),x[b(x.length,1)])],c(r,"id=",a.to_a(x)),x[b(x.length,1)]);r.$update_attributes(f);return r},v.$$arity=-4);a.def(d,"$create_block",x=function(a,b,c,d,e){null==e&&(e=n([],{}));return q(l,"Block").$new(a,b,n(["source","attributes"],{source:c,attributes:d}).$merge(e))},x.$$arity=-5);a.def(d,"$create_list",y=function(a,b,c){null==c&&(c=h);a=q(l,"List").$new(a,b);u(c)&&a.$update_attributes(c);return a},y.$$arity=-3);a.def(d,"$create_list_item",z=function(a,b){null==b&&(b=h);return q(l,
"ListItem").$new(a,b)},z.$$arity=-2);a.def(d,"$create_image_block",E=function(d,f,g){var k,m,p=h;null==g&&(g=n([],{}));u(m=f["$[]"]("target"))||this.$raise(e("::","ArgumentError"),"Unable to create an image block, target attribute is required");u(k=f["$[]"]("alt"))?k:(p=["alt",(p=["default-alt",q(l,"Helpers").$basename(m,!0).$tr("_-"," ")],c(f,"[]=",a.to_a(p)),p[b(p.length,1)])],c(f,"[]=",a.to_a(p)),p[b(p.length,1)]);p=u(f["$key?"]("title"))?f.$delete("title"):h;d=this.$create_block(d,"image",h,f,
g);u(p)&&(p=[p],c(d,"title=",a.to_a(p)),p[b(p.length,1)],d.$assign_caption(f.$delete("caption"),"figure"));return d},E.$$arity=-3);a.def(d,"$create_inline",A=function(a,b,c,d){null==d&&(d=n([],{}));return q(l,"Inline").$new(a,b,c,b["$=="]("quoted")?n(["type"],{type:"unquoted"}).$merge(d):d)},A.$$arity=-4);a.def(d,"$parse_content",B=function(a,b,c){null==c&&(c=h);b=u(q(l,"Reader")["$==="](b))?b:q(l,"Reader").$new(b);q(l,"Parser").$parse_blocks(b,a,c);return a},B.$$arity=-3);a.def(d,"$parse_attributes",
F=function(a,b,c){var d;null==c&&(c=n([],{}));if(u(u(b)?b["$empty?"]():!0))return n([],{});u(u(d=c["$[]"]("sub_attributes"))?b["$include?"](q(l,"ATTR_REF_HEAD")):d)&&(b=a.$sub_attributes(b));return q(l,"AttributeList").$new(b).$parse(u(d=c["$[]"]("positional_attributes"))?d:[])},F.$$arity=-3);return c([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block",
"create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(D=function(b,d,e){var f=D.$$s||this,g;null==b&&(b=h);null==d&&(d=h);null==e&&(e=h);return c(f,"define_method",[b],(g=function(b){var f=g.$$s||this;var h=a.slice.call(arguments,0,arguments.length);h.$unshift(h.$shift(),e);return c(f,"send",[d].concat(a.to_a(h)))},g.$$s=f,g.$$arity=-1,g))},D.$$s=d,D.$$arity=3,D))})(m[0],null,
m);(function(d,f){d=r(d,"ProcessorDsl");[d].concat(f);var g,k,l;a.def(d,"$option",g=function(d,e){d=[d,e];c(this.$config(),"[]=",a.to_a(d));return d[b(d.length,1)]},g.$$arity=2);a.def(d,"$process",k=function(b){var d=k.$$p,f=d||h,g,l,n=h;null==this.process_block&&(this.process_block=h);d&&(k.$$p=null);d&&(k.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f!==h?(u(d["$empty?"]())||this.$raise(e("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),u(u(g=
f.$binding())?this["$=="](f.$binding().$receiver()):g)||(n=this,c(f,"define_singleton_method",["call"],(l=function(b){var d=a.slice.call(arguments,0,arguments.length);return c(n,"instance_exec",a.to_a(d),f.$to_proc())},l.$$s=this,l.$$arity=-1,l))),this.process_block=f):u((g=this.process_block,null!=g&&g!==h)?"instance-variable":h)?c(this.process_block,"call",a.to_a(d)):this.$raise(e("::","NotImplementedError"),""+this.$class()+" #process method called before being registered")},k.$$arity=-1);a.def(d,
"$process_block_given?",l=function(){var a;return(a=this.process_block,null!=a&&a!==h)?"instance-variable":h},l.$$arity=0)})(m[0],m);(function(b,c){b=r(b,"DocumentProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"ProcessorDsl"));a.def(b,"$prefer",d=function(){return this.$option("position",">>")},d.$$arity=0)})(m[0],m);(function(d,f){d=r(d,"SyntaxProcessorDsl");var g=[d].concat(f),l,m,p,v,t;d.$include(q(g,"ProcessorDsl"));a.def(d,"$named",l=function(a){return u(q(g,"Processor")["$==="](this))?
this.name=a:this.$option("name",a)},l.$$arity=1);a.def(d,"$content_model",m=function(a){return this.$option("content_model",a)},m.$$arity=1);a.alias(d,"parse_content_as","content_model");a.def(d,"$positional_attributes",p=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("positional_attrs",c.$flatten())},p.$$arity=-1);a.alias(d,"name_positional_attributes","positional_attributes");a.alias(d,"positional_attrs","positional_attributes");a.def(d,"$default_attributes",v=
function(a){return this.$option("default_attrs",a)},v.$$arity=1);a.alias(d,"default_attrs","default_attributes");a.def(d,"$resolve_attributes",t=function(d){var f,g,l,m=this,p=h,q=h,r=h;var v=a.slice.call(arguments,0,arguments.length);u(k(v.$size(),1))||u((v=v.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(v=[v]);return function(){p=v;return(!0)["$==="](p)?(m.$option("positional_attrs",[]),m.$option("default_attrs",n([],{}))):e("::","Array")["$==="](p)?(f=[[],n([],{})],q=f[0],r=f[1],f,c(v,"each",[],(g=
function(d){null==d&&(d=h);if(u((d=d.$to_s())["$include?"]("="))){var e=d.$partition("=");var f=a.to_ary(e);d=null==f[0]?h:f[0];var g=null==f[2]?h:f[2];e;if(u(d["$include?"](":"))){e=d.$partition(":");f=a.to_ary(e);var k=null==f[0]?h:f[0];d=null==f[2]?h:f[2];e;k=k["$=="]("@")?q.$size():k.$to_i();f=[k,d];c(q,"[]=",a.to_a(f));f[b(f.length,1)]}f=[d,g];c(r,"[]=",a.to_a(f));return f[b(f.length,1)]}return u(d["$include?"](":"))?(e=d.$partition(":"),f=a.to_ary(e),k=null==f[0]?h:f[0],d=null==f[2]?h:f[2],
e,k=k["$=="]("@")?q.$size():k.$to_i(),f=[k,d],c(q,"[]=",a.to_a(f)),f[b(f.length,1)]):q["$<<"](d)},g.$$s=m,g.$$arity=1,g)),m.$option("positional_attrs",q.$compact()),m.$option("default_attrs",r)):e("::","Hash")["$==="](p)?(f=[[],n([],{})],q=f[0],r=f[1],f,c(v,"each",[],(l=function(d,e){var f;null==d&&(d=h);null==e&&(e=h);if(u((f=d.$to_s())["$include?"](":"))){d=f.$partition(":");f=a.to_ary(d);var g=null==f[0]?h:f[0];f=null==f[2]?h:f[2];d;g=g["$=="]("@")?q.$size():g.$to_i();d=[g,f];c(q,"[]=",a.to_a(d));
d[b(d.length,1)]}return u(e)?(d=[f,e],c(r,"[]=",a.to_a(d)),d[b(d.length,1)]):h},l.$$s=m,l.$$arity=2,l)),m.$option("positional_attrs",q.$compact()),m.$option("default_attrs",r)):m.$raise(e("::","ArgumentError"),"unsupported attributes specification for macro: "+v.$inspect())}()},t.$$arity=-1);a.alias(d,"resolves_attributes","resolve_attributes")})(m[0],m);(function(b,$super,c){b=t(b,$super,"Preprocessor");var d=[b].concat(c),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(e("::","NotImplementedError"),
""+q(d,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),h)&&"process"})(m[0],q(m,"Processor"),m);a.const_set(q(m,"Preprocessor"),"DSL",q(m,"DocumentProcessorDsl"));(function(b,$super,c){b=t(b,$super,"TreeProcessor");var d=[b].concat(c),f;return(a.def(b,"$process",f=function(a){return this.$raise(e("::","NotImplementedError"),""+q(d,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=1),h)&&"process"})(m[0],q(m,
"Processor"),m);a.const_set(q(m,"TreeProcessor"),"DSL",q(m,"DocumentProcessorDsl"));a.const_set(m[0],"Treeprocessor",q(m,"TreeProcessor"));(function(b,$super,c){b=t(b,$super,"Postprocessor");var d=[b].concat(c),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(e("::","NotImplementedError"),""+q(d,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),h)&&"process"})(m[0],q(m,"Processor"),m);a.const_set(q(m,"Postprocessor"),"DSL",q(m,"DocumentProcessorDsl"));
(function(b,$super,c){b=t(b,$super,"IncludeProcessor");var d=[b].concat(c),f,g;a.def(b,"$process",f=function(a,b,c,f){return this.$raise(e("::","NotImplementedError"),""+q(d,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=4);return(a.def(b,"$handles?",g=function(a){return!0},g.$$arity=1),h)&&"handles?"})(m[0],q(m,"Processor"),m);(function(b,c){b=r(b,"IncludeProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"DocumentProcessorDsl"));a.def(b,"$handles?",
d=function(b){var c=d.$$p,f=c||h,g;null==this.handles_block&&(this.handles_block=h);c&&(d.$$p=null);c&&(d.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f!==h?(u(c["$empty?"]())||this.$raise(e("::","ArgumentError"),"wrong number of arguments (given "+c.$size()+", expected 0)"),this.handles_block=f):u((g=this.handles_block,null!=g&&g!==h)?"instance-variable":h)?this.handles_block.$call(c["$[]"](0)):!0},d.$$arity=-1)})(m[0],m);a.const_set(q(m,"IncludeProcessor"),"DSL",q(m,"IncludeProcessorDsl"));
(function(d,$super,f){d=t(d,$super,"DocinfoProcessor");var g=[d].concat(f),k,l;d.$$prototype.config=h;a.def(d,"$initialize",k=function(d){var e,f=h;k.$$p&&(k.$$p=null);null==d&&(d=n([],{}));c(this,a.find_super_dispatcher(this,"initialize",k,!1),[d],null);return u(e=this.config["$[]"]("location"))?e:(f=["location","head"],c(this.config,"[]=",a.to_a(f)),f[b(f.length,1)])},k.$$arity=-1);return(a.def(d,"$process",l=function(a){return this.$raise(e("::","NotImplementedError"),""+q(g,"DocinfoProcessor")+
" subclass "+this.$class()+" must implement the #process method")},l.$$arity=1),h)&&"process"})(m[0],q(m,"Processor"),m);(function(b,c){b=r(b,"DocinfoProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"DocumentProcessorDsl"));a.def(b,"$at_location",d=function(a){return this.$option("location",a)},d.$$arity=1)})(m[0],m);a.const_set(q(m,"DocinfoProcessor"),"DSL",q(m,"DocinfoProcessorDsl"));(function(d,$super,f){d=t(d,$super,"BlockProcessor");var g=[d].concat(f),k,l;d.$$prototype.config=h;d.$attr_accessor("name");
a.def(d,"$initialize",k=function(d,f){var g,l=h;k.$$p&&(k.$$p=null);null==d&&(d=h);null==f&&(f=n([],{}));c(this,a.find_super_dispatcher(this,"initialize",k,!1),[f],null);this.name=u(g=d)?g:this.config["$[]"]("name");d=this.config["$[]"]("contexts");e("::","NilClass")["$==="](d)?u(g=this.config["$[]"]("contexts"))?g:(l=["contexts",["open","paragraph"].$to_set()],c(this.config,"[]=",a.to_a(l)),l[b(l.length,1)]):(l=e("::","Symbol")["$==="](d)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",
this.config["$[]"]("contexts").$to_set()],c(this.config,"[]=",a.to_a(l)),l[b(l.length,1)]);return u(g=this.config["$[]"]("content_model"))?g:(l=["content_model","compound"],c(this.config,"[]=",a.to_a(l)),l[b(l.length,1)])},k.$$arity=-1);return(a.def(d,"$process",l=function(a,b,c){return this.$raise(e("::","NotImplementedError"),""+q(g,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3),h)&&"process"})(m[0],q(m,"Processor"),m);(function(b,c){b=r(b,"BlockProcessorDsl");
c=[b].concat(c);var d;b.$include(q(c,"SyntaxProcessorDsl"));a.def(b,"$contexts",d=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("contexts",c.$flatten().$to_set())},d.$$arity=-1);a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.alias(b,"bind_to","contexts")})(m[0],m);a.const_set(q(m,"BlockProcessor"),"DSL",q(m,"BlockProcessorDsl"));(function(d,$super,f){d=t(d,$super,"MacroProcessor");var g=[d].concat(f),k,l;d.$$prototype.config=h;d.$attr_accessor("name");
a.def(d,"$initialize",k=function(d,e){var f,g=h;k.$$p&&(k.$$p=null);null==d&&(d=h);null==e&&(e=n([],{}));c(this,a.find_super_dispatcher(this,"initialize",k,!1),[e],null);this.name=u(f=d)?f:this.config["$[]"]("name");return u(f=this.config["$[]"]("content_model"))?f:(g=["content_model","attributes"],c(this.config,"[]=",a.to_a(g)),g[b(g.length,1)])},k.$$arity=-1);return(a.def(d,"$process",l=function(a,b,c){return this.$raise(e("::","NotImplementedError"),""+q(g,"MacroProcessor")+" subclass "+this.$class()+
" must implement the #process method")},l.$$arity=3),h)&&"process"})(m[0],q(m,"Processor"),m);(function(b,d){b=r(b,"MacroProcessorDsl");d=[b].concat(d);var e;b.$include(q(d,"SyntaxProcessorDsl"));a.def(b,"$resolve_attributes",e=function(b){var d=e.$$p,f;d&&(e.$$p=null);var g=0;var h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];g=a.slice.call(arguments,0,arguments.length);if(u(g.$size()["$=="](1)?g["$[]"](0)["$!"]():g.$size()["$=="](1)))return this.$option("content_model","text");c(this,
a.find_super_dispatcher(this,"resolve_attributes",e,!1),f,d);return this.$option("content_model","attributes")},e.$$arity=-1);a.alias(b,"resolves_attributes","resolve_attributes")})(m[0],m);(function(b,$super,c){b=t(b,$super,"BlockMacroProcessor");var d=[b].concat(c),f;b.$$prototype.name=h;return(a.def(b,"$name",f=function(){u(q(d,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(e("::","ArgumentError"),"invalid name for block macro: "+this.name);return this.name},f.$$arity=0),h)&&"name"})(m[0],
q(m,"MacroProcessor"),m);a.const_set(q(m,"BlockMacroProcessor"),"DSL",q(m,"MacroProcessorDsl"));(function(d,$super,f){d=t(d,$super,"InlineMacroProcessor");var g=[d].concat(f),k,l;d.$$prototype.config=d.$$prototype.name=h;a.class_variable_set(g[0],"@@rx_cache",n([],{}));a.def(d,"$regexp",k=function(){var d,e=h;return u(d=this.config["$[]"]("regexp"))?d:(e=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],c(this.config,"[]=",a.to_a(e)),e[b(e.length,1)])},k.$$arity=0);return(a.def(d,
"$resolve_regexp",l=function(d,f){var k,l,n=h;u(q(g,"MacroNameRx")["$match?"](d))||this.$raise(e("::","ArgumentError"),"invalid name for inline macro: "+d);return u(k=(null==(l=g[0].$$cvars["@@rx_cache"])?h:l)["$[]"]([d,f]))?k:(n=[[d,f],new RegExp("\\\\?"+d+":"+(f["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|"+q(g,"CC_ANY")+"*?[^\\\\])\\]")],c(null==(l=g[0].$$cvars["@@rx_cache"])?h:l,"[]=",a.to_a(n)),n[b(n.length,1)])},l.$$arity=2),h)&&"resolve_regexp"})(m[0],q(m,"MacroProcessor"),m);(function(b,c){b=
r(b,"InlineMacroProcessorDsl");c=[b].concat(c);var d,e;b.$include(q(c,"MacroProcessorDsl"));a.def(b,"$format",d=function(a){return this.$option("format",a)},d.$$arity=1);a.alias(b,"match_format","format");a.alias(b,"using_format","format");a.def(b,"$match",e=function(a){return this.$option("regexp",a)},e.$$arity=1)})(m[0],m);a.const_set(q(m,"InlineMacroProcessor"),"DSL",q(m,"InlineMacroProcessorDsl"));(function(b,$super,c){b=t(b,$super,"Extension");[b].concat(c);var d;b.$attr_reader("kind");b.$attr_reader("config");
b.$attr_reader("instance");return(a.def(b,"$initialize",d=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},d.$$arity=3),h)&&"initialize"})(m[0],null,m);(function(b,$super,d){b=t(b,$super,"ProcessorExtension");[b].concat(d);var e;b.$attr_reader("process_method");return(a.def(b,"$initialize",e=function(b,d,f){var g;e.$$p&&(e.$$p=null);null==f&&(f=h);c(this,a.find_super_dispatcher(this,"initialize",e,!1),[b,d,d.$config()],null);return this.process_method=u(g=f)?g:d.$method("process")},
e.$$arity=-3),h)&&"initialize"})(m[0],q(m,"Extension"),m);(function(b,$super,c){b=t(b,$super,"Group");c=[b].concat(c);var d;(function(b,c){var d=[b].concat(c),e;return(a.def(b,"$register",e=function(a){null==a&&(a=h);return q(d,"Extensions").$register(a,this)},e.$$arity=-1),h)&&"register"})(a.get_singleton_class(b),c);return(a.def(b,"$activate",d=function(a){return this.$raise(e("::","NotImplementedError"))},d.$$arity=1),h)&&"activate"})(m[0],null,m);(function(d,$super,f){d=t(d,$super,"Registry");
var m=[d].concat(f),p,r,v,x,y,E,z,A,B,F,D,G,H,I,J,K,O,L,M,R,P,U,Q,S,W,aa,pa,X,ia,sa,ua,Ha,Fa,Da,Sa;d.$$prototype.groups=d.$$prototype.preprocessor_extensions=d.$$prototype.tree_processor_extensions=d.$$prototype.postprocessor_extensions=d.$$prototype.include_processor_extensions=d.$$prototype.docinfo_processor_extensions=d.$$prototype.block_extensions=d.$$prototype.block_macro_extensions=d.$$prototype.inline_macro_extensions=h;d.$attr_reader("document");d.$attr_reader("groups");a.def(d,"$initialize",
p=function(a){null==a&&(a=n([],{}));this.groups=a;return this.document=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=h},p.$$arity=-1);a.def(d,"$activate",r=function(a){var b,d=h;this.document=a;u((d=g(q(m,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||c(d,"each",[],(b=function(a){var d=
b.$$s||this;null==a&&(a=h);var f=a;e("::","Proc")["$==="](f)?(f=a.$arity(),a=0["$==="](f)||-1["$==="](f)?c(d,"instance_exec",[],a.$to_proc()):1["$==="](f)?a.$call(d):h):a=e("::","Class")["$==="](f)?a.$new().$activate(d):a.$activate(d);return a},b.$$s=this,b.$$arity=1,b));return this},r.$$arity=1);a.def(d,"$preprocessor",v=function(b){var d=v.$$p,e=d||h;d&&(v.$$p=null);d&&(v.$$p=null);d=a.slice.call(arguments,0,arguments.length);return c(this,"add_document_processor",["preprocessor",d],e.$to_proc())},
v.$$arity=-1);a.def(d,"$preprocessors?",x=function(){return this.preprocessor_extensions["$!"]()["$!"]()},x.$$arity=0);a.def(d,"$preprocessors",y=function(){return this.preprocessor_extensions},y.$$arity=0);a.def(d,"$tree_processor",E=function(b){var d=E.$$p,e=d||h;d&&(E.$$p=null);d&&(E.$$p=null);d=a.slice.call(arguments,0,arguments.length);return c(this,"add_document_processor",["tree_processor",d],e.$to_proc())},E.$$arity=-1);a.def(d,"$tree_processors?",z=function(){return this.tree_processor_extensions["$!"]()["$!"]()},
z.$$arity=0);a.def(d,"$tree_processors",A=function(){return this.tree_processor_extensions},A.$$arity=0);a.alias(d,"treeprocessor","tree_processor");a.alias(d,"treeprocessors?","tree_processors?");a.alias(d,"treeprocessors","tree_processors");a.def(d,"$postprocessor",B=function(b){var d=B.$$p,e=d||h;d&&(B.$$p=null);d&&(B.$$p=null);d=a.slice.call(arguments,0,arguments.length);return c(this,"add_document_processor",["postprocessor",d],e.$to_proc())},B.$$arity=-1);a.def(d,"$postprocessors?",F=function(){return this.postprocessor_extensions["$!"]()["$!"]()},
F.$$arity=0);a.def(d,"$postprocessors",D=function(){return this.postprocessor_extensions},D.$$arity=0);a.def(d,"$include_processor",G=function(b){var d=G.$$p,e=d||h;d&&(G.$$p=null);d&&(G.$$p=null);d=a.slice.call(arguments,0,arguments.length);return c(this,"add_document_processor",["include_processor",d],e.$to_proc())},G.$$arity=-1);a.def(d,"$include_processors?",H=function(){return this.include_processor_extensions["$!"]()["$!"]()},H.$$arity=0);a.def(d,"$include_processors",I=function(){return this.include_processor_extensions},
I.$$arity=0);a.def(d,"$docinfo_processor",J=function(b){var d=J.$$p,e=d||h;d&&(J.$$p=null);d&&(J.$$p=null);d=a.slice.call(arguments,0,arguments.length);return c(this,"add_document_processor",["docinfo_processor",d],e.$to_proc())},J.$$arity=-1);a.def(d,"$docinfo_processors?",K=function(a){var b;null==a&&(a=h);return u(this.docinfo_processor_extensions)?u(a)?c(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=
1,b)):!0:!1},K.$$arity=-1);a.def(d,"$docinfo_processors",O=function(a){var b;null==a&&(a=h);return u(this.docinfo_processor_extensions)?u(a)?c(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:h},O.$$arity=-1);a.def(d,"$block",L=function(b){var d=L.$$p,e=d||h;d&&(L.$$p=null);d&&(L.$$p=null);d=a.slice.call(arguments,0,arguments.length);return c(this,"add_syntax_processor",
["block",d],e.$to_proc())},L.$$arity=-1);a.def(d,"$blocks?",M=function(){return this.block_extensions["$!"]()["$!"]()},M.$$arity=0);a.def(d,"$registered_for_block?",R=function(a,b){var c;return u(c=this.block_extensions["$[]"](a.$to_sym()))?u(c.$config()["$[]"]("contexts")["$include?"](b))?c:!1:!1},R.$$arity=2);a.def(d,"$find_block_extension",P=function(a){return this.block_extensions["$[]"](a.$to_sym())},P.$$arity=1);a.def(d,"$block_macro",U=function(b){var d=U.$$p,e=d||h;d&&(U.$$p=null);d&&(U.$$p=
null);d=a.slice.call(arguments,0,arguments.length);return c(this,"add_syntax_processor",["block_macro",d],e.$to_proc())},U.$$arity=-1);a.def(d,"$block_macros?",Q=function(){return this.block_macro_extensions["$!"]()["$!"]()},Q.$$arity=0);a.def(d,"$registered_for_block_macro?",S=function(a){var b;return u(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},S.$$arity=1);a.def(d,"$find_block_macro_extension",W=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},W.$$arity=1);a.def(d,
"$inline_macro",aa=function(b){var d=aa.$$p,e=d||h;d&&(aa.$$p=null);d&&(aa.$$p=null);d=a.slice.call(arguments,0,arguments.length);return c(this,"add_syntax_processor",["inline_macro",d],e.$to_proc())},aa.$$arity=-1);a.def(d,"$inline_macros?",pa=function(){return this.inline_macro_extensions["$!"]()["$!"]()},pa.$$arity=0);a.def(d,"$registered_for_inline_macro?",X=function(a){var b;return u(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},X.$$arity=1);a.def(d,"$find_inline_macro_extension",
ia=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},ia.$$arity=1);a.def(d,"$inline_macros",sa=function(){return this.inline_macro_extensions.$values()},sa.$$arity=0);a.def(d,"$prefer",ua=function(b){var d=ua.$$p,e=d||h,f=h;d&&(ua.$$p=null);d&&(ua.$$p=null);d=a.slice.call(arguments,0,arguments.length);e=u(q(m,"ProcessorExtension")["$==="](f=d.$shift()))?f:c(this,"send",[f].concat(a.to_a(d)),e.$to_proc());f=this.$instance_variable_get(("@"+e.$kind()+"_extensions").$to_sym());f.$unshift(f.$delete(e));
return e},ua.$$arity=-1);d.$private();a.def(d,"$add_document_processor",Ha=function(b,d){var f=Ha.$$p,g=f||h,k,n,p=h,r=h,v=h,t=h,x=r=h,w=h,y=h,E=h;p=h;f&&(Ha.$$p=null);f&&(Ha.$$p=null);p=b.$to_s().$tr("_"," ");r=c(p.$split(),"map",[],(k=function(a){null==a&&(a=h);return a.$capitalize()},k.$$s=this,k.$$arity=1,k)).$join().$to_sym();v=q(m,"Extensions").$const_get(r,!1);t=u(e("::","AsciidoctorJ","skip_raise")?"constant":h)?e(e("::","AsciidoctorJ"),"Extensions").$const_get(r,!1):h;r=u(n=this.$instance_variable_get(("@"+
b+"_extensions").$to_sym()))?n:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);g!==h?(x=this.$resolve_args(d,1),(w=v.$new(x)).$singleton_class().$enable_dsl(),g.$arity()["$=="](0)?c(w,"instance_exec",[],g.$to_proc()):a.yield1(g,w),u(w["$process_block_given?"]())||this.$raise(e("::","ArgumentError"),"No block specified to process "+p+" extension at "+g.$source_location()),w.$freeze(),y=q(m,"ProcessorExtension").$new(b,w)):(f=this.$resolve_args(d,2),n=a.to_ary(f),w=null==n[0]?h:n[0],
x=null==n[1]?h:n[1],f,u(E=q(m,"Helpers").$resolve_class(w))?(u(u(n=l(E,v))?n:u(f=t)?l(E,t):f)||this.$raise(e("::","ArgumentError"),"Invalid type for "+p+" extension: "+w),p=E.$new(x),p.$freeze(),y=q(m,"ProcessorExtension").$new(b,p)):u(u(n=v["$==="](w))?n:u(f=t)?t["$==="](w):f)?(w.$update_config(x),w.$freeze(),y=q(m,"ProcessorExtension").$new(b,w)):this.$raise(e("::","ArgumentError"),"Invalid arguments specified for registering "+p+" extension: "+d));if(y.$config()["$[]"]("position")["$=="](">>"))r.$unshift(y);
else r["$<<"](y);return y},Ha.$$arity=2);a.def(d,"$add_syntax_processor",Fa=function(d,f){var g=Fa.$$p,k=g||h,p,r,v=h,t=h,x=h,y=h,E=t=h,w=h,z=h,A=x=h;x=h;g&&(Fa.$$p=null);g&&(Fa.$$p=null);v=d.$to_s().$tr("_"," ");t=c(v.$split(),"map",[],(p=function(a){null==a&&(a=h);return a.$capitalize()},p.$$s=this,p.$$arity=1,p))["$<<"]("Processor").$join().$to_sym();x=q(m,"Extensions").$const_get(t,!1);y=u(e("::","AsciidoctorJ","skip_raise")?"constant":h)?e(e("::","AsciidoctorJ"),"Extensions").$const_get(t,!1):
h;t=u(r=this.$instance_variable_get(("@"+d+"_extensions").$to_sym()))?r:this.$instance_variable_set(("@"+d+"_extensions").$to_sym(),n([],{}));if(k!==h)return g=this.$resolve_args(f,2),r=a.to_ary(g),E=null==r[0]?h:r[0],w=null==r[1]?h:r[1],g,(z=x.$new(this.$as_symbol(E),w)).$singleton_class().$enable_dsl(),k.$arity()["$=="](0)?c(z,"instance_exec",[],k.$to_proc()):a.yield1(k,z),u(E=this.$as_symbol(z.$name()))||this.$raise(e("::","ArgumentError"),"No name specified for "+v+" extension at "+k.$source_location()),
u(z["$process_block_given?"]())||this.$raise(e("::","NoMethodError"),"No block specified to process "+v+" extension at "+k.$source_location()),z.$freeze(),x=[E,q(m,"ProcessorExtension").$new(d,z)],c(t,"[]=",a.to_a(x)),x[b(x.length,1)];g=this.$resolve_args(f,3);r=a.to_ary(g);z=null==r[0]?h:r[0];E=null==r[1]?h:r[1];w=null==r[2]?h:r[2];g;return u(A=q(m,"Helpers").$resolve_class(z))?(u(u(r=l(A,x))?r:u(g=y)?l(A,y):g)||this.$raise(e("::","ArgumentError"),"Class specified for "+v+" extension does not inherit from "+
x+": "+z),x=A.$new(this.$as_symbol(E),w),u(E=this.$as_symbol(x.$name()))||this.$raise(e("::","ArgumentError"),"No name specified for "+v+" extension: "+z),x.$freeze(),x=[E,q(m,"ProcessorExtension").$new(d,x)],c(t,"[]=",a.to_a(x)),x[b(x.length,1)]):u(u(r=x["$==="](z))?r:u(g=y)?y["$==="](z):g)?(z.$update_config(w),u(E)?(x=[this.$as_symbol(E)],c(z,"name=",a.to_a(x)),f=x[b(x.length,1)]):f=this.$as_symbol(z.$name()),u(E=f)||this.$raise(e("::","ArgumentError"),"No name specified for "+v+" extension: "+
z),z.$freeze(),x=[E,q(m,"ProcessorExtension").$new(d,z)],c(t,"[]=",a.to_a(x)),x[b(x.length,1)]):this.$raise(e("::","ArgumentError"),"Invalid arguments specified for registering "+v+" extension: "+f)},Fa.$$arity=2);a.def(d,"$resolve_args",Da=function(a,c){var d=h;var f=u(e("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():n([],{});if(c["$=="](1))return f;u(k(d=b(b(c,1),a.$size()),0))?a=g(a,e("::","Array").$new(d)):u(l(d,0))&&a.$pop(d["$-@"]());a["$<<"](f);return a},Da.$$arity=2);return(a.def(d,"$as_symbol",
Sa=function(a){return u(a)?a.$to_sym():h},Sa.$$arity=1),h)&&"as_symbol"})(m[0],null,m);(function(d,k){var l=[d].concat(k),m,p,r,v,t,y,E;a.def(d,"$generate_name",m=function(){return"extgrp"+this.$next_auto_id()},m.$$arity=0);a.def(d,"$next_auto_id",p=function(){var a;null==this.auto_id&&(this.auto_id=h);this.auto_id=u(a=this.auto_id)?a:-1;return this.auto_id=g(this.auto_id,1)},p.$$arity=0);a.def(d,"$groups",r=function(){var a;null==this.groups&&(this.groups=h);return this.groups=u(a=this.groups)?a:
n([],{})},r.$$arity=0);a.def(d,"$create",v=function(a){var b=v.$$p,c=b||h,d;b&&(v.$$p=null);b&&(v.$$p=null);null==a&&(a=h);return c!==h?q(l,"Registry").$new(f(u(d=a)?d:this.$generate_name(),c)):q(l,"Registry").$new()},v.$$arity=-1);a.def(d,"$register",t=function(d){var f=t.$$p,g=f||h,k,n=h,m;f&&(t.$$p=null);f&&(t.$$p=null);f=a.slice.call(arguments,0,arguments.length);var p=f.$size();g!==h?n=g:u(m=f.$pop())?n=u(k=q(l,"Helpers").$resolve_class(m))?k:m:this.$raise(e("::","ArgumentError"),"Extension group to register not specified");
g=u(k=f.$pop())?k:this.$generate_name();u(f["$empty?"]())||this.$raise(e("::","ArgumentError"),"Wrong number of arguments ("+p+" for 1..2)");k=[g.$to_sym(),n];c(this.$groups(),"[]=",a.to_a(k));return k[b(k.length,1)]},t.$$arity=-1);a.def(d,"$unregister_all",y=function(){this.groups=n([],{});return h},y.$$arity=0);return(a.def(d,"$unregister",E=function(b){var d;var e=a.slice.call(arguments,0,arguments.length);c(e,"each",[],(d=function(a){var b=d.$$s||this;null==b.groups&&(b.groups=h);null==a&&(a=
h);return b.groups.$delete(a.$to_sym())},d.$$s=this,d.$$arity=1,d));return h},E.$$arity=-1),h)&&"unregister"})(a.get_singleton_class(d),m)})(d[0],d)}(m[0],m)};Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.module,m=a.klass,h=a.truthy;a.add_stubs(["$rstrip","$read","$join"]);return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=m(b,$super,"Stylesheets");[b].concat(d);var e;b.$$prototype.primary_stylesheet_data=
g;return(a.def(b,"$primary_stylesheet_data",e=function(){var a;return this.primary_stylesheet_data=h(a=this.primary_stylesheet_data)?a:k("::","IO").$read(k("::","File").$join("css","asciidoctor.css")).$rstrip()},e.$$arity=0),g)&&"primary_stylesheet_data"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,m=a.klass;return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=m(b,$super,"Document");
[b].concat(d);var e;return(a.def(b,"$fill_datetime_attributes",e=function(b,c){var d=a.truthy,e=a.falsy,g=a.nil,h,k,l=function(a,b){return 0===b?a.getUTCFullYear():a.getFullYear()},n=function(a,b){return 0===b?a.getUTCMonth():a.getMonth()};var m=function(a,b){return 0===b?a.getUTCDate():a.getDate()};var p=function(a,b){return 0===b?a.getUTCHours():a.getHours()},q=new Date;if(a.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")){q.setTime(1E3*parseInt(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH")));
var v=q;var t=0}else t=-q.getTimezoneOffset()/60;if(d(h=b["$[]"]("localdate")))e(k=b["$[]"]("localyear"))&&(k=4===h.indexOf("-")?h.substring(0,4):g,b["$[]="]("localyear",k));else{var u=l(q,t).toString();h=("0"+(n(q,t)+1)).slice(-2);k=("0"+m(q,t)).slice(-2);h=u+"-"+h+"-"+k;b["$[]="]("localdate",h);k=u;b["$[]="]("localyear",u)}if(e(u=b["$[]"]("localtime"))){k=("0"+p(q,t)).slice(-2);var y=("0"+q.getMinutes()).slice(-2),E=("0"+q.getSeconds()).slice(-2);u=0===t?"UTC":0<t?("+0"+100*t).slice(-5):("-0"+100*
-t).slice(-5);u=k+":"+y+":"+E+" "+u;b["$[]="]("localtime",u)}if(e(b["$[]"]("localdatetime")))b["$[]="]("localdatetime",h+" "+u);d(v)?c=v:d(c)?t=-c.getTimezoneOffset()/60:c=q;if(d(d=b["$[]"]("docdate")))b["$[]="]("docyear",4===d.indexOf("-")?d.substring(0,4):g);else if(l=l(c,t).toString(),n=("0"+(n(c,t)+1)).slice(-2),m=("0"+m(c,t)).slice(-2),d=l+"-"+n+"-"+m,b["$[]="]("docdate",d),e(b["$[]"]("docyear")))b["$[]="]("docyear",l);e(m=b["$[]"]("doctime"))&&(p=("0"+p(c,t)).slice(-2),m=("0"+c.getMinutes()).slice(-2),
c=("0"+c.getSeconds()).slice(-2),u=0===t?"UTC":0<t?("+0"+100*t).slice(-5):("-0"+100*-t).slice(-5),m=p+":"+m+":"+c+" "+u,b["$[]="]("doctime",m));if(e(b["$[]"]("docdatetime")))b["$[]="]("docdatetime",d+" "+m);return g},e.$$arity=2),g)&&"fill_datetime_attributes"})(b[0],k(b,"AbstractBlock"),b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(a){var b=[],g=a.module;return function(b,d){b=[g(b,"Asciidoctor")].concat(d);(function(b,d){b=g(b,"Substitutors");[b].concat(d);var e;
a.def(b,"$sub_placeholder",e=function(a,b){return a.replace("%s",b)},e.$$arity=2)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(a){var b=[],g=a.nil,k=a.module,l=a.klass,m=a.truthy;return function(b,d){b=[k(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=l(b,$super,"Parser");[b].concat(d);var e,h;return m(String.prototype.repeat)?(a.defs(b,"$uniform?",e=function(a,b,d){return b.repeat(d)===a},e.$$arity=3),g)&&"uniform?":(a.defs(b,"$uniform?",h=function(a,b,
d){return Array.apply(null,{length:d}).map(function(){return b}).join("")===a},h.$$arity=3),g)&&"uniform?"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,m=a.truthy;a.add_stubs("$key? $registry $[] $include? $include $empty? $debug $logger $join $keys".split(" "));return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,d){b=[l(b,"SyntaxHighlighter")].concat(d);(function(b,d){b=l(b,
"Factory");var e=[b].concat(d),c;a.def(b,"$for",c=function(a){if(m(this.$registry()["$key?"](a)))return this.$registry()["$[]"](a);m(this["$include?"](k(e,"Logging")))||this.$include(k(e,"Logging"));m(this.$registry()["$empty?"]())?this.$logger().$debug("no syntax highlighter available, functionality disabled."):this.$logger().$debug("syntax highlighter named '"+a+"' is not available, must be one of: '"+this.$registry().$keys().$join("', '")+"'.");return g},c.$$arity=1)})(b[0],b)})(b[0],b)}(b[0],
b)};Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/asciidoctor_ext/stylesheet");b.$require("asciidoctor/js/asciidoctor_ext/document");b.$require("asciidoctor/js/asciidoctor_ext/substitutors");b.$require("asciidoctor/js/asciidoctor_ext/parser");b.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter");b.$require("asciidoctor/js/asciidoctor_ext/browser")};Opal.modules["asciidoctor/js/opal_ext/logger"]=function(a){var b=
[],g=a.nil,k=a.const_get_relative,l=a.klass,m=a.truthy;a.add_stubs("$chr $rjust $message_as_string $< $write $call $[]".split(" "));return function(b,$super,d){b=l(b,$super,"Logger");var h=[b].concat(d),p;b.$$prototype.level=b.$$prototype.progname=b.$$prototype.pipe=b.$$prototype.formatter=g;(function(b,$super,c){b=l(b,$super,"Formatter");[b].concat(c);var d;return(a.def(b,"$call",d=function(a,b,c,d){b=b.getFullYear()+"-"+("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+"T"+("0"+b.getHours()).slice(-2)+
":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+"."+("00"+1E3*(new Date).getMilliseconds()).slice(-6);return""+a.$chr()+", ["+b+"] "+a.$rjust(5)+" -- "+c+": "+this.$message_as_string(d)},d.$$arity=4),g)&&"call"})(h[0],null,h);return(a.def(b,"$add",p=function(b,d,c){var f=p.$$p,l=f||g,n;f&&(p.$$p=null);f&&(p.$$p=null);null==d&&(d=g);null==c&&(c=g);f=b=m(n=b)?n:k(h,"UNKNOWN");var q=this.level;f="number"===typeof f&&"number"===typeof q?f<q:f["$<"](q);if(m(f))return!0;c=m(n=c)?n:
this.progname;m(d)||(l!==g?d=a.yieldX(l,[]):(d=c,c=this.progname));this.pipe.$write(this.formatter.$call(m(n=k(h,"SEVERITY_LABELS")["$[]"](b))?n:"ANY",new Date,c,d));return!0},p.$$arity=-2),g)&&"add"}(b[0],null,b)};Opal.modules["asciidoctor/js/postscript"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");b.$require("asciidoctor/extensions");b.$require("asciidoctor/js/asciidoctor_ext");return b.$require("asciidoctor/js/opal_ext/logger")};
(function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.top,k=[],l=a.nil,m=a.const_get_qualified,h=a.const_get_relative,e=a.module,q=a.send,r=a.truthy,t=a.hash2;a.add_stubs("$require $== $to_h $sort $map $constants $const_get $downcase $to_s $<=> $upcase $[] $values $new $attr_reader $instance_variable_set $send $singleton_class $<< $define $dirname $absolute_path $__dir__ $join $home $pwd $to_set $tap $each $chr $each_key $slice $[]= $- $length $merge $default= $drop $insert".split(" "));
g.$require("set");h(k,"RUBY_ENGINE")["$=="]("opal")?g.$require("asciidoctor/js"):l;(function(d,g){d=e(d,"Asciidoctor");var c=[d].concat(g),f,k,n,p,v,u=l;a.const_set(c[0],"RUBY_ENGINE_OPAL",a.const_set(c[0],"RUBY_ENGINE",m("::","RUBY_ENGINE"))["$=="]("opal"));(function(b,c){b=e(b,"SafeMode");c=[b].concat(c);var d,f,g,h,k;a.const_set(c[0],"UNSAFE",0);a.const_set(c[0],"SAFE",1);a.const_set(c[0],"SERVER",10);a.const_set(c[0],"SECURE",20);b.names_by_value=q(q(b.$constants(!1),"map",[],(d=function(a){var b=
d.$$s||this;null==a&&(a=l);return[b.$const_get(a),a.$to_s().$downcase()]},d.$$s=b,d.$$arity=1,d)),"sort",[],(f=function(b,c){null==b&&(b=l);null==c&&(c=l);var d=a.to_ary(b);var e=null==d[0]?l:d[0];b;b=c;d=a.to_ary(b);c=null==d[0]?l:d[0];b;return e["$<=>"](c)},f.$$s=b,f.$$arity=2,f.$$has_top_level_mlhs_arg=!0,f)).$to_h();a.defs(b,"$value_for_name",g=function(a){return this.$const_get(a.$upcase(),!1)},g.$$arity=1);a.defs(b,"$name_for_value",h=function(a){null==this.names_by_value&&(this.names_by_value=
l);return this.names_by_value["$[]"](a)},h.$$arity=1);a.defs(b,"$names",k=function(){null==this.names_by_value&&(this.names_by_value=l);return this.names_by_value.$values()},k.$$arity=0)})(c[0],c);(function(b,c){b=e(b,"Compliance");c=[b].concat(c);b.keys=m("::","Set").$new();(function(b,c){[b].concat(c);var d;b.$attr_reader("keys");return(a.def(b,"$define",d=function(a,b){null==this.keys&&(this.keys=l);this.$instance_variable_set("@"+a,b);this.$singleton_class().$send("attr_accessor",a);this.keys["$<<"](a);
return l},d.$$arity=2),l)&&"define"})(a.get_singleton_class(b),c);b.$define("block_terminates_paragraph",!0);b.$define("strict_verbatim_paragraphs",!0);b.$define("underline_style_section_titles",!0);b.$define("unwrap_standalone_preamble",!0);b.$define("attribute_missing","skip");b.$define("attribute_undefined","drop-line");b.$define("shorthand_property_syntax",!0);b.$define("natural_xrefs",!0);b.$define("unique_id_start_index",2);b.$define("markdown_syntax",!0)})(c[0],c);r(h(c,"ROOT_DIR","skip_raise")?
"constant":l)||a.const_set(c[0],"ROOT_DIR",m("::","File").$dirname(m("::","File").$absolute_path(d.$__dir__())));a.const_set(c[0],"LIB_DIR",m("::","File").$join(h(c,"ROOT_DIR"),"lib"));a.const_set(c[0],"DATA_DIR",m("::","File").$join(h(c,"ROOT_DIR"),"data"));a.const_set(c[0],"USER_HOME",function(){try{return m("::","Dir").$home()}catch(ba){if(a.rescue(ba,[h(c,"StandardError")]))try{return r(f=m("::","ENV")["$[]"]("HOME"))?f:m("::","Dir").$pwd()}finally{a.pop_exception()}else throw ba;}}());a.const_set(c[0],
"LF","\n");a.const_set(c[0],"NULL","\x00");a.const_set(c[0],"TAB","\t");a.const_set(c[0],"MAX_INT",9007199254740991);a.const_set(c[0],"UTF_8",m(m("::","Encoding"),"UTF_8"));a.const_set(c[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(c[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(c[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(c[0],"FILE_READ_MODE",r(h(c,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8");a.const_set(c[0],"URI_READ_MODE",h(c,"FILE_READ_MODE"));a.const_set(c[0],"FILE_WRITE_MODE",r(h(c,
"RUBY_ENGINE_OPAL"))?"w":"w:utf-8");a.const_set(c[0],"DEFAULT_DOCTYPE","article");a.const_set(c[0],"DEFAULT_BACKEND","html5");a.const_set(c[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(c[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(c[0],"BACKEND_ALIASES",t(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(c[0],"DEFAULT_PAGE_WIDTHS",t(["docbook"],{docbook:425}));a.const_set(c[0],"DEFAULT_EXTENSIONS",t("html docbook pdf epub manpage asciidoc".split(" "),
{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(c[0],"ASCIIDOC_EXTENSIONS",t([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0}));a.const_set(c[0],"SETEXT_SECTION_LEVELS",t(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(c[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(c[0],"ADMONITION_STYLE_HEADS",q(m("::","Set").$new(),"tap",[],(k=
function(a){var b=k.$$s||this,d;null==a&&(a=l);return q(h(c,"ADMONITION_STYLES"),"each",[],(d=function(b){null==b&&(b=l);return a["$<<"](b.$chr())},d.$$s=b,d.$$arity=1,d))},k.$$s=d,k.$$arity=1,k)));a.const_set(c[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(c[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(c[0],"DELIMITED_BLOCKS",t("-- ---- .... ==== **** ____ ++++ |=== ,=== :=== !=== //// ```".split(" "),
{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",m("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",m("::","Set").$new()],",===":["table",m("::","Set").$new()],":===":["table",
m("::","Set").$new()],"!===":["table",m("::","Set").$new()],"////":["comment",m("::","Set").$new()],"```":["fenced_code",m("::","Set").$new()]}));a.const_set(c[0],"DELIMITED_BLOCK_HEADS",q(t([],{}),"tap",[],(n=function(d){var e=n.$$s||this,f;null==d&&(d=l);return q(h(c,"DELIMITED_BLOCKS"),"each_key",[],(f=function(c){null==c&&(c=l);c=[c.$slice(0,2),!0];q(d,"[]=",a.to_a(c));return c[b(c.length,1)]},f.$$s=e,f.$$arity=1,f))},n.$$s=d,n.$$arity=1,n)));a.const_set(c[0],"DELIMITED_BLOCK_TAILS",q(t([],{}),
"tap",[],(p=function(d){var e=p.$$s||this,f;null==d&&(d=l);return q(h(c,"DELIMITED_BLOCKS"),"each_key",[],(f=function(c){null==c&&(c=l);return c.$length()["$=="](4)?(c=[c,c["$[]"](b(c.$length(),1))],q(d,"[]=",a.to_a(c)),c[b(c.length,1)]):l},f.$$s=e,f.$$arity=1,f))},p.$$s=d,p.$$arity=1,p)));a.const_set(c[0],"CAPTION_ATTRIBUTE_NAMES",t(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"}));a.const_set(c[0],"LAYOUT_BREAK_CHARS",
t(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(c[0],"MARKDOWN_THEMATIC_BREAK_CHARS",t(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(c[0],"HYBRID_LAYOUT_BREAK_CHARS",h(c,"LAYOUT_BREAK_CHARS").$merge(h(c,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(c[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(c[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(c[0],"ORDERED_LIST_KEYWORDS",
t(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(c[0],"ATTR_REF_HEAD","{");a.const_set(c[0],"LIST_CONTINUATION","+");a.const_set(c[0],"HARD_LINE_BREAK"," +");a.const_set(c[0],"LINE_CONTINUATION"," \\");a.const_set(c[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(c[0],"BLOCK_MATH_DELIMITERS",t(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(c[0],"INLINE_MATH_DELIMITERS",t(["asciimath",
"latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));u=["asciimath"];q(a.const_set(c[0],"STEM_TYPE_ALIASES",t(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(u));u[b(u.length,1)];a.const_set(c[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(c[0],"HIGHLIGHT_JS_VERSION","9.18.3");a.const_set(c[0],"MATHJAX_VERSION","2.7.9");a.const_set(c[0],"DEFAULT_ATTRIBUTES",t("appendix-caption appendix-refsig caution-caption chapter-refsig example-caption figure-caption important-caption last-update-label note-caption part-refsig prewrap sectids section-refsig table-caption tip-caption toc-placement toc-title untitled-label version-label warning-caption".split(" "),
{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"}));
a.const_set(c[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);a.const_set(c[0],"INTRINSIC_ATTRIBUTES",t("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar pp cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",
quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"}));h(c,"RUBY_ENGINE")["$=="]("opal")||l;a.const_set(c[0],"QUOTE_SUBS",q(t([],{}),"tap",[],(v=function(d){var e;null==d&&(d=l);u=[!1,e=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+h(c,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+
h(c,"CC_ALL")+"*?\\S)\\*(?!"+h(c,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+h(c,"CC_ALL")+'*?\\S)`"(?!'+h(c,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+h(c,"CC_ALL")+"*?\\S)`'(?!"+h(c,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+h(c,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+h(c,
"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+h(c,"CC_ALL")+"*?\\S)`(?!["+h(c,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+h(c,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+h(c,"CC_ALL")+"*?\\S)_(?!"+h(c,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+h(c,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+
"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+h(c,"CC_ALL")+"*?\\S)#(?!"+h(c,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]];q(d,"[]=",a.to_a(u));u[b(u.length,1)];u=[!0,e=e.$drop(0)];q(d,"[]=",a.to_a(u));u[b(u.length,1)];u=[2,["double","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+h(c,"CC_ALL")+"*?\\S)''(?!"+h(c,"CG_WORD")+")","m")]];q(e,"[]=",a.to_a(u));u[b(u.length,
1)];u=[3,["single","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+h(c,"CC_ALL")+"*?\\S)'(?!"+h(c,"CG_WORD")+")","m")]];q(e,"[]=",a.to_a(u));u[b(u.length,1)];u=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+h(c,"CC_ALL")+"+?)\\+\\+","m")]];q(e,"[]=",a.to_a(u));u[b(u.length,1)];u=[5,["monospaced","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+h(c,"CC_ALL")+"*?\\S)\\+(?!"+h(c,"CG_WORD")+")",
"m")]];q(e,"[]=",a.to_a(u));u[b(u.length,1)];return e.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+h(c,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+h(c,"CC_ALL")+"*?\\S)'(?!"+h(c,"CG_WORD")+")","m")])},v.$$s=d,v.$$arity=1,v)));a.const_set(c[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+h(c,"CG_WORD")+")\\\\?--(?="+h(c,"CG_WORD")+")"),"&#8212;&#8203;",
"leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+h(c,"CG_ALNUM")+")\\\\?'(?="+h(c,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);h(c,"RUBY_ENGINE")["$=="]("opal")||l;h(c,"RUBY_ENGINE")["$=="]("opal")||l})(k[0],k);g.$require("asciidoctor.rb/../asciidoctor/core_ext");
g.$require("asciidoctor.rb/../asciidoctor/helpers");g.$require("asciidoctor.rb/../asciidoctor/logging");g.$require("asciidoctor.rb/../asciidoctor/rx");g.$require("asciidoctor.rb/../asciidoctor/substitutors");g.$require("asciidoctor.rb/../asciidoctor/version");g.$require("asciidoctor.rb/../asciidoctor/abstract_node");g.$require("asciidoctor.rb/../asciidoctor/abstract_block");g.$require("asciidoctor.rb/../asciidoctor/attribute_list");g.$require("asciidoctor.rb/../asciidoctor/block");g.$require("asciidoctor.rb/../asciidoctor/callouts");
g.$require("asciidoctor.rb/../asciidoctor/converter");g.$require("asciidoctor.rb/../asciidoctor/document");g.$require("asciidoctor.rb/../asciidoctor/inline");g.$require("asciidoctor.rb/../asciidoctor/list");g.$require("asciidoctor.rb/../asciidoctor/parser");g.$require("asciidoctor.rb/../asciidoctor/path_resolver");g.$require("asciidoctor.rb/../asciidoctor/reader");g.$require("asciidoctor.rb/../asciidoctor/section");g.$require("asciidoctor.rb/../asciidoctor/stylesheets");g.$require("asciidoctor.rb/../asciidoctor/table");
g.$require("asciidoctor.rb/../asciidoctor/writer");g.$require("asciidoctor.rb/../asciidoctor/load");g.$require("asciidoctor.rb/../asciidoctor/convert");return h(k,"RUBY_ENGINE")["$=="]("opal")?(g.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),g.$require("asciidoctor.rb/../asciidoctor/timings"),g.$require("asciidoctor/js/postscript")):l})(Opal);var q=function(a){return a&&!a.$$is_hash?Opal.hash2(Object.keys(a),a):a},g=function(a){var b={};if(a){var g=a.$$smap;for(m in g){var k=g[m];b[m]=
k===Opal.nil?void 0:k}if(a=a.$$map){g=[];for(var l in a){var m=a[l];k=m.value;g[m.key-1]=k===Opal.nil?void 0:k}0<g.length&&(b.$positional=g)}}return b},J=function(a){if(a=q(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",q(b)))}return a},l=Opal.Asciidoctor.$$class;l.prototype.getCoreVersion=function(){return this.$$const.VERSION};l.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),
platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}};l.prototype.convert=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));a=this.$convert(a,J(b));return a===Opal.nil?"":a};l.prototype.convertFile=function(a,b){return this.$convert_file(a,J(b))};l.prototype.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&
(a=a.toString("utf8"));return this.$load(a,J(b))};l.prototype.loadFile=function(a,b){return this.$load_file(a,J(b))};l=Opal.Asciidoctor.AbstractBlock;l.prototype.append=function(a){this.$append(a);return this};l.prototype.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};l.prototype.setTitle=function(a){a="undefined"===typeof a?Opal.nil:a;return this["$title="](a)};l.prototype.assignCaption=function(a,b){a="undefined"===typeof a?Opal.nil:a;this.$assign_caption(a,"undefined"===
typeof b?null:b)};l.prototype.getCaptionedTitle=function(){return this.$captioned_title()};l.prototype.getStyle=function(){var a=this.style;return a===Opal.nil?void 0:a};l.prototype.setStyle=function(a){this.style=a};l.prototype.getSourceLocation=function(){var a=this.source_location;if(a!==Opal.nil)return a.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a},a.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a},a.getPath=function(){var a=this.path;return a===Opal.nil?
void 0:a},a.getLineNumber=function(){var a=this.lineno;return a===Opal.nil?void 0:a},a};l.prototype.getCaption=function(){var a=this.$caption();return a===Opal.nil?void 0:a};l.prototype.setCaption=function(a){this.caption="undefined"===typeof a?Opal.nil:a};l.prototype.getLevel=function(){var a=this.level;return a===Opal.nil?void 0:a};l.prototype.getSubstitutions=function(){return this.subs};l.prototype.hasSubstitution=function(a){return this["$sub?"](a)};l.prototype.removeSubstitution=function(a){this.$remove_sub(a)};
l.prototype.hasBlocks=function(){return 0<this.blocks.length};l.prototype.getBlocks=function(){return this.blocks};l.prototype.getContent=function(){return this.$content()};l.prototype.convert=function(){return this.$convert()};l.prototype.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[q(a)],b):this.$find_by(q(a))};l.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?
void 0:a};l.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&0<this.next_section_index};l.prototype.getSections=function(){return this.$sections()};l.prototype.getNumeral=function(){return this.$numeral()};l.prototype.setNumeral=function(a){this["$numeral="](a)};l.prototype.hasTitle=function(){return this["$title?"]()};l.prototype.getAlt=function(){return this.$alt()};l=Opal.Asciidoctor.Section;l.create=function(a,b,g,k){k&&k.attributes&&(k.attributes=q(k.attributes));return this.$new(a,
b,g,q(k))};l.prototype.setLevel=function(a){this.level=a};l.prototype.getIndex=function(){return this.index};l.prototype.setIndex=function(a){this.index=a};l.prototype.getSectionName=function(){var a=this.sectname;return a===Opal.nil?void 0:a};l.prototype.setSectionName=function(a){this.sectname=a};l.prototype.isSpecial=function(){return this.special};l.prototype.setSpecial=function(a){this.special=a};l.prototype.isNumbered=function(){return this.numbered};l.prototype.getCaption=function(){var a=
this.caption;return a===Opal.nil?void 0:a};l.prototype.getName=function(){return this.getTitle()};l=Opal.Asciidoctor.Block;l.create=function(a,b,g){g&&g.attributes&&(g.attributes=q(g.attributes));return this.$new(a,b,q(g))};l.prototype.getSource=function(){return this.$source()};l.prototype.getSourceLines=function(){return this.lines};l=Opal.Asciidoctor.AbstractNode;l.prototype.applySubstitutions=function(a,b){return this.$apply_subs(a,b)};l.prototype.resolveSubstitutions=function(a,b,g,k){"undefined"===
typeof b&&(b="block");"undefined"===typeof g&&(g=Opal.nil);"undefined"===typeof k&&(k=Opal.nil);a=this.$resolve_subs(a,b,g,k);return a===Opal.nil?void 0:a};l.prototype.resolveBlockSubstitutions=function(a,b,g){return this.resolveSubstitutions(a,"block",b,g)};l.prototype.resolvePassSubstitutions=function(a){return this.resolveSubstitutions(a,"inline",void 0,"passthrough macro")};l.prototype.getNodeName=function(){return this.node_name};l.prototype.getAttributes=function(){return g(this.attributes)};
l.prototype.getAttribute=function(a,b,g){a=this.$attr(a,b,g);return a===Opal.nil?void 0:a};l.prototype.hasAttribute=function(a){return a in this.attributes.$$smap};l.prototype.isAttribute=function(a,b,g){a=this["$attr?"](a,b,g);return a===Opal.nil?!1:a};l.prototype.setAttribute=function(a,b,g){"undefined"===typeof g&&(g=!0);return this.$set_attr(a,b,g)};l.prototype.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};l.prototype.getDocument=function(){return this.document};
l.prototype.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};l.prototype.isInline=function(){return this["$inline?"]()};l.prototype.isBlock=function(){return this["$block?"]()};l.prototype.isRole=function(a){return this["$role?"](a)};l.prototype.getRole=function(){return this.$role()};l.prototype.hasRole=function(a){return this["$has_role?"](a)};l.prototype.getRoles=function(){return this.$roles()};l.prototype.addRole=function(a){return this.$add_role(a)};l.prototype.removeRole=
function(a){return this.$remove_role(a)};l.prototype.isReftext=function(){return this["$reftext?"]()};l.prototype.getReftext=function(){var a=this.$reftext();return a===Opal.nil?void 0:a};l.prototype.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};l.prototype.getId=function(){var a=this.id;return a===Opal.nil?void 0:a};l.prototype.setId=function(a){this.id=a};l.prototype.isOption=function(a){return this["$option?"](a)};l.prototype.setOption=function(a){return this.$set_option(a)};
l.prototype.getIconUri=function(a){return this.$icon_uri(a)};l.prototype.getMediaUri=function(a,b){return this.$media_uri(a,b)};l.prototype.getImageUri=function(a,b){return this.$image_uri(a,b)};l.prototype.getConverter=function(){return this.$converter()};l.prototype.readContents=function(a,b){return this.$read_contents(a,q(b))};l.prototype.readAsset=function(a,b){a=this.$read_asset(a,q(b));return a===Opal.nil?void 0:a};l.prototype.normalizeWebPath=function(a,b,g){return this.$normalize_web_path(a,
b,g)};l.prototype.normalizeSystemPath=function(a,b,g,k){return this.$normalize_system_path(a,b,g,q(k))};l.prototype.normalizeAssetPath=function(a,b,g){return this.$normalize_asset_path(a,b,g)};var G=Opal.Asciidoctor.Document;G.prototype.getRefs=function(){return g(this.catalog.$$smap.refs)};G.prototype.getImages=function(){return this.catalog.$$smap.images};G.prototype.getLinks=function(){return this.catalog.$$smap.links};G.prototype.hasFootnotes=function(){return this["$footnotes?"]()};G.prototype.getFootnotes=
function(){return this.$footnotes()};G.prototype.getHeader=function(){return this.header};G.prototype.setAttribute=function(a,b){return this.$set_attribute(a,b)};G.prototype.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};G.prototype.convert=function(a){a=this.$convert(q(a));return a===Opal.nil?"":a};G.prototype.write=function(a,b){return this.$write(a,b)};G.prototype.getAuthor=function(){return this.$author()};G.prototype.getSource=function(){return this.$source()};
G.prototype.getSourceLines=function(){return this.$source_lines()};G.prototype.isNested=function(){return this["$nested?"]()};G.prototype.isEmbedded=function(){return this["$embedded?"]()};G.prototype.hasExtensions=function(){return this["$extensions?"]()};G.prototype.getDoctype=function(){return this.doctype};G.prototype.getBackend=function(){return this.backend};G.prototype.isBasebackend=function(a){return this["$basebackend?"](a)};G.prototype.getTitle=function(){var a=this.$title();return a===
Opal.nil?void 0:a};G.prototype.setTitle=function(a){return this["$title="](a)};G.prototype.getDocumentTitle=function(a){a=this.$doctitle(q(a));return a===Opal.nil?void 0:a};G.prototype.getDoctitle=G.prototype.getDocumentTitle;G.prototype.getCatalog=function(){return g(this.catalog)};G.prototype.getReferences=G.prototype.getCatalog;G.prototype.getRevisionDate=function(){return this.getAttribute("revdate")};G.prototype.getRevdate=function(){return this.getRevisionDate()};G.prototype.getRevisionNumber=
function(){return this.getAttribute("revnumber")};G.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")};G.prototype.setHeaderAttribute=function(a,b,g){"undefined"===typeof g&&(g=!0);"undefined"===typeof b&&(b="");return this.$set_header_attribute(a,b,g)};G.prototype.getAuthors=function(){return this.$authors()};var y=G.Footnote;y.prototype.getIndex=function(){var a=this.$$data.index;return a===Opal.nil?void 0:a};y.prototype.getId=function(){var a=this.$$data.id;return a===
Opal.nil?void 0:a};y.prototype.getText=function(){var a=this.$$data.text;return a===Opal.nil?void 0:a};y=G.ImageReference;y.prototype.getTarget=function(){return this.$$data.target};y.prototype.getImagesDirectory=function(){var a=this.$$data.imagesdir;return a===Opal.nil?void 0:a};y=G.Author;y.prototype.getName=function(){var a=this.$$data.name;return a===Opal.nil?void 0:a};y.prototype.getFirstName=function(){var a=this.$$data.firstname;return a===Opal.nil?void 0:a};y.prototype.getMiddleName=function(){var a=
this.$$data.middlename;return a===Opal.nil?void 0:a};y.prototype.getLastName=function(){var a=this.$$data.lastname;return a===Opal.nil?void 0:a};y.prototype.getInitials=function(){var a=this.$$data.initials;return a===Opal.nil?void 0:a};y.prototype.getEmail=function(){var a=this.$$data.email;return a===Opal.nil?void 0:a};G.RevisionInfo=function(a,b,g){this.date=a;this.number=b;this.remark=g};y=G.RevisionInfo;y.prototype.getDate=function(){return this.date};y.prototype.getNumber=function(){return this.number};
y.prototype.getRemark=function(){return this.remark};y.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};y=Opal.Asciidoctor.SafeMode;y.getValueForName=function(a){return this.$value_for_name(a)};y.getNameForValue=function(a){a=this.$name_for_value(a);return a===Opal.nil?void 0:a};y.getNames=function(){return this.$names()};y=Opal.Asciidoctor.Callouts;y.create=function(){return this.$new()};y.prototype.register=function(a){return this.$register(a)};
y.prototype.readNextId=function(){return this.$read_next_id()};y.prototype.getCalloutIds=function(a){return this.$callout_ids(a)};y.prototype.getLists=function(){var a=this.lists;if(a&&0<a.length)for(var b=0;b<a.length;b++){var k=a[b];if(k&&0<k.length)for(var l=0;l<k.length;l++)"object"===typeof k[l]&&"$$smap"in k[l]&&(k[l]=g(k[l]))}return a};y.prototype.getListIndex=function(){return this.list_index};y.prototype.getCurrentList=function(){var a=this.$current_list();if(a&&0<a.length)for(var b=0;b<
a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));return a};y.prototype.nextList=function(){return this.$nextList()};y.prototype.rewind=function(){return this.$rewind()};G.prototype.getRevisionInfo=function(){return new G.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};G.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};G.prototype.getNotitle=function(){return this.$notitle()};G.prototype.getNoheader=function(){return this.$noheader()};
G.prototype.getNofooter=function(){return this.$nofooter()};G.prototype.hasHeader=function(){return this["$header?"]()};G.prototype.playbackAttributes=function(a){if(a=q(a)){var b=a["$[]"]("attribute_entries");if(b&&Array.isArray(b)){for(var g=[],k=0;k<b.length;k++){var l=b[k];l&&"object"===typeof l&&"Object"===l.constructor.name&&(l.$name=function(){return this.name},l.$value=function(){return this.value},l.$negate=function(){return this.negate});g.push(l)}a["$[]="]("attribute_entries",g)}}this.$playback_attributes(a)};
G.prototype.deleteAttribute=function(a){return this.$delete_attribute(a)};G.prototype.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};G.prototype.restoreAttributes=function(){return this.$restore_attributes()};G.prototype.parse=function(a){return this.$parse(a)};G.prototype.getDocinfo=function(a,b){return this.$docinfo(a,b)};G.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};G.prototype.incrementAndStoreCounter=function(a,b){return this.$increment_and_store_counter(a,
b)};G.prototype.counterIncrement=G.prototype.incrementAndStoreCounter;G.prototype.counter=function(a,b){return this.$counter(a,b)};G.prototype.getSafe=function(){return this.safe};G.prototype.getCompatMode=function(){return this.compat_mode};G.prototype.getSourcemap=function(){var a=this.sourcemap;return a===Opal.nil?!1:a};G.prototype.setSourcemap=function(a){this.sourcemap=a};G.prototype.getCounters=function(){return g(this.counters)};G.prototype.getCallouts=function(){return this.$callouts()};G.prototype.getBaseDir=
function(){return this.base_dir};G.prototype.getOptions=function(){return g(this.options)};G.prototype.getOutfilesuffix=function(){return this.outfilesuffix};G.prototype.getParentDocument=function(){var a=this.parent_document;return a===Opal.nil?void 0:a};G.prototype.getReader=function(){return this.reader};G.prototype.getConverter=function(){return this.converter};G.prototype.getExtensions=function(){var a=this.extensions;return a===Opal.nil?void 0:a};y=G.Title;y.prototype.getMain=function(){return this.main};
y.prototype.getCombined=function(){return this.combined};y.prototype.getSubtitle=function(){var a=this.subtitle;return a===Opal.nil?void 0:a};y.prototype.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};y.prototype.hasSubtitle=function(){return this["$subtitle?"]()};y=Opal.Asciidoctor.Inline;y.create=function(a,b,g,k){return this.$new(a,b,g,J(k))};y.prototype.convert=function(){return this.$convert()};y.prototype.getText=function(){var a=this.$text();return a===Opal.nil?
void 0:a};y.prototype.getType=function(){return this.$type()};y.prototype.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};y.prototype.getAlt=function(){return this.$alt()};y=Opal.Asciidoctor.List;y.prototype.hasItems=function(){return this["$items?"]()};y.prototype.getItems=function(){return this.blocks};y=Opal.Asciidoctor.ListItem;y.prototype.getText=function(){return this.$text()};y.prototype.setText=function(a){return this["$text="](a)};y.prototype.hasText=function(){return this["$text?"]()};
y.prototype.getMarker=function(){return this.marker};y.prototype.setMarker=function(a){this.marker=a};y.prototype.getList=function(){return this.$list()};y.prototype.getParent=y.prototype.getList;y=Opal.Asciidoctor.Reader;y.prototype.pushInclude=function(a,b,g,k,l){return this.$push_include(a,b,g,k,q(l))};y.prototype.getCursor=function(){return this.$cursor()};y.prototype.getLines=function(){return this.$lines()};y.prototype.getString=function(){return this.$string()};y.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()};
y.prototype.isEmpty=function(){return this["$empty?"]()};y.prototype.peekLine=function(a){a=this.$peek_line(a||!1);return a===Opal.nil?void 0:a};y.prototype.readLine=function(){var a=this.$read_line();return a===Opal.nil?void 0:a};y.prototype.readLines=function(){return this.$read_lines()};y.prototype.read=function(){return this.$read()};y.prototype.advance=function(){return this.$advance()};var m=Opal.Asciidoctor.Reader.Cursor;m.prototype.getFile=function(){var a=this.file;return a===Opal.nil?void 0:
a};m.prototype.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a};m.prototype.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};m.prototype.getLineNumber=function(){return this.lineno};var Q=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=Q;Q.getLogger=function(){return this.$logger()};Q.setLogger=function(a){this["$logger="](a)};Q.newLogger=function(a,b){return A(a,b).$new()};Q.newFormatter=function(a,b){return B(a,b).$new()};
var P=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=P;P.get=function(a){return P.$constants()[a]};m=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=m;m.prototype.call=function(a,b,g,k){return this.$call(P.get(a),b,g,k)};m=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=m;m.create=function(){return this.$new()};m.prototype.getMessages=function(){for(var a=this.messages,b=[],k=0;k<
a.length;k++){var l=g(a[k]);"string"===typeof l.message?l.getText=function(){return this.message}:(l.message=g(l.message),l.getText=function(){return this.message.text});l.getSeverity=function(){return this.severity.toString()};l.getSourceLocation=function(){return this.message.source_location};b.push(l)}return b};var M=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=M;M.getLogger=function(){return Q.$logger()};M.createLogMessage=function(a,b){return M.prototype.$message_with_context(a,
q(b))};y.prototype.getLogger=M.getLogger;y.prototype.createLogMessage=M.createLogMessage;l.prototype.getLogger=M.getLogger;l.prototype.createLogMessage=M.createLogMessage;l=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=l;l.prototype.getMaxSeverity=function(){var a=this.max_severity;return a===Opal.nil?void 0:a};l.prototype.getFormatter=function(){return this.formatter};l.prototype.setFormatter=function(a){this.formatter=a};l.prototype.getLevel=function(){return this.level};
l.prototype.setLevel=function(a){this.level=a};l.prototype.getProgramName=function(){return this.progname};l.prototype.setProgramName=function(a){this.progname=a};l=Opal.const_get_qualified("::","Logger");l.prototype.add=function(a,b,g){a="string"===typeof a?P[a.toUpperCase()]:a;this.$add(a,b,g)};l.prototype.log=l.prototype.add;l.prototype.debug=function(a){this.$debug(a)};l.prototype.info=function(a){this.$info(a)};l.prototype.warn=function(a){this.$warn(a)};l.prototype.error=function(a){this.$error(a)};
l.prototype.fatal=function(a){this.$fatal(a)};l.prototype.isDebugEnabled=function(){return this["$debug?"]()};l.prototype.isInfoEnabled=function(){return this["$info?"]()};l.prototype.isWarnEnabled=function(){return this["$warn?"]()};l.prototype.isErrorEnabled=function(){return this["$error?"]()};l.prototype.isFatalEnabled=function(){return this["$fatal?"]()};l=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=l;l.create=function(){return this.$new()};l.prototype.getMaxSeverity=
function(){return this.max_severity};Opal.Asciidoctor.StopIteration=Opal.StopIteration;l=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=l;l.create=function(){return this.$new()};l.prototype.printReport=function(a,b){if(a)if("function"===typeof a.$add)var d=function(b){a.$add(1,b)};else if("function"===typeof a.log)d=a.log;else if("function"===typeof a.write)d=function(b){a.write(b,"utf-8")};else throw Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");
else d=function(a){Opal.gvars.stdout.$write(a)};b&&d("Input file: "+b);d(" Time to read and parse source: "+this.$read_parse().toFixed(2));d(" Time to convert document: "+this.$convert().toFixed(2));d(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var K=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=K;K.register=function(a,b){var d="string"===typeof a?a:a[0];if("function"===typeof b){var l=b.prototype,m=Object.getOwnPropertyNames(l);
b={};for(var p in m){var h=m[p];b[h]=l[h]}}var e=t(k,d,b,{},{format:function(a){2<=a.length&&"object"===typeof a[2]&&"$$smap"in a[2]&&(a[2]=g(a[2]));1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a},highlight:function(a){if(3<=a.length&&"object"===typeof a[3]&&"$$smap"in a[3]){var b=a[3];b=g(b);for(var d in b){var e=b[d];if("callouts"===d){var c=void 0;var f={};if(e)for(c in e=e.$$keys,e){var h=e[c].value;f[c.toString()]=h===Opal.nil?void 0:h}c=f;for(var k in c)for(f=c[k],e=0;e<f.length;e++){h=
f[e];for(var l=0;l<h.length;l++)h[l]=h[l]===Opal.nil?void 0:h[l]}b[d]=c}else b[d]=e===Opal.nil?void 0:e}a[3]=b}2<=a.length&&(a[2]=a[2]===Opal.nil?void 0:a[2]);return a}}),q;for(q in b)Object.prototype.hasOwnProperty.call(b,q)&&function(a){var d=b[a];"handlesHighlighting"===a?Opal.def(e,"$highlight?",function(){return d.call()}):"hasDocinfo"===a&&Opal.def(e,"$docinfo?",function(a){return d.apply(this,[a])})}(q);Opal.def(e,"$name",function(){return d});K.$register(e,a);return e};K.get=function(a){a=
K.$for(a);return a===Opal.nil?void 0:a};K.for=K.get;var k=Opal.const_get_qualified(K,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=k;k.prototype.registerFor=function(a){K.$register(this,a)};l=Opal.Asciidoctor.Table;l.create=function(a,b){return this.$new(a,q(b))};l.prototype.getCaption=function(){return this.caption};l.prototype.getRows=function(){return this.rows};l.prototype.getColumns=function(){return this.columns};l.prototype.getHeadRows=function(){return this.rows.head};l.prototype.hasHeadRows=
function(){return this.rows!==Opal.nil&&0<this.rows.head.length};l.prototype.getBodyRows=function(){return this.rows.body};l.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&0<this.rows.body.length};l.prototype.getFootRows=function(){return this.rows.foot};l.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&0<this.rows.foot.length};l.prototype.hasHeaderOption=function(){return this.has_header_option};l.prototype.hasFooterOption=function(){return""===this.getAttributes()["footer-option"]};
l.prototype.hasAutowidthOption=function(){return""===this.getAttributes()["autowidth-option"]};l.prototype.getRowCount=function(){return this.getAttribute("rowcount")};l.prototype.setRowCount=function(a){this.setAttribute("rowcount",a)};l.prototype.getColumnCount=function(){return this.getAttribute("colcount")};l.prototype.setColumnCount=function(a){this.setAttribute("colcount",a)};l=Opal.Asciidoctor.Table.Rows;l.create=function(a,b,g){return this.$new(a,b,g)};l.prototype.getHead=function(){return this.head};
l.prototype.getFoot=function(){return this.foot};l.prototype.getBody=function(){return this.body};l.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};l=Opal.Asciidoctor.Table.Column;l.create=function(a,b,g){return this.$new(a,b,q(g))};l.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")};l.prototype.getWidth=function(){return this.getAttribute("width")};l.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")};
l.prototype.getVerticalAlign=function(){return this.getAttribute("valign")};l.prototype.getStyle=function(){var a=this.style;return a===Opal.nil?void 0:a};l=Opal.Asciidoctor.Table.Cell;l.create=function(a,b,g,k){return this.$new(a,b,q(g),q(k))};l.prototype.getColumnSpan=function(){var a=this.colspan;return a===Opal.nil?void 0:a};l.prototype.setColumnSpan=function(a){return this["$colspan="](a)};l.prototype.getRowSpan=function(){var a=this.rowspan;return a===Opal.nil?void 0:a};l.prototype.setRowSpan=
function(a){return this["$rowspan="](a)};l.prototype.getContent=function(){return this.$content()};l.prototype.getText=function(){return this.$text()};l.prototype.getSource=function(){return this.$source()};l.prototype.getLines=function(){return this.$lines()};l.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};l.prototype.getFile=function(){var a=this.$file();return a===Opal.nil?void 0:a};l.prototype.getStyle=function(){var a=this.$style();return a===Opal.nil?
void 0:a};l.prototype.getColumn=function(){var a=this.$column();return a===Opal.nil?void 0:a};l.prototype.getWidth=function(){return this.getAttribute("width")};l.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")};l.prototype.getInnerDocument=function(){var a=this.inner_document;return a===Opal.nil?void 0:a};if(l=Opal.Asciidoctor.Converter.TemplateConverter)Opal.Asciidoctor.TemplateConverter=l,l.create=function(a,b,g){g&&g.template_cache&&(g.template_cache=q(g.template_cache));
this.$new(a,b,q(g))},l.getCache=function(){var a=g(this.caches);if(a){if(a.scans){a.scans=g(a.scans);for(var b in a.scans)a.scans[b]=g(a.scans[b])}a.templates&&(a.templates=g(a.templates))}return a},l.clearCache=function(){this.$clear_caches()},l.prototype.convert=function(a,b,g){return this.$convert(a,b,q(g))},l.prototype.handles=function(a){return this["$handles?"](a)},l.prototype.getTemplates=function(){return g(this.$templates())},l.prototype.register=function(a,b){return this.$register(a,b)},
l={registry:{}},Opal.Asciidoctor.TemplateEngine=l,l.register=function(a,b){if("string"===typeof a)this.registry[a]=b;else for(var d=0;d<a.length;d++)this.registry[a[d]]=b};var sa=function(a){a.$$arity=a.length;return a},S=function(a,b,g,k){return"object"===typeof g||g.$$is_class?a["$"+b](g,k):Opal.send(a,b,k&&[k],sa(g))},D=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=D;D.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,
"create",null,sa(a)):"function"===typeof b?Opal.send(this,"create",[a],sa(b)):this.$create()};D.register=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"register",null,sa(a)):Opal.send(this,"register",[a],sa(b))};D.getGroups=function(){return g(this.$groups())};D.unregisterAll=function(){this.$unregister_all()};D.unregister=function(){for(var a=Array.prototype.concat.apply([],arguments),b=this.$groups(),g={},k=0,l=b.$$keys;k<l.length;k++){var m=l[k];g[m.toString()]=
m}for(k=0;k<a.length;k++)l=a[k],l in g&&Opal.hash_delete(b,g[l])};l=D.Registry;l.prototype.getGroups=D.getGroups;l.prototype.unregisterAll=function(){this.groups=Opal.hash()};l.prototype.unregister=D.unregister;l.prototype.prefer=function(a,b){1===arguments.length&&(b=a,a=null);return"object"===typeof b||b.$$is_class?this.$prefer(a,b):Opal.send(this,"prefer",a&&[a],sa(b))};l.prototype.block=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"block",b,a)};l.prototype.inlineMacro=function(a,
b){1===arguments.length&&(b=a,a=null);return S(this,"inline_macro",b,a)};l.prototype.includeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"include_processor",b,a)};l.prototype.blockMacro=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"block_macro",b,a)};l.prototype.treeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"tree_processor",b,a)};l.prototype.postprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"postprocessor",
b,a)};l.prototype.preprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"preprocessor",b,a)};l.prototype.docinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"docinfo_processor",b,a)};l.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()};l.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()};l.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()};l.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()};
l.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};l.prototype.hasBlocks=function(){return this["$blocks?"]()};l.prototype.hasBlockMacros=function(){return this["$block_macros?"]()};l.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()};l.prototype.getPreprocessors=function(){return this.$preprocessors()};l.prototype.getTreeProcessors=function(){return this.$tree_processors()};l.prototype.getIncludeProcessors=function(){return this.$include_processors()};
l.prototype.getPostprocessors=function(){return this.$postprocessors()};l.prototype.getDocinfoProcessors=function(a){return this.$docinfo_processors(a)};l.prototype.getBlocks=function(){return this.block_extensions.$values()};l.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()};l.prototype.getInlineMacros=function(){return this.$inline_macros()};l.prototype.getInlineMacroFor=function(a){a=this["$registered_for_inline_macro?"](a);return!1===a?void 0:a};l.prototype.getBlockFor=
function(a,b){if("undefined"===typeof b)return a=this.$find_block_extension(a),a===Opal.nil?void 0:a;a=this["$registered_for_block?"](a,b);return!1===a?void 0:a};l.prototype.getBlockMacroFor=function(a){a=this["$registered_for_block_macro?"](a);return!1===a?void 0:a};l=D.Processor;l.prototype.prepend=function(){this.$option("position",">>")};l.prototype.process=function(a){a=new Proxy(a,{apply:function(a,b,k){for(var d=0;d<k.length;d++)"object"===typeof k[d]&&"$$smap"in k[d]&&(k[d]=g(k[d]));return a.apply(b,
k)}});return Opal.send(this,"process",null,sa(a))};l.prototype.named=function(a){return this.$named(a)};l.prototype.createBlock=function(a,b,g,k,l){return this.$create_block(a,b,g,q(k),q(l))};l.prototype.createList=function(a,b,g){return this.$create_list(a,b,q(g))};l.prototype.createListItem=function(a,b){return this.$create_list_item(a,b)};l.prototype.createImageBlock=function(a,b,g){return this.$create_image_block(a,q(b),q(g))};l.prototype.createParagraph=function(a,b,g,k){return this.$create_paragraph(a,
b,q(g),q(k))};l.prototype.createOpenBlock=function(a,b,g,k){return this.$create_open_block(a,b,q(g),q(k))};l.prototype.createExampleBlock=function(a,b,g,k){return this.$create_example_block(a,b,q(g),q(k))};l.prototype.createPassBlock=function(a,b,g,k){return this.$create_pass_block(a,b,q(g),q(k))};l.prototype.createListingBlock=function(a,b,g,k){return this.$create_listing_block(a,b,q(g),q(k))};l.prototype.createLiteralBlock=function(a,b,g,k){return this.$create_literal_block(a,b,q(g),q(k))};l.prototype.createAnchor=
function(a,b,g){g&&g.attributes&&(g.attributes=q(g.attributes));return this.$create_anchor(a,b,q(g))};l.prototype.createInlinePass=function(a,b,g){g&&g.attributes&&(g.attributes=q(g.attributes));return this.$create_inline_pass(a,b,q(g))};l.prototype.createInline=function(a,b,g,k){k&&k.attributes&&(k.attributes=q(k.attributes));return this.$create_inline(a,b,g,q(k))};l.prototype.parseContent=function(a,b,g){return this.$parse_content(a,b,g)};l.prototype.parseAttributes=function(a,b,k){k&&k.attributes&&
(k.attributes=q(k.attributes));return g(this.$parse_attributes(a,b,q(k)))};l.prototype.positionalAttributes=function(a){return this.$positional_attrs(a)};l.prototype.resolveAttributes=function(a){return"object"!==typeof a||Array.isArray(a)?1<arguments.length?this.$resolves_attributes(Array.prototype.slice.call(arguments)):"undefined"===typeof a?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(a):this.$resolves_attributes(q(a))};l.prototype.resolvesAttributes=l.prototype.resolveAttributes;
l.prototype.getConfig=function(){return g(this.config)};l.prototype.option=function(a,b){this.$option(a,b)};l=D.BlockProcessor;l.prototype.defaultAttributes=function(a){this.$default_attributes(q(a))};l.prototype.onContext=function(a){return this.$on_context(a)};l.prototype.onContexts=function(a){return this.$on_contexts(Array.prototype.slice.call(arguments))};l.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};l.prototype.parseContentAs=function(a){this.$parse_content_as(a)};
l=D.BlockMacroProcessor;l.prototype.defaultAttributes=function(a){this.$default_attributes(q(a))};l.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};l.prototype.parseContentAs=function(a){this.$parse_content_as(a)};l=D.InlineMacroProcessor;l.prototype.defaultAttributes=function(a){this.$default_attributes(q(a))};l.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};l.prototype.parseContentAs=function(a){this.$parse_content_as(a)};l.prototype.matchFormat=
function(a){this.$match_format(a)};l.prototype.match=function(a){this.$match(a)};l=D.IncludeProcessor;l.prototype.handles=function(a){return Opal.send(this,"handles?",null,sa(a))};l.prototype.prefer=function(){this.$prefer()};D.TreeProcessor.prototype.prefer=function(){this.$prefer()};D.Postprocessor.prototype.prefer=function(){this.$prefer()};D.Preprocessor.prototype.prefer=function(){this.$prefer()};l=D.DocinfoProcessor;l.prototype.prefer=function(){this.$prefer()};l.prototype.atLocation=function(a){this.$at_location(a)};
D.createPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("Postprocessor",a,b)};D.newPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPostprocessor(a,b).$new()};D.createPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("Preprocessor",a,b)};D.newPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPreprocessor(a,b).$new()};D.createTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("TreeProcessor",
a,b)};D.newTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createTreeProcessor(a,b).$new()};D.createIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("IncludeProcessor",a,b)};D.newIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createIncludeProcessor(a,b).$new()};D.createDocinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("DocinfoProcessor",a,b)};D.newDocinfoProcessor=function(a,b){1===arguments.length&&
(b=a,a=null);return this.createDocinfoProcessor(a,b).$new()};D.createBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("BlockProcessor",a,b)};D.newBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockProcessor(a,b).$new()};D.createInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("InlineMacroProcessor",a,b)};D.newInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createInlineMacroProcessor(a,
b).$new()};D.createBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("BlockMacroProcessor",a,b)};D.newBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockMacroProcessor(a,b).$new()};var H=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=H;H.prototype.convert=function(a,b,g){return this.$convert(a,b,q(g))};H.create=function(a,b){return this.$create(a,q(b))};l=Opal.Asciidoctor.Converter.Factory;var ia=
Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=l;var X=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=X;l.register=function(a,b){var d=function(a,b){if(a.backend_traits)b.backend_traits=q(a.backend_traits);else if(a.backendTraits)b.backend_traits=q(a.backendTraits);else if(a.basebackend||a.outfilesuffix||a.filetype||a.htmlsyntax||a.supports_templates)b.backend_traits=q(Object.assign({},a.basebackend?{basebackend:a.basebackend}:{},a.outfilesuffix?
{outfilesuffix:a.outfilesuffix}:{},a.filetype?{filetype:a.filetype}:{},a.htmlsyntax?{htmlsyntax:a.htmlsyntax}:{},a.supports_templates?{supports_templates:a.supports_templates}:{}))},g=function(a,b){h(a,b,"$handles?","handles",function(){return!0})},k=function(a,b){h(a,b,"$==","==",function(a){return b===a})},l=function(a,b){h(a,b,"$send","send",function(a){var c=Array.prototype.slice.call(arguments,1),d=b["$"+a];if(d)return d.apply(b,c);throw Error("undefined method `"+a+"` for `"+b.toString()+"`");
})},h=function(a,b,d,c,e){"undefined"===typeof a[d]&&("function"===typeof a[c]?b[d]=a[c]:e&&(b[d]=e))},e=function(a){"function"!==typeof a["$respond_to?"]&&(a["$respond_to?"]=function(a){return"function"===typeof this[a]})};if("function"===typeof a){var m=t(ia,a.constructor.name,{initialize:function(b,k){var l=new a(b,k);Object.assign(this,l);d(l,this);for(var c=Object.getOwnPropertyNames(a.prototype),f=0;f<c.length;f++){var m=c[f];"constructor"!==m&&(this[m]=l[m])}"undefined"===typeof l.$convert&&
"function"===typeof l.convert&&(this.$convert=l.convert);g(l,this);h(l,this,"$composed","composed");e(this);this.super(b,k)}});m.$extend(X)}else if("object"===typeof a){"undefined"===typeof a.$convert&&"function"===typeof a.convert&&(a.$convert=a.convert);d(a,a);if(a.backend_traits){m=$jscomp.makeIterator("basebackend filetype htmlsyntax outfilesuffix supports_templates supports_templates? init_backend_traits backend_traits".split(" "));for(var r=m.next();!r.done;r=m.next())r=r.value,a["$"+r]=X.prototype["$"+
r];a.$$meta=X}g(a,a);h(a,a,"$composed","composed");k(a,a);l(a,a);e(a);m=a}b=[m].concat(b);return H.$register.apply(H,b)};l.getDefault=function(a){return this.$default(a)};l.prototype.create=function(a,b){return this.$create(a,q(b))};l.getRegistry=function(){return g(H.$registry())};l.for=function(a){a=H.$for(a);return a===Opal.nil?void 0:a};l.unregisterAll=function(){H.DefaultFactory.$$cvars["@@registry"]=q({html5:H.DefaultFactory.$$cvars["@@registry"]["$[]"]("html5")})};l=Opal.Asciidoctor.Converter.Html5Converter;
Opal.Asciidoctor.Html5Converter=l;l.create=function(){return this.$new()};l.prototype.convert=function(a,b,g){return this.$convert(a,b,g)};Opal.Asciidoctor.prototype.getVersion=function(){return"2.2.6"};return Opal.Asciidoctor});
